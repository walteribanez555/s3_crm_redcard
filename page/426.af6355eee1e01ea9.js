"use strict";(self.webpackChunkadminMonster=self.webpackChunkadminMonster||[]).push([[426],{79426:(Z,O,r)=>{r.r(O),r.d(O,{DescuentosModule:()=>F});var a=r(96814),u=r(3057),t=r(46689),n=r(56223),f=r(78645),m=r(91011),d=r(51215),p=r(23707),C=r(51468),_=r(28633);let l=(()=>{var o;class c{constructor(){this.porcentaje=!1,this.absoluto=!1}ngOnInit(){null===this.typeDesc.value&&this.typeDesc.setValue(1),1===this.typeDesc.value&&(this.porcentaje=!0),2===this.typeDesc.value&&(this.absoluto=!0)}onSelect(e){1===e?this.absoluto=!1:this.porcentaje=!1,this.typeDesc.setValue(e)}}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["switch-descuento"]],inputs:{typeDesc:"typeDesc"},decls:9,vars:2,consts:[[1,"container"],[1,"item"],["type","checkbox","name","masculino",3,"ngModel","ngModelChange","change"],["for","1"],["type","checkbox","name","femenino",3,"ngModel","ngModelChange","change"],["for","2"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"input",2),t.NdJ("ngModelChange",function(x){return i.porcentaje=x})("change",function(){return i.onSelect(1)}),t.qZA(),t.TgZ(3,"label",3),t._uU(4,"Porcentaje"),t.qZA()(),t.TgZ(5,"div",1)(6,"input",4),t.NdJ("ngModelChange",function(x){return i.absoluto=x})("change",function(){return i.onSelect(2)}),t.qZA(),t.TgZ(7,"label",5),t._uU(8,"Monetario"),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("ngModel",i.porcentaje),t.xp6(4),t.Q6J("ngModel",i.absoluto))},dependencies:[n.Wl,n.JJ,n.On],styles:["label[_ngcontent-%COMP%]{padding-left:10px}.container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;padding-left:10px;flex-wrap:wrap;gap:10px}.item[_ngcontent-%COMP%]{padding:10px 20px;border:1px solid var(--main-color);border-radius:8px;display:flex;align-items:center}input[type=checkbox][_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;width:15px;height:15px;background-color:#fff;border-radius:8px;border:1px solid #999;position:relative;cursor:pointer}input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:var(--main-color)}input[type=checkbox][_ngcontent-%COMP%]:checked:before{visibility:visible}"]}),c})(),h=(()=>{var o;class c{constructor(){this.tipo=new n.NI(null,[n.kI.required,n.kI.min(1)]),this.cantidad=new n.NI(null,[n.kI.required,n.kI.min(1)]),this.valor=new n.NI(null,[n.kI.required,n.kI.min(1)]),this.fecha_desde=new n.NI(null,[n.kI.required]),this.fecha_hasta=new n.NI(null,[n.kI.required]),this.formGroup=null,this.descuentosService=(0,t.f3M)(m.$0),this.notificacionesModalService=(0,t.f3M)(p.g)}ngOnInit(){this.formGroup=this.createForm()}createForm(){return new n.cw({tipo:this.tipo,cantidad:this.cantidad,valor:this.valor,fecha_desde:this.fecha_desde,fecha_hasta:this.fecha_hasta})}onLoadForm(){const e=new f.x,i=e.asObservable();if(!this.formGroup?.valid)return console.log(this.formGroup),void this.onError("Rellena correctamente el Formulario");let{tipo:g,cantidad:x,valor:P,fecha_desde:b,fecha_hasta:w}=this.formGroup?.value;b=b.split("-").reverse().join("-"),w=w.split("-").reverse().join("-");const D={tipo_valor:g,cantidad:x,valor:P,fecha_desde:C.T.invert_date(b),fecha_hasta:C.T.invert_date(w),status:1};this.onLoading(i),this.descuentosService.create(D).subscribe({next:y=>{e.complete(),this.onSuccess("Creada Exitosamente")},error:y=>{e.complete(),this.onError(y)},complete:()=>{}})}onSuccess(e){this.notificacionesModalService.show(e,{size:d.$u.normal,duration:3e3,positions:[d.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(e){this.notificacionesModalService.show(e,{size:d.$u.normal,duration:3e3,positions:[d.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(e){this.notificacionesModalService.show("Cargando",{size:d.$u.normal,positions:[d.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!0,notifier:e})}}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:34,vars:4,consts:[[1,"container"],[1,"list",3,"formGroup"],[1,"top"],[1,"emitir",3,"click"],[1,"field"],[1,"title"],[2,"margin-top","10px",3,"typeDesc"],["type","text","name","cantidad","formControlName","cantidad","placeholder","0"],["type","text","name","valor","formControlName","valor","placeholder","0"],[1,"row"],[3,"dateControl"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"h2"),t._uU(4,"Crear Descuento"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return i.onLoadForm()}),t._uU(6," Crear Descuento "),t.qZA()(),t._UZ(7,"hr"),t.TgZ(8,"div",4)(9,"div",5)(10,"span"),t._uU(11,"Tipo de Descuento"),t.qZA()()(),t._UZ(12,"switch-descuento",6),t.TgZ(13,"div",4)(14,"div",5)(15,"span"),t._uU(16,"Cantidad"),t.qZA()(),t._UZ(17,"input",7),t.qZA(),t.TgZ(18,"div",4)(19,"div",5)(20,"span"),t._uU(21,"Valor"),t.qZA()(),t._UZ(22,"input",8),t.qZA(),t.TgZ(23,"div",9)(24,"div",4)(25,"div",5)(26,"span"),t._uU(27,"Fecha inicial"),t.qZA()(),t._UZ(28,"input-date",10),t.qZA(),t.TgZ(29,"div",4)(30,"div",5)(31,"span"),t._uU(32,"Fecha final"),t.qZA()(),t._UZ(33,"input-date",10),t.qZA()()()()),2&e&&(t.xp6(1),t.Q6J("formGroup",i.formGroup),t.xp6(11),t.Q6J("typeDesc",i.tipo),t.xp6(16),t.Q6J("dateControl",i.fecha_desde),t.xp6(5),t.Q6J("dateControl",i.fecha_hasta))},dependencies:[_.K,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,l],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;height:calc(100vh - var(--main-header-height));flex-direction:column;padding:10px 20px;overflow-y:auto;overflow-x:hidden}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.top[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}hr[_ngcontent-%COMP%]{margin:10px;width:100%;border:1px solid gainsboro}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;padding:10px 20px;border:none;border-radius:10px;border:1px solid var(--main-color);background-color:#f04b46;color:#fff;cursor:pointer}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}.info[_ngcontent-%COMP%]{padding:0;display:grid;width:100%;grid-template-columns:1fr 1fr}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:10px;width:90%;font-size:14px;padding:10px 20px;border-radius:4px;border:1px solid gray;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid gray}.bottom[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.button-group[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}button[_ngcontent-%COMP%]{border:none;font-size:16px;border-radius:8px;background-color:#f04b46;padding:10px 20px;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc;text-align:center;display:flex;align-items:center;justify-content:center;transition:all .3s ease-in-out;position:relative}.table-data.info[_ngcontent-%COMP%]{display:block}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:10px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.table-selector[_ngcontent-%COMP%]{width:100%;height:70px;overflow:auto;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:10px}table[_ngcontent-%COMP%]{border-spacing:0px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ccc;border:1px solid var(--border-color);cursor:pointer}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:start;padding-left:20px;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:start;font-size:small;padding-left:20px}td.link[_ngcontent-%COMP%]{color:var(--main-color);text-decoration:none;cursor:pointer}td.link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);font-size:15px;font-weight:700}.servicios-data[_ngcontent-%COMP%]{width:100%}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-size:14px;padding:10px;border-radius:4px;border:1px solid gainsboro;outline:none;margin:20px}@media (max-width : 1024px){.container[_ngcontent-%COMP%]{width:100%;height:80vh;overflow-y:auto;overflow-x:hidden;padding-top:30px;padding-bottom:70px}.top[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.field[_ngcontent-%COMP%]{flex-direction:column;width:100%}.info[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),c})();function v(o,c){if(1&o){const s=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){t.CHM(s);const i=t.oxw(2);return t.KtG(i.onUpdateState(1==i.descuentos[0].status?2:1))}),t._uU(1),t.qZA()}if(2&o){const s=t.oxw(2);t.xp6(1),t.hij(" ",1==s.descuentos[0].status?"Inactivar":"Activar"," ")}}function M(o,c){if(1&o){const s=t.EpF();t.TgZ(0,"form",2)(1,"div",3)(2,"h2"),t._uU(3,"Editar Descuento"),t.qZA(),t.TgZ(4,"div",4),t.YNc(5,v,2,1,"button",5),t.TgZ(6,"button",6),t.NdJ("click",function(){t.CHM(s);const i=t.oxw();return t.KtG(i.onUpdateDescuento())}),t._uU(7," Editar Descuento "),t.qZA()()(),t._UZ(8,"hr"),t.TgZ(9,"div",7)(10,"div",8)(11,"span"),t._uU(12,"Tipo de Descuento"),t.qZA()(),t._UZ(13,"switch-descuento",9),t.qZA(),t.TgZ(14,"div",7)(15,"div",8)(16,"span"),t._uU(17,"Cantidad"),t.qZA()(),t._UZ(18,"input",10),t.qZA(),t.TgZ(19,"div",7)(20,"div",8)(21,"span"),t._uU(22,"Valor"),t.qZA()(),t._UZ(23,"input",11),t.qZA(),t.TgZ(24,"div",12)(25,"div",7)(26,"div",8)(27,"span"),t._uU(28,"Fecha inicial"),t.qZA()(),t._UZ(29,"input-date",13),t.qZA(),t.TgZ(30,"div",7)(31,"div",8)(32,"span"),t._uU(33,"Fecha final"),t.qZA()(),t._UZ(34,"input-date",13),t.qZA()()()}if(2&o){const s=t.oxw();t.Q6J("formGroup",s.editDescForm),t.xp6(5),t.Q6J("ngIf",s.descuentos),t.xp6(8),t.Q6J("typeDesc",s.tipo_valor),t.xp6(5),t.Q6J("formControl",s.cantidad),t.xp6(11),t.Q6J("dateControl",s.fecha_desde),t.xp6(5),t.Q6J("dateControl",s.fecha_hasta)}}let I=(()=>{var o;class c{constructor(){this.isReadyForm=!1,this.cantidad=null,this.descuento_id=null,this.fecha_desde=null,this.fecha_hasta=null,this.tipo_valor=null,this.valor=null,this.editDescForm=null,this.route=(0,t.f3M)(u.gz),this.descuentosService=(0,t.f3M)(m.$0),this.id_descuento=null,this.descuentos=null,this.notificacionesModalService=(0,t.f3M)(p.g)}ngOnInit(){this.route.params.subscribe(e=>{this.id_descuento=e.id,this.descuentosService.getOne(this.id_descuento).subscribe(i=>{this.descuentos=i,this.cantidad=new n.NI(i[0].cantidad,n.kI.required),this.descuento_id=new n.NI(i[0].descuento_id,n.kI.required),this.fecha_desde=new n.NI(i[0].fecha_desde.split("T")[0].split("-").reverse().join("-"),n.kI.required),this.fecha_hasta=new n.NI(i[0].fecha_hasta.split("T")[0].split("-").reverse().join("-"),n.kI.required),this.tipo_valor=new n.NI(i[0].tipo_valor,n.kI.required),this.valor=new n.NI(i[0].valor,n.kI.required),this.editDescForm=new n.cw({cantidad:this.cantidad,descuento_id:this.descuento_id,fecha_desde:this.fecha_desde,fecha_hasta:this.fecha_hasta,tipo_valor:this.tipo_valor,valor:this.valor}),this.isReadyForm=!0})})}onUpdateDescuento(){const e=new f.x,i=e.asObservable();if(!this.editDescForm?.valid)return void this.onError("Rellena correctamente el Formulario");let{cantidad:g,descuento_id:x,fecha_desde:P,fecha_hasta:b,tipo_valor:w,valor:D}=this.editDescForm.value;P=P.split("-").reverse().join("-"),b=b.split("-").reverse().join("-");const y=this.descuentos?this.descuentos[0].status:1;this.onLoading(i),this.descuentosService.update(x,{cantidad:g,fecha_desde:P,fecha_hasta:b,tipo_valor:w,valor:D,status:y}).subscribe({next:T=>{e.complete(),this.onSuccess("Actualizado correctamente")},error:T=>{e.complete(),this.onError(T)},complete:()=>{}})}onUpdateState(e){const i=new f.x,g=i.asObservable();this.onLoading(g),this.descuentosService.update(this.id_descuento,{status:e}).subscribe({next:x=>{i.complete(),this.onSuccess("Descuento Actualizado Correctamente")},error:x=>{i.complete(),this.onError(x)},complete:()=>{}})}onSuccess(e){this.notificacionesModalService.show(e,{size:d.$u.normal,duration:3e3,positions:[d.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(e){this.notificacionesModalService.show(e,{size:d.$u.normal,duration:3e3,positions:[d.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(e){this.notificacionesModalService.show("Cargando",{size:d.$u.normal,positions:[d.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!0,notifier:e})}}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:2,vars:1,consts:[[1,"container"],["class","list",3,"formGroup",4,"ngIf"],[1,"list",3,"formGroup"],[1,"top"],[1,"buttons"],["class","emiir",3,"click",4,"ngIf"],[1,"emitir",3,"click"],[1,"field"],[1,"title"],[2,"margin-top","10px",3,"typeDesc"],["type","text","name","cantidad",3,"formControl"],["type","text","name","valor","formControlName","valor"],[1,"row"],[3,"dateControl"],[1,"emiir",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,M,35,6,"form",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",i.isReadyForm))},dependencies:[a.O5,_.K,n._Y,n.Fj,n.JJ,n.JL,n.oH,n.sg,n.u,l],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;height:calc(100vh - var(--main-header-height));flex-direction:column;padding:10px 20px;overflow-y:auto;overflow-x:hidden}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.top[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}hr[_ngcontent-%COMP%]{margin:10px;width:100%;border:1px solid gainsboro}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;padding:10px 20px;border:none;border-radius:10px;border:1px solid var(--main-color);background-color:#f04b46;color:#fff;cursor:pointer}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}.info[_ngcontent-%COMP%]{padding:0;display:grid;width:100%;grid-template-columns:1fr 1fr}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:10px;width:90%;font-size:14px;padding:10px 20px;border-radius:4px;border:1px solid gray;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid gray}.bottom[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.button-group[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-between}button[_ngcontent-%COMP%]{border:none;font-size:16px;border-radius:8px;background-color:#f04b46;padding:10px 20px;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc;text-align:center;display:flex;align-items:center;justify-content:center;transition:all .3s ease-in-out;position:relative}.table-data.info[_ngcontent-%COMP%]{display:block}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;margin-bottom:10px}.loading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.table-selector[_ngcontent-%COMP%]{width:100%;height:70px;overflow:auto;display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between;margin-top:10px}table[_ngcontent-%COMP%]{border-spacing:0px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#ccc;border:1px solid var(--border-color);cursor:pointer}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:start;padding-left:20px;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:start;font-size:small;padding-left:20px}td.link[_ngcontent-%COMP%]{color:var(--main-color);text-decoration:none;cursor:pointer}td.link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-color);font-size:15px;font-weight:700}.servicios-data[_ngcontent-%COMP%]{width:100%}.item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;width:100%}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;font-size:14px;padding:10px;border-radius:4px;border:1px solid gray;outline:none;margin:20px}.buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;gap:10px}@media (max-width : 1024px){.container[_ngcontent-%COMP%]{width:100%;height:80vh;overflow-y:auto;overflow-x:hidden;padding-top:30px;padding-bottom:70px}.top[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.field[_ngcontent-%COMP%]{flex-direction:column;width:100%}.info[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),c})();var k=r(12925);let A=(()=>{var o;class c{}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["descuento-item-view"]],inputs:{descuento:"descuento"},decls:5,vars:3,consts:[["routerLinkActive","active",3,"routerLink"],[1,"status"]],template:function(e,i){1&e&&(t.TgZ(0,"a",0)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"span",1),t._uU(4),t.qZA()()),2&e&&(t.MGl("routerLink","./",i.descuento.descuento_id,""),t.xp6(2),t.Oqu(i.descuento.descuento_id),t.xp6(2),t.hij(" ",1===i.descuento.status?"Activo":"Inactivo"," "))},dependencies:[u.rH,u.Od],styles:["a[_ngcontent-%COMP%]{text-decoration:none;border:1px solid gainsboro;padding:10px 20px;font-weight:700;cursor:pointer;border-radius:5px;color:var(--text-color);width:100%;display:flex;flex-direction:row;justify-content:space-between;font-size:12px}a[_ngcontent-%COMP%]:hover{background-color:#dcdcdc;color:var(--text-color)}.active[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff}.status[_ngcontent-%COMP%]{padding:5px 10px;background:gainsboro;color:var(--text-color);border-radius:8px}@media (max-width: 1024px){.status[_ngcontent-%COMP%]{position:initial}}"]}),c})();function U(o,c){1&o&&t._UZ(0,"descuento-item-view",15),2&o&&t.Q6J("descuento",c.$implicit)}const S=[{path:"descuentos",component:(()=>{var o;class c{constructor(){this.cupones=[],this.descuentos=[],this.notificacionModalService=(0,t.f3M)(p.g),this.descuentosService=(0,t.f3M)(m.$0),this.isClicked=!1,this.isHideInfo=!1}ngOnInit(){this.loadItems()}loadItems(){const e=new f.x,i=e.asObservable();this.onLoading(i),this.descuentosService.getAll().subscribe({next:g=>{console.log({resp:g}),e.complete(),this.descuentos=g},error:g=>{e.complete(),this.onError(g)},complete:()=>{}})}onChangeClick(){this.isClicked=!this.isClicked}onClickInfo(){this.isHideInfo=!this.isHideInfo}onSuccess(e){this.notificacionModalService.show(e,{size:d.$u.normal,duration:3e3,positions:[k.i.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(e){this.notificacionModalService.show(e,{size:d.$u.normal,duration:3e3,positions:[k.i.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(e){this.notificacionModalService.show("Cargando",{size:d.$u.normal,positions:[k.i.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:e})}}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["ng-component"]],decls:25,vars:11,consts:[[1,"content"],[1,"steps"],[1,"info"],[1,"top",3,"click"],[1,"container-text"],[1,"title"],[1,"expand"],[1,"fa-solid","fa-caret-up","fa-2xl",2,"color","white"],[1,"process"],[1,"list-title"],["routerLink","./create"],[1,"list"],[3,"click"],[3,"descuento",4,"ngFor","ngForOf"],[1,"expand-info",3,"click"],[3,"descuento"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"router-outlet"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t.NdJ("click",function(){return i.onChangeClick()}),t.TgZ(5,"div",4)(6,"span",5),t._uU(7,"Descuentos"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"i",7),t.qZA()()(),t.TgZ(10,"div",8)(11,"div",9)(12,"span",5),t._uU(13,"Listado de Descuentos"),t.qZA(),t.TgZ(14,"a",10)(15,"span"),t._uU(16,"Agregar Descuento"),t.qZA()()(),t._UZ(17,"hr"),t.TgZ(18,"div",11)(19,"button",12),t.NdJ("click",function(){return i.loadItems()}),t._uU(20,"Actualizar"),t.qZA(),t.YNc(21,U,1,1,"descuento-item-view",13),t.qZA()(),t.TgZ(22,"button",14),t.NdJ("click",function(){return i.onClickInfo()}),t.TgZ(23,"span"),t._uU(24,">"),t.qZA()()()()),2&e&&(t.ekj("onDisplay",i.isClicked)("collapsed",i.isHideInfo),t.xp6(1),t.ekj("expanded",i.isHideInfo),t.xp6(2),t.ekj("active",i.isClicked)("hidden",i.isHideInfo),t.xp6(18),t.Q6J("ngForOf",i.descuentos))},dependencies:[a.sg,u.lC,u.rH,A],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100vw;height:calc(100vh - var(--main-header-height));overflow-x:hidden;overflow-y:hidden;position:relative}.steps[_ngcontent-%COMP%]{position:relative;height:calc(100vh - var(--main-header-height));width:70vw;flex-direction:column;align-items:center;justify-content:center;animation:moveToLeft 1s forwards}@keyframes _ngcontent-%COMP%_mostrarInfo{0%{right:-35%}70%{right:0%}to{right:0}}@keyframes _ngcontent-%COMP%_ocultarInfo{to{right:-30%}30%{right:-10%}0%{right:0}}.info[_ngcontent-%COMP%]{height:calc(100vh - var(--main-header-height));width:30vw;position:absolute;right:-100%;animation:_ngcontent-%COMP%_mostrarInfo 1s forwards;background:white}.top[_ngcontent-%COMP%]{height:20%;background-color:var(--main-color);padding:10px;color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:100%;padding:20px;overflow-y:auto}.process[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.container-text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;padding-left:20px}.text[_ngcontent-%COMP%], .second-text[_ngcontent-%COMP%]{font-weight:700;height:-moz-fit-content;height:fit-content;font-size:1.4em;letter-spacing:10px;width:100%;white-space:nowrap;overflow:hidden}.data-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12%;height:45%}.list-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:-moz-fit-content;height:fit-content;align-items:center;justify-content:space-between}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;height:-moz-fit-content;height:fit-content;width:100%;padding:10px;gap:5px}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;background-color:#f04b46;color:#fff;cursor:pointer;border-radius:8px;font-weight:700}hr[_ngcontent-%COMP%]{margin:10px 0;border:1px solid gainsboro}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}rol-item-view[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%]{background-color:#f04b46;color:#fff;padding:10px 20px;border-radius:8px;text-decoration:none;font-weight:700;cursor:pointer}a[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}@keyframes _ngcontent-%COMP%_cursor{50%{border-color:transparent}}@keyframes _ngcontent-%COMP%_typing{0%{width:0}}.expand[_ngcontent-%COMP%]{visibility:hidden}.expand-info[_ngcontent-%COMP%]{position:absolute;top:50%;background-color:var(--main-color);border:none;border-radius:100px;z-index:6;color:#fff;font-size:20px;padding:20px;left:-25px;font-weight:700;cursor:pointer;transition:.3s all ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;--webkit-transform: translateY(0);transform:translateY(10%)}to{opacity:1;--webkit-transform: translateY(0);transform:translateY(0)}}.steps[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden;display:none}.process[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}@media (min-width:1024px){.info[_ngcontent-%COMP%]{border:1px solid gainsboro}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:none}.progress[_ngcontent-%COMP%]{flex:1 0 35%;min-width:300px;padding:10px 30px}@keyframes moveToLeft{0%{width:100vw}to{width:70vw}}@keyframes moveToRight{0%{width:70vw}30%{width:50vw}to{width:100vw}}.info.hidden[_ngcontent-%COMP%]{right:-35%;animation:_ngcontent-%COMP%_ocultarInfo 2s forwards}.info.hidden[_ngcontent-%COMP%]   .expand-info[_ngcontent-%COMP%]{left:-100px;rotate:180deg;transition:.3s all ease-in-out}.content.collapsed[_ngcontent-%COMP%]{grid-template-columns:4fr 1fr;transition:all .3s ease-in-out}.steps.expanded[_ngcontent-%COMP%]{width:100vw;animation:moveToRight 1.2s forwards}}@media (max-width:1024px){.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:.4s all ease-in-out}.content.onDisplay[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:5;height:90vh;width:100vw;max-height:100%;inset:0;overflow-x:hidden;transition:.4s all ease-in-out}@keyframes moveToTop{0%{bottom:0%}50%{bottom:50%}to{top:100%}}.info[_ngcontent-%COMP%]{z-index:3;position:fixed;top:90%;height:10vh;width:100%;overflow:hidden;transition:.4s all ease-in-out}.steps[_ngcontent-%COMP%]{width:100vw;height:calc(90vh - var(--main-header-height));position:relative;flex-direction:column;align-items:end;justify-content:end}.steps.expanded[_ngcontent-%COMP%]{width:100vw}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{height:10vh}.info.active[_ngcontent-%COMP%]{height:100vh;top:0%;transition:.4s all ease-in-out}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:50px}.second-text[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-size:15px}.info.active[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{rotate:180deg;transition:.3s all ease-in-out}.info[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s all ease-in-out}.expand[_ngcontent-%COMP%]{visibility:visible;position:absolute;right:20px}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:90vh;background:white}.expand-info[_ngcontent-%COMP%]{visibility:hidden}}"]}),c})(),children:[{path:"create",component:h},{path:":id",component:I}]}];let z=(()=>{var o;class c{}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.Bz.forChild(S),u.Bz]}),c})();var j=r(67582),q=r(81837),J=r(91352);let F=(()=>{var o;class c{}return(o=c).\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[a.ez,z,q.m,J.I,j.D,u.Bz,n.u5,n.UX]}),c})()},28633:(Z,O,r)=>{r.d(O,{K:()=>d});var a=r(46689),u=r(51468),t=r(96814),n=r(56223);function f(p,C){if(1&p&&(a.TgZ(0,"div",5)(1,"span"),a._uU(2,"Edad"),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.qZA()()),2&p){const _=a.oxw();a.xp6(4),a.Oqu(_.ages)}}function m(p,C){if(1&p&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&p){const _=a.oxw();a.xp6(1),a.AsE(" No esta en el rango de ",_.servicio.edad_base," - ",_.servicio.edad_limite," ")}}let d=(()=>{var p;class C{constructor(){this.date=null,this.ages=null,this.isNotValidDate=!1,this.onSetValidDate=new a.vpe,this.cdr=(0,a.f3M)(a.sBO),this.datesAction=new u.T}ngOnInit(){this.dateControl?.value&&(this.date=u.T.invert_date(this.dateControl.value)),this.ageControl?.value&&(this.date=u.T.invert_date(this.ageControl.value)),this.isActionValid()}onDeleteWrite(l){"Backspace"!==l.key&&((2===this.date?.length||5===this.date?.length)&&(this.date+="-",this.cdr.detectChanges()),this.isActionValid())}isActionValid(){if(10===this.date?.length){const l=this.date.split("-");if(this.arraymove(l,0,1),this.ages=this.datesAction.yearsBetweenDates(l.join("-"),this.travelDate),this.servicio)return this.ages>this.servicio.edad_limite||this.ages<this.servicio.edad_base?(this.isNotValidDate=!0,this.onSetValidDate.emit(null),this.dateControl?.setValue(null),void this.cdr.detectChanges()):(this.isNotValidDate=!1,this.ageControl?.setValue(this.datesAction.yearsBetweenDates(l.join("-"),this.travelDate)),this.onSetValidDate.emit(this.date),this.dateControl?.setValue(this.date),void this.cdr.detectChanges());this.onSetValidDate.emit(this.date),this.dateControl?.setValue(this.date)}}arraymove(l,h,v){var M=l[h];l.splice(h,1),l.splice(v,0,M)}}return(p=C).\u0275fac=function(l){return new(l||p)},p.\u0275cmp=a.Xpm({type:p,selectors:[["input-date"]],inputs:{dateControl:"dateControl",ageControl:"ageControl",travelDate:"travelDate",servicio:"servicio"},outputs:{onSetValidDate:"onSetValidDate"},decls:5,vars:5,consts:[[1,"input-date"],["type","text","placeholder","dd-mm-yyyy","autocomplete","false",3,"ngModel","ngModelChange","keyup"],[1,"details-input"],["class","age-detail",4,"ngIf"],[4,"ngIf"],[1,"age-detail"]],template:function(l,h){1&l&&(a.TgZ(0,"div",0)(1,"input",1),a.NdJ("ngModelChange",function(M){return h.date=M})("keyup",function(M){return h.onDeleteWrite(M)}),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,f,5,1,"div",3),a.YNc(4,m,2,2,"span",4),a.qZA()()),2&l&&(a.xp6(1),a.Q6J("ngModel",h.date),a.xp6(1),a.ekj("error",h.isNotValidDate),a.xp6(1),a.Q6J("ngIf",h.ages),a.xp6(1),a.Q6J("ngIf",h.isNotValidDate))},dependencies:[t.O5,n.Fj,n.JJ,n.On],styles:["input[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid gainsboro;padding:10px 20px;color:var(--text-color);border-radius:8px}.details-input[_ngcontent-%COMP%]{display:flex;flex-direction:column}.input-date[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%}.details-input.error[_ngcontent-%COMP%]{color:red;font-weight:700}.age-detail[_ngcontent-%COMP%]{border:1px solid gainsboro;flex-direction:column;display:flex;width:-moz-fit-content;width:fit-content;margin:5px;padding:5px;border-radius:9px}"]}),C})()},51468:(Z,O,r)=>{r.d(O,{T:()=>a});class a{quantityBetweenDates(t,n){const f=new Date(t),m=new Date(n),d=Math.abs(m.getTime()-f.getTime());return Math.ceil(d/864e5)+1}yearsBetweenDates(t,n){const f=new Date(n),m=new Date(t);var d=f.getFullYear(),p=f.getMonth(),C=f.getDate(),_=m.getFullYear(),l=m.getMonth(),h=m.getDate(),v=d-_;return(l>p||l==p&&h>C)&&v--,v}static invert_date(t){return t.split("-").reverse().join("-")}}}}]);