"use strict";(self.webpackChunkadminMonster=self.webpackChunkadminMonster||[]).push([[549],{58549:(V,v,a)=>{a.r(v),a.d(v,{UsuariosModule:()=>X});var g=a(96814),d=a(3057),e=a(46689),u=a(78645),k=a(21426),S=a(93997),m=a(94664),h=a(22096),_=a(55),p=a(51215),x=a(23707);let A=(()=>{var n;class c{constructor(){this.listOficces=[]}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["item-user"]],inputs:{user:"user"},decls:12,vars:4,consts:[["routerLinkActive","active",3,"routerLink"],[1,"data"],[1,"field"],[1,"description"],[1,"status"]],template:function(t,o){1&t&&(e.TgZ(0,"a",0)(1,"div",1)(2,"div",2)(3,"span"),e._uU(4,"Usuario : "),e.qZA(),e.TgZ(5,"span",3),e._uU(6),e.qZA()(),e.TgZ(7,"div",2)(8,"span"),e._uU(9),e.qZA()()(),e.TgZ(10,"span",4),e._uU(11),e.qZA()()),2&t&&(e.MGl("routerLink","./",o.user.username+"",""),e.xp6(6),e.Oqu(o.user.username),e.xp6(3),e.Oqu(o.user.first_name+" "+o.user.last_name),e.xp6(2),e.Oqu(1===o.user.status?"Activo":"Inactivo"))},dependencies:[d.rH,d.Od],styles:["a[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;padding:10px 20px;border:1px solid gainsboro;width:100%;text-decoration:none;color:var(--text-color);cursor:pointer;font-size:12px}.data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}a[_ngcontent-%COMP%]:hover{background-color:#dcdcdc}a.active[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff}.field[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.field[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding-left:10px}.status[_ngcontent-%COMP%]{padding:5px 10px;background-color:#dcdcdc;color:var(--text-color);border:none;border-radius:8px;font-weight:700}"],changeDetection:0}),c})();function q(n,c){1&n&&e._UZ(0,"item-user",18),2&n&&e.Q6J("user",c.$implicit)}function I(n,c){1&n&&(e.TgZ(0,"span"),e._uU(1,"No se Encontro ningun Usuario con el nombre exacto"),e.qZA())}let N=(()=>{var n;class c{constructor(){this.notificacionModalService=(0,e.f3M)(x.g),this.isClicked=!1,this.isHideInfo=!1,this.searchTerm$=new u.x,this.userService=(0,e.f3M)(_.K),this.listUsers=[],this.listUsersFiltered=[]}ngOnInit(){this.searchTerm$.pipe((0,k.b)(500),(0,S.x)(),(0,m.w)(t=>t?this.userService.getUser(t):(0,h.of)(this.listUsers))).subscribe(t=>{this.listUsersFiltered=t}),this.fetchData()}onChangeClick(){this.isClicked=!this.isClicked}onClickInfo(){this.isHideInfo=!this.isHideInfo}search(t){t.target.value&&this.searchTerm$.next(t.target.value)}fetchData(){const t=new u.x,o=t.asObservable();this.onLoading(o),this.userService.getAll().subscribe(s=>{t.complete(),this.listUsers=s,this.listUsersFiltered=this.listUsers})}onSuccess(t){this.notificacionModalService.show(t,{size:p.$u.normal,duration:3e3,positions:[p.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(t){this.notificacionModalService.show(t,{size:p.$u.normal,duration:3e3,positions:[p.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(t){this.notificacionModalService.show("Cargando",{size:p.$u.normal,positions:[p.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:t})}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:29,vars:12,consts:[[1,"content"],[1,"steps"],[1,"info"],[1,"top",3,"click"],[1,"container-text"],[1,"title"],[1,"expand"],[1,"fa-solid","fa-caret-up","fa-2xl",2,"color","white"],[1,"process"],["routerLink","./post"],[1,"list"],[1,"input-search"],["type","text","placeholder","Buscar Usuario",3,"input"],[1,"fa-solid","fa-magnifying-glass"],[3,"click"],[3,"user",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"expand-info",3,"click"],[3,"user"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"router-outlet"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3),e.NdJ("click",function(){return o.onChangeClick()}),e.TgZ(5,"div",4)(6,"span",5),e._uU(7,"Lista de Usuarios"),e.qZA(),e.TgZ(8,"div",6),e._UZ(9,"i",7),e.qZA()()(),e.TgZ(10,"div",8)(11,"div",5)(12,"span"),e._uU(13,"Lista de Usuarios"),e.qZA(),e.TgZ(14,"a",9)(15,"span"),e._uU(16,"Agregar"),e.qZA()()(),e.TgZ(17,"div",10)(18,"div",11)(19,"input",12),e.NdJ("input",function(l){return o.search(l)}),e.qZA(),e._UZ(20,"i",13),e.qZA(),e._UZ(21,"hr"),e.TgZ(22,"button",14),e.NdJ("click",function(){return o.fetchData()}),e._uU(23," Actualizar "),e.qZA(),e.YNc(24,q,1,1,"item-user",15),e.YNc(25,I,2,0,"span",16),e.qZA()(),e.TgZ(26,"button",17),e.NdJ("click",function(){return o.onClickInfo()}),e.TgZ(27,"span"),e._uU(28,">"),e.qZA()()()()),2&t&&(e.ekj("onDisplay",o.isClicked)("collapsed",o.isHideInfo),e.xp6(1),e.ekj("expanded",o.isHideInfo),e.xp6(2),e.ekj("active",o.isClicked)("hidden",o.isHideInfo),e.xp6(21),e.Q6J("ngForOf",o.listUsersFiltered),e.xp6(1),e.Q6J("ngIf",0===o.listUsersFiltered.length))},dependencies:[g.sg,g.O5,d.lC,d.rH,A],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100vw;height:calc(100vh - var(--main-header-height));overflow-x:hidden;overflow-y:hidden;position:relative}.steps[_ngcontent-%COMP%]{position:relative;height:100vh;width:70vw;animation:moveToLeft 1s forwards}@keyframes _ngcontent-%COMP%_mostrarInfo{0%{right:-35%}70%{right:0%}to{right:0}}@keyframes _ngcontent-%COMP%_ocultarInfo{to{right:-30%}30%{right:-10%}0%{right:0}}.info[_ngcontent-%COMP%]{height:calc(100vh - var(--main-header-height));width:30vw;position:absolute;right:-100%;animation:_ngcontent-%COMP%_mostrarInfo 1s forwards;background:white}.top[_ngcontent-%COMP%]{height:20%;background-color:var(--main-color);padding:10px;color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:100%;padding:20px 30px;overflow-y:auto}.process[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.container-text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;padding-left:20px}.text[_ngcontent-%COMP%], .second-text[_ngcontent-%COMP%]{font-weight:700;height:-moz-fit-content;height:fit-content;font-size:1.4em;letter-spacing:10px;width:100%;white-space:nowrap;overflow:hidden}.data-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12%;height:45%}@keyframes _ngcontent-%COMP%_cursor{50%{border-color:transparent}}@keyframes _ngcontent-%COMP%_typing{0%{width:0}}.expand[_ngcontent-%COMP%]{visibility:hidden}.expand-info[_ngcontent-%COMP%]{position:absolute;top:50%;background-color:var(--main-color);border:none;border-radius:100px;z-index:6;color:#fff;font-size:20px;padding:20px;left:-25px;font-weight:700;cursor:pointer;transition:.3s all ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;--webkit-transform: translateY(0);transform:translateY(10%)}to{opacity:1;--webkit-transform: translateY(0);transform:translateY(0)}}.steps[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden;display:none}.process[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}@media (min-width:1024px){.info[_ngcontent-%COMP%]{border:1px solid gainsboro}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:none}.progress[_ngcontent-%COMP%]{flex:1 0 35%;min-width:300px;padding:10px 30px}@keyframes moveToLeft{0%{width:100vw}to{width:70vw}}@keyframes moveToRight{0%{width:70vw}30%{width:50vw}to{width:100vw}}.info.hidden[_ngcontent-%COMP%]{right:-35%;animation:_ngcontent-%COMP%_ocultarInfo 2s forwards}.info.hidden[_ngcontent-%COMP%]   .expand-info[_ngcontent-%COMP%]{left:-100px;rotate:180deg;transition:.3s all ease-in-out}.content.collapsed[_ngcontent-%COMP%]{grid-template-columns:4fr 1fr;transition:all .3s ease-in-out}.steps.expanded[_ngcontent-%COMP%]{width:100vw;animation:moveToRight 1.2s forwards}}.title[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;background-color:#f04b46;text-decoration:none;color:#fff;cursor:pointer;border:none;font-weight:700}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}hr[_ngcontent-%COMP%]{width:100%;margin:10px 0;border:1px solid gainsboro}.list[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;flex-wrap:wrap;gap:5px;margin-top:10px}.input-search[_ngcontent-%COMP%]{display:flex;position:relative}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid gainsboro;outline:none;padding:10px 40px;border-radius:9px;width:100%;color:var(--text-color)}.list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;color:#dcdcdc}@media (max-width:1024px){.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:.4s all ease-in-out}.content.onDisplay[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:5;height:90vh;width:100vw;max-height:100%;inset:0;overflow-x:hidden;transition:.4s all ease-in-out}@keyframes moveToTop{0%{bottom:0%}50%{bottom:50%}to{top:100%}}.info[_ngcontent-%COMP%]{z-index:3;position:fixed;top:90%;height:10vh;width:100%;overflow:hidden;transition:.4s all ease-in-out}.steps[_ngcontent-%COMP%]{width:100vw;height:calc(90vh - var(--main-header-height));position:relative}.steps.expanded[_ngcontent-%COMP%]{width:100vw}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{height:10vh}.info.active[_ngcontent-%COMP%]{height:100vh;top:0%;transition:.4s all ease-in-out}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:50px}.second-text[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-size:15px}.info.active[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{rotate:180deg;transition:.3s all ease-in-out}.info[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s all ease-in-out}.expand[_ngcontent-%COMP%]{visibility:visible;position:absolute;right:20px}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:90vh;background:white}.expand-info[_ngcontent-%COMP%]{visibility:hidden}.list[_ngcontent-%COMP%]{padding-bottom:40px}}"]}),c})();var r=a(56223),F=a(58504),O=a(9315),b=a(26306),J=a(7110),M=a(97826),w=a(75755);let P=(()=>{var n;class c{constructor(){this.selectionChanged=new e.vpe}changeLocation(){this.selectionChanged.emit(this.position)}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["location-rol"]],inputs:{location:"location",position:"position"},outputs:{selectionChanged:"selectionChanged"},decls:6,vars:1,consts:[[1,"card","selected",3,"click"],[1,"fa-solid","fa-globe","selected"],[1,"selected"],[1,"icon","selected",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.changeLocation()}),e._UZ(1,"i",1),e.TgZ(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e.NdJ("click",function(){return o.changeLocation()}),e._uU(5,"x"),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(o.location.rol_name))},styles:[".card[_ngcontent-%COMP%]{padding:15px 35px 15px 15px;border:1px solid gainsboro;margin:10px 20px;border-radius:10px;box-shadow:0 10px 25px #0000001a;transition:.1s all ease-in-out;display:flex;flex-direction:row;align-items:center;justify-content:center;position:relative}.card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #ff00001a;cursor:pointer;transition:.1s all ease-in-out}span[_ngcontent-%COMP%]{padding-left:20px}.card.selected[_ngcontent-%COMP%]{box-shadow:0 10px 25px #dc18181a;border:2px solid var(--main-color)}.selected[_ngcontent-%COMP%]{color:var(--main-color)}.icon[_ngcontent-%COMP%]{position:absolute;top:3px;right:5px;font-size:20px}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:5px 10px;font-size:12px}}"]}),c})(),Z=(()=>{var n;class c{constructor(){this.selectionChanged=new e.vpe}changeLocation(){this.selectionChanged.emit(this.position)}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["location-oficce"]],inputs:{location:"location",position:"position"},outputs:{selectionChanged:"selectionChanged"},decls:6,vars:1,consts:[[1,"card","selected",3,"click"],[1,"fa-solid","fa-globe","selected"],[1,"selected"],[1,"selected",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return o.changeLocation()}),e._UZ(1,"i",1),e.TgZ(2,"span",2),e._uU(3),e.qZA(),e.TgZ(4,"span",3),e.NdJ("click",function(){return o.changeLocation()}),e._uU(5,"x"),e.qZA()()),2&t&&(e.xp6(3),e.Oqu(o.location.office_name))},styles:[".card[_ngcontent-%COMP%]{padding:15px 35px 15px 15px;border:1px solid gainsboro;margin:10px 20px;border-radius:10px;box-shadow:0 10px 25px #0000001a;transition:.1s all ease-in-out;display:flex;flex-direction:row;align-items:center;justify-content:center;position:relative}.card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 25px #ff00001a;cursor:pointer;transition:.1s all ease-in-out}span[_ngcontent-%COMP%]{padding-left:20px}.card.selected[_ngcontent-%COMP%]{box-shadow:0 10px 25px #dc18181a;border:2px solid var(--main-color)}.selected[_ngcontent-%COMP%]{color:var(--main-color)}.icon[_ngcontent-%COMP%]{position:absolute;top:3px;right:5px;font-size:20px}@media (max-width: 768px){.card[_ngcontent-%COMP%]{margin:5px 10px;font-size:12px}}"]}),c})();var y=a(54698);function L(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"li",10),e.NdJ("click",function(){const s=e.CHM(i).$implicit,l=e.oxw(2);return e.KtG(l.updateActualName(s))}),e._uU(1),e.qZA()}if(2&n){const i=c.$implicit;e.xp6(1),e.Oqu(i.rol_name.toLocaleUpperCase())}}function z(n,c){if(1&n){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5),e._UZ(3,"i",6),e.TgZ(4,"input",7),e.NdJ("keyup",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.filterBySearch())})("ngModelChange",function(o){e.CHM(i);const s=e.oxw();return e.KtG(s.searchText=o)}),e.qZA()(),e.TgZ(5,"ul",8),e.YNc(6,L,2,1,"li",9),e.qZA()(),e.BQk()}if(2&n){const i=e.oxw();e.xp6(4),e.Q6J("ngModel",i.searchText),e.xp6(2),e.Q6J("ngForOf",i.filteredRoles)}}let U=(()=>{var n;class c{constructor(){this.rolService=(0,e.f3M)(M.f),this.cdr=(0,e.f3M)(e.sBO),this.Router=(0,e.f3M)(d.gz),this.isToggle=!1,this.searchInput="roles",this.searchText="",this.filteredRoles=[],this.onselectDestiny=new e.vpe,this.roles=[]}ngOnDestroy(){console.log("destruido")}ngOnChanges(t){console.log("cargado")}ngOnInit(){this.formControl&&this.formControl.registerOnChange(()=>{this.searchInput=this.formControl?.value.office_name}),this.rolService.getAll().subscribe({next:t=>{this.roles=t,this.filteredRoles=this.roles},error:t=>{},complete:()=>{}})}updateToggle(){this.isToggle=!this.isToggle}updateActualName(t){this.searchInput=t.rol_name,this.isToggle=!1,this.formControl?.setValue(t),this.onselectDestiny.emit(t),console.log({selectedRol:t}),this.cdr.detectChanges()}filterBySearch(){this.filteredRoles=this.roles.filter(t=>t.rol_name.toLowerCase().startsWith(this.searchText.toLowerCase()))}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["select-rol"]],inputs:{formControl:"formControl",onLoadForm:"onLoadForm"},outputs:{onselectDestiny:"onselectDestiny"},features:[e.TTD],decls:6,vars:4,consts:[[1,"wrapper"],[1,"select-btn",3,"click"],[1,"fa-solid","fa-chevron-down","fa-2xs"],[4,"ngIf"],[1,"content"],[1,"search"],[1,"uil","uil-search"],["spellcheck","false","type","text","placeholder","Search",3,"ngModel","keyup","ngModelChange"],[1,"options"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.NdJ("click",function(){return o.updateToggle()}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e._UZ(4,"i",2),e.qZA(),e.YNc(5,z,7,2,"ng-container",3),e.qZA()),2&t&&(e.ekj("active",o.isToggle),e.xp6(3),e.Oqu(o.searchInput),e.xp6(2),e.Q6J("ngIf",o.isToggle))},dependencies:[g.sg,g.O5,r.Fj,r.JJ,r.On],styles:[".wrapper[_ngcontent-%COMP%]{width:370px;margin:10px}.select-btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.select-btn[_ngcontent-%COMP%]{height:65px;padding:0 20px;font-size:22px;background:#fff;border-radius:7px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}.select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:31px;transition:transform .3s linear}.wrapper.active[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(-180deg)}.content[_ngcontent-%COMP%]{position:absolute;display:none;padding:20px;margin-top:15px;background:#fff;border-radius:7px;box-shadow:0 10px 25px #0000001a;z-index:2}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;left:15px;color:#999;font-size:20px;pointer-events:none;transform:translateY(-50%);position:absolute}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;width:100%;outline:none;font-size:17px;border-radius:5px;padding:0 20px 0 43px;border:1px solid gainsboro}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{padding-left:42px;border:2px solid var(--main-color)}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bfbfbf}.content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{margin-top:10px;max-height:150px;overflow-y:auto;padding-right:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--main-color);border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--main-color)}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;padding:0 13px;font-size:21px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, li.selected[_ngcontent-%COMP%]{border-radius:5px;background:rgba(255,0,0,.4)}@media (max-width: 768px){.select-btn[_ngcontent-%COMP%]{font-size:12px;height:40px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;outline:none;font-size:12px;border-radius:5px;padding:0 10px 0 23px}.select-btn[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:30px;padding:13px;font-size:12px}.wrapper[_ngcontent-%COMP%]{width:80%}}"]}),c})();function R(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"location-oficce",28),e.NdJ("selectionChanged",function(o){e.CHM(i);const s=e.oxw(2);return e.KtG(s.changeOffices(o))}),e.qZA()}if(2&n){const t=c.index;e.Q6J("location",c.$implicit)("position",t)}}function D(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"location-rol",28),e.NdJ("selectionChanged",function(o){e.CHM(i);const s=e.oxw(2);return e.KtG(s.changeRoles(o))}),e.qZA()}if(2&n){const t=c.index;e.Q6J("location",c.$implicit)("position",t)}}function j(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"form",1),e.NdJ("ngSubmit",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.submitForm())}),e.TgZ(1,"div",2)(2,"h2"),e._uU(3,"Usuario"),e.qZA(),e.TgZ(4,"div",3)(5,"button",4),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.onUpdateState(1==o.user.status?2:1))}),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e._uU(8,"Actualizar +"),e.qZA()()(),e._UZ(9,"hr"),e.TgZ(10,"div",6)(11,"div",7)(12,"label",8),e._uU(13,"Username"),e.qZA(),e._UZ(14,"input",9),e.qZA(),e.TgZ(15,"div",10)(16,"div",11)(17,"div",7)(18,"label",12),e._uU(19,"Nombres"),e.qZA(),e._UZ(20,"input",13),e.qZA(),e.TgZ(21,"div",7)(22,"label",14),e._uU(23,"Emails"),e.qZA(),e._UZ(24,"input",15),e.qZA(),e.TgZ(25,"div",7)(26,"label",16),e._uU(27,"Password"),e.qZA(),e._UZ(28,"input",17),e.qZA(),e.TgZ(29,"div",7)(30,"label"),e._uU(31,"Oficinas"),e.qZA(),e.TgZ(32,"select-office",18),e.NdJ("onselectDestiny",function(o){e.CHM(i);const s=e.oxw();return e.KtG(s.onSelectOffice(o))}),e.qZA(),e.TgZ(33,"div",19),e.YNc(34,R,1,2,"location-oficce",20),e.qZA()()(),e.TgZ(35,"div",21)(36,"div",7)(37,"label",22),e._uU(38,"Apellido(s)"),e.qZA(),e._UZ(39,"input",23),e.qZA(),e.TgZ(40,"div",7)(41,"label"),e._uU(42,"Telefono"),e.qZA(),e._UZ(43,"input-telf",24),e.qZA(),e.TgZ(44,"div",7)(45,"label",25),e._uU(46,"Confirm Password"),e.qZA(),e._UZ(47,"input",26),e.qZA(),e.TgZ(48,"div",7)(49,"label",27),e._uU(50,"Roles"),e.qZA(),e.TgZ(51,"select-rol",18),e.NdJ("onselectDestiny",function(o){e.CHM(i);const s=e.oxw();return e.KtG(s.onSelectRol(o))}),e.qZA(),e.TgZ(52,"div",19),e.YNc(53,D,1,2,"location-rol",20),e.qZA()()()()()()}if(2&n){const i=e.oxw();e.Q6J("formGroup",i.userForm),e.xp6(6),e.Oqu(1==(null==i.user?null:i.user.status)?"Deshabilitar":"Activar"),e.xp6(28),e.Q6J("ngForOf",i.oficinasSelected),e.xp6(9),e.Q6J("telfControl",i.telf_user),e.xp6(10),e.Q6J("ngForOf",i.rolesSelectd)}}let E=(()=>{var n;class c{constructor(){this.notificacionModalService=(0,e.f3M)(x.g),this.userService=(0,e.f3M)(_.K),this.rolService=(0,e.f3M)(M.f),this.oficinasService=(0,e.f3M)(J.a),this.Router=(0,e.f3M)(d.gz),this.user=null,this.telf_user=new r.NI(null,[r.kI.required]),this.rolesSelectd=[],this.oficinasSelected=[]}ngOnInit(){const t=new u.x,o=t.asObservable();this.onLoading(o),this.Router.params.subscribe(s=>{this.userService.getUser(s.id).pipe((0,m.w)(l=>{if(this.user=l[0],0===l.length)return(0,F._)("Usuario no encontrado");const C=this.user.rol_id.split(",").map(f=>this.rolService.getById(f));return(0,O.D)(C).pipe((0,b.K)(f=>(0,h.of)([])))}),(0,m.w)(l=>{this.rolesSelectd=l.flat();const C=this.user.office_id.split(",").map(f=>this.oficinasService.getById(f));return(0,O.D)(C).pipe((0,b.K)(f=>(0,h.of)([])))})).subscribe({next:l=>{t.complete(),this.oficinasSelected=l.flat(),this.userForm=new r.cw({username:new r.NI(this.user.username,[r.kI.required]),user_type:new r.NI(this.user.user_type,[r.kI.required]),password:new r.NI(null,[r.kI.required]),confirm:new r.NI(null,[r.kI.required]),first_name:new r.NI(this.user.first_name,[r.kI.required]),last_name:new r.NI(this.user.last_name,[r.kI.required]),email:new r.NI(this.user.email,[r.kI.required]),phone:new r.NI(this.user.phone,[r.kI.required]),rol_id:new r.NI("",[]),office_id:new r.NI("",[])}),this.userForm.setControl("phone",this.telf_user),console.log(this.user?.phone),this.userForm.get("phone")?.setValue(this.user?.phone)},error:l=>{this.onError(l)},complete:()=>{}})})}onSelectOffice(t){this.oficinasSelected.push(t)}onSelectRol(t){this.rolesSelectd.push(t)}changeOffices(t){this.oficinasSelected.splice(t,1)}changeRoles(t){this.rolesSelectd.splice(t,1)}submitForm(){if(this.userForm?.get("office_id")?.setValue(""+this.oficinasSelected.map(s=>s.office_id).join(",")),this.userForm?.get("rol_id")?.setValue(""+this.rolesSelectd.map(s=>s.rol_id).join(",")),!this.userForm?.valid)return console.log(this.userForm),void this.onError("Rellenar Correctamente los detalles de los usuarios");const t=new u.x,o=t.asObservable();this.onLoading(o),this.userService.updateUser(this.user.username,this.userForm?.value).subscribe({next:s=>{t.complete(),this.onSuccess("Usuario Actualizado Correctamente")},error:s=>{t.complete(),this.onError(s)},complete:()=>{}})}onUpdateState(t){const o=new u.x,s=o.asObservable();this.onLoading(s),this.userService.updateUser(this.user.username,{status:t,email:this.user?.email}).subscribe({next:l=>{o.complete(),this.onSuccess("Usuario Actualizado")},error:l=>{o.complete(),this.onError(l)},complete:()=>{}})}onSuccess(t){this.notificacionModalService.show(t,{size:p.$u.normal,duration:3e3,positions:[p.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(t){this.notificacionModalService.show(t,{size:p.$u.normal,duration:3e3,positions:[p.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(t){this.notificacionModalService.show("Cargando",{size:p.$u.normal,positions:[p.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:t})}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:1,consts:[["class","container",3,"formGroup","ngSubmit",4,"ngIf"],[1,"container",3,"formGroup","ngSubmit"],[1,"top"],[1,"buttons"],["type","button",3,"click"],["type","submit"],[1,"form"],[1,"field"],["for","username"],["readonly","","type","text","placeholder","username","formControlName","username","name","username"],[1,"grid-1-2"],[1,"left"],["for","first_name"],["type","text","placeholder","nombre(s)","formControlName","first_name","name","first_name"],["for","email"],["type","text","placeholder","email","formControlName","email","name","email"],["for","password"],["type","text","placeholder","REQUERIDO","formControlName","password","name","password"],[3,"onselectDestiny"],[1,"list-location"],[3,"location","position","selectionChanged",4,"ngFor","ngForOf"],[1,"right"],["for","last_name"],["type","text","placeholder","apellido(s)","formControlName","last_name","name","last_name"],[3,"telfControl"],["for","confirm"],["type","text","placeholder","REQUERIDO","formControlName","confirm","name","confirm"],["for",""],[3,"location","position","selectionChanged"]],template:function(t,o){1&t&&e.YNc(0,j,54,5,"form",0),2&t&&e.Q6J("ngIf",o.userForm)},dependencies:[g.sg,g.O5,w.T,P,Z,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,y.D,U],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:calc(100vh - 80px);overflow-y:auto;align-items:flex-start;justify-content:flex-start;padding:20px 20px 350px}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.top[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;flex-direction:row;justify-content:space-between}.buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-direction:row;gap:10px}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.grid-1-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;width:100%;padding:10px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;width:100%;flex-wrap:wrap;gap:10px;padding:10px;position:relative}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-color)}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid gainsboro;border-radius:8px;color:var(--text-color);font-size:16px;padding:10px 20px}hr[_ngcontent-%COMP%]{width:100%;border:1px solid gainsboro;margin:10px 0}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;background-color:#f04b46;color:#fff;font-weight:700;font-size:15px;border-radius:8px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}.list-location[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:0px;align-items:flex-start;justify-content:center}@media (max-width: 1024px){.container[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:200px;width:100%}.grid-1-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.field[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}input-telf[_ngcontent-%COMP%], select-office[_ngcontent-%COMP%]{width:100%}}"]}),c})();function Q(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"location-oficce",25),e.NdJ("selectionChanged",function(o){e.CHM(i);const s=e.oxw();return e.KtG(s.changeOffices(o))}),e.qZA()}if(2&n){const t=c.index;e.Q6J("location",c.$implicit)("position",t)}}function H(n,c){if(1&n){const i=e.EpF();e.TgZ(0,"location-rol",25),e.NdJ("selectionChanged",function(o){e.CHM(i);const s=e.oxw();return e.KtG(s.changeRoles(o))}),e.qZA()}if(2&n){const t=c.index;e.Q6J("location",c.$implicit)("position",t)}}const $=[{path:"usuario",component:N,children:[{path:"post",component:(()=>{var n;class c{constructor(){this.notificacionModalService=(0,e.f3M)(x.g),this.userService=(0,e.f3M)(_.K),this.telf_user=new r.NI(null,[r.kI.required]),this.rolesSelectd=[],this.oficinasSelected=[],this.userForm=new r.cw({username:new r.NI(null,[r.kI.required]),user_type:new r.NI("REDCARD",[r.kI.required]),password:new r.NI(null,[r.kI.required]),confirm:new r.NI(null,[r.kI.required]),first_name:new r.NI(null,[r.kI.required]),last_name:new r.NI(null,[r.kI.required]),email:new r.NI(null,[r.kI.required]),phone:new r.NI(null,[r.kI.required]),rol_id:new r.NI("",[r.kI.required]),office_id:new r.NI("",[r.kI.required])})}ngOnInit(){this.userForm.setControl("phone",this.telf_user)}onSelectOffice(t){this.oficinasSelected.push(t)}onSelectRol(t){this.rolesSelectd.push(t)}changeOffices(t){this.oficinasSelected.splice(t,1)}changeRoles(t){this.rolesSelectd.splice(t,1)}submitForm(){if(this.userForm.get("office_id")?.setValue(""+this.oficinasSelected.map(s=>s.office_id).join(",")),this.userForm.get("rol_id")?.setValue(""+this.rolesSelectd.map(s=>s.rol_id).join(",")),console.log(this.userForm.value),!this.userForm.valid)return void this.onError("Rellenar Correctamente los detalles de los usuarios");const t=new u.x,o=t.asObservable();this.onLoading(o),this.userService.createUser(this.userForm.value).subscribe({next:s=>{t.complete(),this.onSuccess("Usuario Agregado Correctamente"),this.userForm.reset()},error:s=>{t.complete(),this.onError(s)},complete:()=>{}})}onSuccess(t){this.notificacionModalService.show(t,{size:p.$u.normal,duration:3e3,positions:[p.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(t){this.notificacionModalService.show(t,{size:p.$u.normal,duration:3e3,positions:[p.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(t){this.notificacionModalService.show("Cargando",{size:p.$u.normal,positions:[p.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:t})}}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:51,vars:4,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"top"],["type","submit"],[1,"form"],[1,"field"],["for","username"],["type","text","placeholder","username","formControlName","username","name","username"],[1,"grid-1-2"],[1,"left"],["for","first_name"],["type","text","placeholder","nombre(s)","formControlName","first_name","name","first_name"],["for","email"],["type","text","placeholder","email","formControlName","email","name","email"],["for","password"],["type","text","placeholder","password","formControlName","password","name","password"],[3,"onselectDestiny"],[1,"list-location"],[3,"location","position","selectionChanged",4,"ngFor","ngForOf"],[1,"right"],["for","last_name"],["type","text","placeholder","apellido(s)","formControlName","last_name","name","last_name"],[3,"telfControl"],["for","confirm"],["type","text","placeholder","Confirm your Password","formControlName","confirm","name","confirm"],["for",""],[3,"location","position","selectionChanged"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return o.submitForm()}),e.TgZ(1,"div",1)(2,"h2"),e._uU(3,"Crear Usuario"),e.qZA(),e.TgZ(4,"button",2),e._uU(5,"Crear Nuevo Usuario +"),e.qZA()(),e._UZ(6,"hr"),e.TgZ(7,"div",3)(8,"div",4)(9,"label",5),e._uU(10,"Username"),e.qZA(),e._UZ(11,"input",6),e.qZA(),e.TgZ(12,"div",7)(13,"div",8)(14,"div",4)(15,"label",9),e._uU(16,"Nombres"),e.qZA(),e._UZ(17,"input",10),e.qZA(),e.TgZ(18,"div",4)(19,"label",11),e._uU(20,"Emails"),e.qZA(),e._UZ(21,"input",12),e.qZA(),e.TgZ(22,"div",4)(23,"label",13),e._uU(24,"Password"),e.qZA(),e._UZ(25,"input",14),e.qZA(),e.TgZ(26,"div",4)(27,"label"),e._uU(28,"Oficinas"),e.qZA(),e.TgZ(29,"select-office",15),e.NdJ("onselectDestiny",function(l){return o.onSelectOffice(l)}),e.qZA(),e.TgZ(30,"div",16),e.YNc(31,Q,1,2,"location-oficce",17),e.qZA()()(),e.TgZ(32,"div",18)(33,"div",4)(34,"label",19),e._uU(35,"Apellido(s)"),e.qZA(),e._UZ(36,"input",20),e.qZA(),e.TgZ(37,"div",4)(38,"label"),e._uU(39,"Telefono"),e.qZA(),e._UZ(40,"input-telf",21),e.qZA(),e.TgZ(41,"div",4)(42,"label",22),e._uU(43,"Confirm Password"),e.qZA(),e._UZ(44,"input",23),e.qZA(),e.TgZ(45,"div",4)(46,"label",24),e._uU(47,"Roles"),e.qZA(),e.TgZ(48,"select-rol",15),e.NdJ("onselectDestiny",function(l){return o.onSelectRol(l)}),e.qZA(),e.TgZ(49,"div",16),e.YNc(50,H,1,2,"location-rol",17),e.qZA()()()()()()),2&t&&(e.Q6J("formGroup",o.userForm),e.xp6(31),e.Q6J("ngForOf",o.oficinasSelected),e.xp6(9),e.Q6J("telfControl",o.telf_user),e.xp6(10),e.Q6J("ngForOf",o.rolesSelectd))},dependencies:[g.sg,w.T,P,Z,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,y.D,U],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:calc(100vh - 80px);overflow-y:auto;align-items:flex-start;justify-content:flex-start;padding:20px 20px 350px}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.top[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;flex-direction:row;justify-content:space-between}.form[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.grid-1-2[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;width:100%;padding:10px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;width:100%;flex-wrap:wrap;gap:10px;padding:10px;position:relative}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-color)}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;outline:none;border:1px solid gainsboro;border-radius:8px;color:var(--text-color);font-size:16px;padding:10px 20px}hr[_ngcontent-%COMP%]{width:100%;border:1px solid gainsboro;margin:10px 0}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;background-color:#f04b46;color:#fff;font-weight:700;font-size:15px;border-radius:8px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}.list-location[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:0px;align-items:flex-start;justify-content:center}@media (max-width: 1024px){.container[_ngcontent-%COMP%]{padding-top:100px;padding-bottom:200px;width:100%}.grid-1-2[_ngcontent-%COMP%]{grid-template-columns:1fr}.field[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}input-telf[_ngcontent-%COMP%], select-office[_ngcontent-%COMP%]{width:100%}}"]}),c})()},{path:":id",component:E}]}];let G=(()=>{var n;class c{}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild($),d.Bz]}),c})();var T=a(90643),K=a(81837),Y=a(63183),B=a(24116);let X=(()=>{var n;class c{}return(n=c).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[g.ez,G,T.xc,K.m,r.UX,r.u5,T.xc,Y.OficinasModule,B.RolesModule,d.Bz]}),c})()}}]);