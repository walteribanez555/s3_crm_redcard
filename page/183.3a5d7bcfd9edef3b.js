"use strict";(self.webpackChunkadminMonster=self.webpackChunkadminMonster||[]).push([[183],{27067:(ut,fe,C)=>{C.d(fe,{G:()=>X});var c=C(46689),s=C(56223),l=C(54698);let re=(()=>{var x;class I{constructor(){this.cdr=(0,c.f3M)(c.sBO),this.elementRef=(0,c.f3M)(c.SBq),this.selectedOfice=new s.NI(null,[s.kI.required]),this.closeEvent=new c.vpe,this.submitEvent=new c.vpe}ngOnInit(){}close(){this.elementRef.nativeElement.remove(),this.closeEvent.emit()}submit(){this.elementRef.nativeElement.remove(),this.submitEvent.emit(this.selectedOfice.value)}onSelect(w){this.selectedOfice.setValue(w)}}return(x=I).\u0275fac=function(w){return new(w||x)},x.\u0275cmp=c.Xpm({type:x,selectors:[["office-selector-modal"]],inputs:{offices:"offices"},outputs:{closeEvent:"closeEvent",submitEvent:"submitEvent"},decls:11,vars:1,consts:[[1,"modal"],[1,"modal-header"],[1,"modal-close",3,"click"],[1,"modal-content"],[3,"defaultOficces","onselectDestiny"],[1,"modal-footer"],[3,"click"],[1,"modal-backdrop",3,"click"]],template:function(w,A){1&w&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2," Selecciona tu Oficina "),c.TgZ(3,"span",2),c.NdJ("click",function(){return A.close()}),c._uU(4,"x"),c.qZA()(),c.TgZ(5,"div",3)(6,"select-office",4),c.NdJ("onselectDestiny",function(g){return A.onSelect(g)}),c.qZA()(),c.TgZ(7,"div",5)(8,"button",6),c.NdJ("click",function(){return A.submit()}),c._uU(9,"Submit"),c.qZA()()(),c.TgZ(10,"div",7),c.NdJ("click",function(){return A.close()}),c.qZA()),2&w&&(c.xp6(6),c.Q6J("defaultOficces",A.offices))},dependencies:[l.D],styles:[".modal-backdrop[_ngcontent-%COMP%]{width:100%;height:100%;background-color:#0006;position:absolute;inset:0;z-index:2;display:flex;justify-content:center;align-items:center}.modal[_ngcontent-%COMP%]{z-index:3;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:500px;height:auto;border:olive 1px solid;background-color:#fff;border-radius:5px;padding:20px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:18px;margin-bottom:20px}.modal-content[_ngcontent-%COMP%]{margin-bottom:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.modal-close[_ngcontent-%COMP%]{cursor:pointer}button[_ngcontent-%COMP%]{background-color:#f04b46;color:#fff;padding:10px 20px;border:none;border-radius:8px;font-size:12px;width:100%;font-weight:700;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}select-office[_ngcontent-%COMP%]{width:100%}@media (max-width:1024px){.modal[_ngcontent-%COMP%]{width:80%}}"]}),I})();var D=C(96814),_=C(78645);let X=(()=>{var x;class I{constructor(w){this.documet=w,this.resolser=(0,c.f3M)(c._Vd),this.injector=(0,c.f3M)(c.zs3)}open(w){const R=this.resolser.resolveComponentFactory(re).create(this.injector);return console.log({offices:w.listOficces}),R.instance.offices=w.listOficces,R.instance.closeEvent.subscribe(()=>{this.closeModal()}),R.instance.submitEvent.subscribe(g=>{this.submitModal(g)}),R.hostView.detectChanges(),this.documet.body.appendChild(R.location.nativeElement),this.modalNotifier=new _.x,this.modalNotifier.asObservable()}closeModal(){this.modalNotifier?.complete()}submitModal(w){this.modalNotifier?.next(w),this.closeModal()}}return(x=I).\u0275fac=function(w){return new(w||x)(c.LFG(D.K0))},x.\u0275prov=c.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),I})()},54698:(ut,fe,C)=>{C.d(fe,{D:()=>x});var c=C(46689),s=C(3057),l=C(7110),re=C(96814),D=C(56223);function _(I,F){if(1&I){const w=c.EpF();c.TgZ(0,"li",10),c.NdJ("click",function(){const g=c.CHM(w).$implicit,Se=c.oxw(2);return c.KtG(Se.updateActualName(g))}),c._uU(1),c.qZA()}if(2&I){const w=F.$implicit;c.xp6(1),c.Oqu(w.office_name.toLocaleUpperCase())}}function X(I,F){if(1&I){const w=c.EpF();c.ynx(0),c.TgZ(1,"div",4)(2,"div",5),c._UZ(3,"i",6),c.TgZ(4,"input",7),c.NdJ("keyup",function(){c.CHM(w);const R=c.oxw();return c.KtG(R.filterBySearch())})("ngModelChange",function(R){c.CHM(w);const g=c.oxw();return c.KtG(g.searchText=R)}),c.qZA()(),c.TgZ(5,"ul",8),c.YNc(6,_,2,1,"li",9),c.qZA()(),c.BQk()}if(2&I){const w=c.oxw();c.xp6(4),c.Q6J("ngModel",w.searchText),c.xp6(2),c.Q6J("ngForOf",w.filteredOffices)}}let x=(()=>{var I;class F{constructor(){this.oficinaService=(0,c.f3M)(l.a),this.cdr=(0,c.f3M)(c.sBO),this.Router=(0,c.f3M)(s.gz),this.defaultOficces=[],this.isToggle=!1,this.searchInput="oficinas",this.searchText="",this.filteredOffices=[],this.onselectDestiny=new c.vpe,this.offices=[]}ngOnChanges(A){console.log({ofices:this.defaultOficces})}ngOnInit(){this.cdr.detectChanges(),this.formControl&&(this.formControl.registerOnChange(()=>{this.searchInput=this.formControl?.value.office_name}),this.cdr.detectChanges()),this.defaultOficces&&this.defaultOficces.length>0?(this.offices=this.defaultOficces,this.filteredOffices=this.defaultOficces,this.cdr.detectChanges()):this.oficinaService.getAll().subscribe({next:A=>{this.cdr.detectChanges(),this.offices=A,this.filteredOffices=this.offices,this.cdr.detectChanges()},error:A=>{},complete:()=>{}})}updateToggle(){this.isToggle=!this.isToggle,this.cdr.detectChanges()}updateActualName(A){this.searchInput=A.office_name,this.isToggle=!1,this.formControl?.setValue(A),this.onselectDestiny.emit(A),console.log({selectedOficce:A}),this.cdr.detectChanges()}filterBySearch(){this.filteredOffices=this.offices.filter(A=>A.office_name.toLowerCase().startsWith(this.searchText.toLowerCase())),this.cdr.detectChanges()}}return(I=F).\u0275fac=function(A){return new(A||I)},I.\u0275cmp=c.Xpm({type:I,selectors:[["select-office"]],inputs:{defaultOficces:"defaultOficces",formControl:"formControl",onLoadForm:"onLoadForm"},outputs:{onselectDestiny:"onselectDestiny"},features:[c.TTD],decls:6,vars:4,consts:[[1,"wrapper"],[1,"select-btn",3,"click"],[1,"fa-solid","fa-chevron-down","fa-2xs"],[4,"ngIf"],[1,"content"],[1,"search"],[1,"uil","uil-search"],["spellcheck","false","type","text","placeholder","Search",3,"ngModel","keyup","ngModelChange"],[1,"options"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(A,R){1&A&&(c.TgZ(0,"div",0)(1,"div",1),c.NdJ("click",function(){return R.updateToggle()}),c.TgZ(2,"span"),c._uU(3),c.qZA(),c._UZ(4,"i",2),c.qZA(),c.YNc(5,X,7,2,"ng-container",3),c.qZA()),2&A&&(c.ekj("active",R.isToggle),c.xp6(3),c.Oqu(R.searchInput),c.xp6(2),c.Q6J("ngIf",R.isToggle))},dependencies:[re.sg,re.O5,D.Fj,D.JJ,D.On],styles:[".wrapper[_ngcontent-%COMP%]{width:370px;margin:10px}.select-btn[_ngcontent-%COMP%], li[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer}.select-btn[_ngcontent-%COMP%]{height:65px;padding:0 20px;font-size:22px;background:#fff;border-radius:7px;justify-content:space-between;box-shadow:0 10px 25px #0000001a}.select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:31px;transition:transform .3s linear}.wrapper.active[_ngcontent-%COMP%]   .select-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:rotate(-180deg)}.content[_ngcontent-%COMP%]{position:absolute;display:none;padding:20px;margin-top:15px;background:#fff;border-radius:7px;box-shadow:0 10px 25px #0000001a;z-index:2}.wrapper.active[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{position:relative}.search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{top:50%;left:15px;color:#999;font-size:20px;pointer-events:none;transform:translateY(-50%);position:absolute}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;width:100%;outline:none;font-size:17px;border-radius:5px;padding:0 20px 0 43px;border:1px solid gainsboro}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{padding-left:42px;border:2px solid var(--main-color)}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#bfbfbf}.content[_ngcontent-%COMP%]   .options[_ngcontent-%COMP%]{margin-top:10px;max-height:150px;overflow-y:auto;padding-right:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--main-color);border-radius:25px}.options[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--main-color)}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:50px;padding:0 13px;font-size:21px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, li.selected[_ngcontent-%COMP%]{border-radius:5px;background:rgba(255,0,0,.4)}@media (max-width: 768px){.select-btn[_ngcontent-%COMP%]{font-size:12px;height:40px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:30px;outline:none;font-size:12px;border-radius:5px;padding:0 10px 0 23px}.select-btn[_ngcontent-%COMP%], .search[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px}.options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{height:30px;padding:13px;font-size:12px}.wrapper[_ngcontent-%COMP%]{width:80%}}"],changeDetection:0}),F})()},63183:(ut,fe,C)=>{C.r(fe),C.d(fe,{OficinasModule:()=>ht});var c=C(96814),s=C(3057),l=C(46689),re=C(23707),D=C(78645),_=C(94664),X=C(22096),x=C(51215),I=C(7110),F=C(90643);function w(O,L){if(1&O&&(l.TgZ(0,"a",16)(1,"div",17),l._UZ(2,"img",18),l.TgZ(3,"span"),l._uU(4),l.qZA()()()),2&O){const N=L.$implicit;l.Q6J("routerLink","./"+N.id),l.xp6(4),l.Oqu(N.data.name)}}let A=(()=>{var O;class L{constructor(){this.oficinas=[],this.oficinasService=(0,l.f3M)(I.a),this.notificacionesModalService=(0,l.f3M)(re.g),this.options={allowDrag:!1,allowDrop:!1,isExpandedField:"expanded",getNodeClone:f=>({...f.data,id:(new Date).getTime,name:`copy of ${f.data.name}`})},this.nodes=[]}ngOnInit(){this.requestToOffices()}requestToOffices(){const f=new D.x,m=f.asObservable();this.onLoading(m),this.oficinasService.getAll().pipe((0,_.w)(y=>(0,X.of)(y.map(S=>({hijos:[],...S}))))).subscribe({next:y=>{console.log(y),this.oficinas=this.ordenarArbol(y,"NO"),console.log(this.oficinas);const S=this.mapToTree(this.oficinas,this.oficinas[0].office_dep);console.log({nodosPrueba:S});const Z={name:this.oficinas[0].office_name,children:this.mapToTree(this.oficinas[0].hijos,this.oficinas[0].office_code),id:this.oficinas[0].office_id};this.nodes=[Z],f.complete()},error:()=>{f.complete(),this.onError("Error en la consulta")},complete:()=>{}})}ordenarArbol(f,m){const y=[];for(const S of f)if(S.office_dep===m){const Z=this.ordenarArbol(f,S.office_code);Z.length>0&&(S.hijos=Z),y.push(S)}return y}mapToTree(f,m){const y=[];for(const S of f)if(S.office_dep===m){const Z=this.mapToTree(S.hijos,S.office_code),H={name:S.office_name,children:Z,id:S.office_id};Z.length>0&&(H.children=Z),y.push(H)}return y}onMoveNode(f){console.log("Moved",f.node.id,"to",f.to.parent.id,"at index",f.to.index)}onSuccess(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(f){this.notificacionesModalService.show("Cargando",{size:x.$u.normal,positions:[x.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:f})}}return(O=L).\u0275fac=function(f){return new(f||O)},O.\u0275cmp=l.Xpm({type:O,selectors:[["list-oficces"]],decls:23,vars:3,consts:[[1,"top"],[1,"title"],[3,"routerLink"],[1,"input-field"],["xmlns","http://www.w3.org/2000/svg","height","24","viewBox","0 -960 960 960","width","24"],["d","M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"],["id","filter","type","text","placeholder","RedCard Assist",3,"keyup"],["filter",""],[2,"width","100%","border","1px solid gainsboro","margin","10px"],[1,"update-btn",3,"click"],[1,"fa-solid","fa-rotate-right"],[2,"padding-left","20px"],[1,"container"],[2,"margin-left","20px",3,"nodes","options","moveNode"],["tree",""],["treeNodeTemplate",""],["routerLinkActive","active",3,"routerLink"],[1,"node-item"],["src","../assets/svg/domain_FILL0_wght400_GRAD0_opsz24.svg","alt",""]],template:function(f,m){if(1&f){const y=l.EpF();l.TgZ(0,"div",0)(1,"div",1)(2,"span"),l._uU(3,"Listado de Oficinas"),l.qZA()(),l.TgZ(4,"a",2)(5,"button")(6,"span"),l._uU(7,"Agregar Oficina"),l.qZA()()()(),l.TgZ(8,"div",3),l.O4$(),l.TgZ(9,"svg",4),l._UZ(10,"path",5),l.qZA(),l.kcU(),l.TgZ(11,"input",6,7),l.NdJ("keyup",function(){l.CHM(y);const Z=l.MAs(12),H=l.MAs(20);return l.KtG(H.treeModel.filterNodes(Z.value))}),l.qZA()(),l._UZ(13,"hr",8),l.TgZ(14,"button",9),l.NdJ("click",function(){return m.requestToOffices()}),l._UZ(15,"i",10),l.TgZ(16,"span",11),l._uU(17,"Actualizar"),l.qZA()(),l.TgZ(18,"div",12)(19,"tree-root",13,14),l.NdJ("moveNode",function(Z){return m.onMoveNode(Z)}),l.YNc(21,w,5,2,"ng-template",null,15,l.W1O),l.qZA()()}2&f&&(l.xp6(4),l.Q6J("routerLink","./post"),l.xp6(15),l.Q6J("nodes",m.nodes)("options",m.options))},dependencies:[s.rH,s.Od,F.qr],styles:[".top[_ngcontent-%COMP%]{height:40px;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 250px);overflow-y:auto;padding:40px 0}tree-root[_ngcontent-%COMP%]{overflow-y:auto;height:-moz-fit-content;height:fit-content}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:.3em;height:.1em}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#efedf7;border-radius:50vw;margin-block:.1em}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--main-color);border-radius:10px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--main-color);border-radius:10px}a.active[_ngcontent-%COMP%]   .node-item[_ngcontent-%COMP%]{background-color:#dcdcdc;padding-right:20px}.input-field[_ngcontent-%COMP%]{position:relative}.input-field[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:10px;fill:var(--main-color)}input[_ngcontent-%COMP%]{width:100%;margin-top:20px;font-size:16px;border:1px solid gainsboro;padding:10px 20px;border-radius:10px;outline:none;font-weight:lighter}input[_ngcontent-%COMP%]:focus{border:1px solid gainsboro}button[_ngcontent-%COMP%]{margin:10px;padding:10px 20px;border:none;border-radius:10px;border:1px solid var(--main-color);background-color:#f04b46;color:#fff;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:700}a[_ngcontent-%COMP%]{text-decoration:none;color:var(--text-color)}a[_ngcontent-%COMP%]:link{color:var(--text-color);background-color:transparent;text-decoration:none}a[_ngcontent-%COMP%]:visited{color:var(--text-color);text-decoration:none}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:var(--text-color);background-color:transparent}@media (max-width: 1024px){.top[_ngcontent-%COMP%]{flex-direction:column;width:100%;height:-moz-fit-content;height:fit-content}}"]}),L})(),R=(()=>{var O;class L{constructor(){this.isClicked=!1,this.isHideInfo=!1}onChangeClick(){this.isClicked=!this.isClicked}onClickInfo(){this.isHideInfo=!this.isHideInfo}}return(O=L).\u0275fac=function(f){return new(f||O)},O.\u0275cmp=l.Xpm({type:O,selectors:[["ng-component"]],decls:15,vars:10,consts:[[1,"content"],[1,"steps"],[1,"info"],[1,"top",3,"click"],[1,"container-text"],[1,"title"],[1,"expand"],[1,"fa-solid","fa-caret-up","fa-2xl",2,"color","white"],[1,"process"],[2,"width","100%"],[1,"expand-info",3,"click"]],template:function(f,m){1&f&&(l.TgZ(0,"div",0)(1,"div",1),l._UZ(2,"router-outlet"),l.qZA(),l.TgZ(3,"div",2)(4,"div",3),l.NdJ("click",function(){return m.onChangeClick()}),l.TgZ(5,"div",4)(6,"span",5),l._uU(7,"Lista de Oficinas"),l.qZA(),l.TgZ(8,"div",6),l._UZ(9,"i",7),l.qZA()()(),l.TgZ(10,"div",8),l._UZ(11,"list-oficces",9),l.qZA(),l.TgZ(12,"button",10),l.NdJ("click",function(){return m.onClickInfo()}),l.TgZ(13,"span"),l._uU(14,">"),l.qZA()()()()),2&f&&(l.ekj("onDisplay",m.isClicked)("collapsed",m.isHideInfo),l.xp6(1),l.ekj("expanded",m.isHideInfo),l.xp6(2),l.ekj("active",m.isClicked)("hidden",m.isHideInfo))},dependencies:[s.lC,A],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100vw;height:calc(100vh - var(--main-header-height));overflow-x:hidden;overflow-y:hidden;position:relative}.steps[_ngcontent-%COMP%]{position:relative;height:100vh;width:70vw;animation:moveToLeft 1s forwards}@keyframes _ngcontent-%COMP%_mostrarInfo{0%{right:-35%}70%{right:0%}to{right:0}}@keyframes _ngcontent-%COMP%_ocultarInfo{to{right:-30%}30%{right:-10%}0%{right:0}}.info[_ngcontent-%COMP%]{height:calc(100vh - var(--main-header-height));width:30vw;position:absolute;right:-100%;animation:_ngcontent-%COMP%_mostrarInfo 1s forwards;background:white}.top[_ngcontent-%COMP%]{height:20%;background-color:var(--main-color);padding:10px;color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:100%;padding:20px 30px;overflow-y:auto}.process[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.container-text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;padding-left:20px}.text[_ngcontent-%COMP%], .second-text[_ngcontent-%COMP%]{font-weight:700;height:-moz-fit-content;height:fit-content;font-size:1.4em;letter-spacing:10px;width:100%;white-space:nowrap;overflow:hidden}.data-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12%;height:45%}@keyframes _ngcontent-%COMP%_cursor{50%{border-color:transparent}}@keyframes _ngcontent-%COMP%_typing{0%{width:0}}.expand[_ngcontent-%COMP%]{visibility:hidden}.expand-info[_ngcontent-%COMP%]{position:absolute;top:50%;background-color:var(--main-color);border:none;border-radius:100px;z-index:6;color:#fff;font-size:20px;padding:20px;left:-25px;font-weight:700;cursor:pointer;transition:.3s all ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;--webkit-transform: translateY(0);transform:translateY(10%)}to{opacity:1;--webkit-transform: translateY(0);transform:translateY(0)}}.steps[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden;display:none}.process[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}@media (min-width:1024px){.info[_ngcontent-%COMP%]{border:1px solid gainsboro}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:none}.progress[_ngcontent-%COMP%]{flex:1 0 35%;min-width:300px;padding:10px 30px}@keyframes moveToLeft{0%{width:100vw}to{width:70vw}}@keyframes moveToRight{0%{width:70vw}30%{width:50vw}to{width:100vw}}.info.hidden[_ngcontent-%COMP%]{right:-35%;animation:_ngcontent-%COMP%_ocultarInfo 2s forwards}.info.hidden[_ngcontent-%COMP%]   .expand-info[_ngcontent-%COMP%]{left:-100px;rotate:180deg;transition:.3s all ease-in-out}.content.collapsed[_ngcontent-%COMP%]{grid-template-columns:4fr 1fr;transition:all .3s ease-in-out}.steps.expanded[_ngcontent-%COMP%]{width:100vw;animation:moveToRight 1.2s forwards}}.title[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;background-color:#f04b46;text-decoration:none;color:#fff;cursor:pointer;border:none;font-weight:700}.title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}hr[_ngcontent-%COMP%]{width:100%;margin:10px 0;border:1px solid gainsboro}.list[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;flex-wrap:wrap;gap:5px;margin-top:10px}.input-search[_ngcontent-%COMP%]{display:flex;position:relative}.list[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid gainsboro;outline:none;padding:10px 40px;border-radius:9px;width:100%;color:var(--text-color)}.list[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:10px;left:10px;color:#dcdcdc}@media (max-width:1024px){.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:.4s all ease-in-out}.content.onDisplay[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:5;height:90vh;width:100vw;max-height:100%;inset:0;overflow-x:hidden;transition:.4s all ease-in-out}@keyframes moveToTop{0%{bottom:0%}50%{bottom:50%}to{top:100%}}.info[_ngcontent-%COMP%]{z-index:3;position:fixed;top:90%;height:10vh;width:100%;overflow:hidden;transition:.4s all ease-in-out}.steps[_ngcontent-%COMP%]{width:100vw;height:calc(90vh - var(--main-header-height));position:relative}.steps.expanded[_ngcontent-%COMP%]{width:100vw}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{height:10vh}.info.active[_ngcontent-%COMP%]{height:100vh;top:0%;transition:.4s all ease-in-out}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:50px}.second-text[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-size:15px}.info.active[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{rotate:180deg;transition:.3s all ease-in-out}.info[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s all ease-in-out}.expand[_ngcontent-%COMP%]{visibility:visible;position:absolute;right:20px}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:90vh;background:white}.expand-info[_ngcontent-%COMP%]{visibility:hidden}.list[_ngcontent-%COMP%]{padding-bottom:40px}}"]}),L})();var g=C(56223),Se=C(54698);const sn=[{path:"oficinas",component:R,children:[{path:"post",component:(()=>{var O;class L{constructor(){this.formOffice=new g.cw({office_name:new g.NI("",[g.kI.required]),country:new g.NI("",[g.kI.required]),city:new g.NI("",[g.kI.required]),phone:new g.NI("",[g.kI.required]),email:new g.NI("",[g.kI.required]),address:new g.NI("",[g.kI.required])}),this.office_dep=new g.NI("",null),this.notificacionesModalService=(0,l.f3M)(re.g),this.oficinasService=(0,l.f3M)(I.a),this.options={allowDrag:!1,allowDrop:!1,getNodeClone:f=>({...f.data,id:(new Date).getTime,name:`copy of ${f.data.name}`})},this.nodes=[]}generateOficce(){if(console.log(this.formOffice.value),!this.formOffice.valid)return void this.onError("Revise los detalles");const f=new D.x,m=f.asObservable();this.onLoading(m);const{office_name:y,country:S,city:Z,phone:H,email:Ce,address:Q,office_dep:he}=this.formOffice.value,we={office_name:y.toLocaleUpperCase().trimEnd(),email:Ce,city:Z,address:Q,country:S,phone:H,office_dep:he.office_code,status:1,office_level:he.office_level+1};this.oficinasService.post(we).subscribe({next:me=>{f.complete(),this.onSuccess("Oficina Creada Exitosamente")},error:me=>{f.complete(),this.onError("No se relleno correctamente")},complete:()=>{}})}ngOnInit(){this.formOffice.addControl("office_dep",this.office_dep)}createOffice(){this.nodes.push({name:this.formOffice.value.oficina_name,children:[]}),this.tree.treeModel.update()}onSuccess(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(f){this.notificacionesModalService.show("Cargando",{size:x.$u.normal,positions:[x.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:f})}}return(O=L).\u0275fac=function(f){return new(f||O)},O.\u0275cmp=l.Xpm({type:O,selectors:[["ng-component"]],viewQuery:function(f,m){if(1&f&&l.Gf(F.qr,5),2&f){let y;l.iGM(y=l.CRH())&&(m.tree=y.first)}},decls:42,vars:2,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"top"],[1,"title"],[1,"fa-regular","fa-building","fa-xl"],[2,"padding-left","20px"],[2,"width","90%","margin","10px","border","1px solid gainsboro"],[1,"field"],[3,"formControl"],[1,"info"],[1,"left"],["for","office_name"],["type","text","id","office_name","formControlName","office_name","placeholder","Oficina01"],["for","country"],["type","text","name","country","formControlName","country","placeholder","Bolivia"],["for","city"],["type","text","name","city","formControlName","city","placeholder","Santa Cruz"],[1,"right"],["for","phone"],["type","text","name","phone","formControlName","phone","placeholder","78140498"],["for","email"],["type","text","name","email","formControlName","email","placeholder","user@redcardassist.com"],["for","address"],["type","text","name","address","formControlName","address","placeholder","Av. San Martin"],[1,"bottom"],["type","submit"]],template:function(f,m){1&f&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return m.generateOficce()}),l.TgZ(1,"div",1)(2,"div",2),l._UZ(3,"i",3),l.TgZ(4,"span",4),l._uU(5,"Agregar Nueva Oficina"),l.qZA()()(),l._UZ(6,"hr",5),l.TgZ(7,"div",6)(8,"span"),l._uU(9,"Oficina Padre"),l.qZA(),l._UZ(10,"select-office",7),l.qZA(),l.TgZ(11,"div",8)(12,"div",9)(13,"div",6)(14,"label",10),l._uU(15,"Oficina"),l.qZA(),l._UZ(16,"input",11),l.qZA(),l.TgZ(17,"div",6)(18,"label",12),l._uU(19,"Pais"),l.qZA(),l._UZ(20,"input",13),l.qZA(),l.TgZ(21,"div",6)(22,"label",14),l._uU(23,"Ciudad"),l.qZA(),l._UZ(24,"input",15),l.qZA()(),l.TgZ(25,"div",16)(26,"div",6)(27,"label",17),l._uU(28,"Telefono"),l.qZA(),l._UZ(29,"input",18),l.qZA(),l.TgZ(30,"div",6)(31,"label",19),l._uU(32,"Correo Electronico"),l.qZA(),l._UZ(33,"input",20),l.qZA(),l.TgZ(34,"div",6)(35,"label",21),l._uU(36,"Direccion"),l.qZA(),l._UZ(37,"input",22),l.qZA()()(),l.TgZ(38,"div",23)(39,"button",24)(40,"span"),l._uU(41,"Generar nueva oficina"),l.qZA()()()()),2&f&&(l.Q6J("formGroup",m.formOffice),l.xp6(10),l.Q6J("formControl",m.office_dep))},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.oH,g.sg,g.u,Se.D],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:20px}.top[_ngcontent-%COMP%]{width:100%;padding-left:20px;padding-right:100px;height:40px;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-direction:row;border:none;background-color:var(--main-color);border-radius:10px;padding:10px 20px;color:#fff}.info[_ngcontent-%COMP%]{padding:0;display:grid;width:100%;grid-template-columns:1fr 1fr}.field[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:10px;width:90%;font-size:14px;padding:10px 20px;border-radius:4px;border:1px solid gainsboro;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid gainsboro}.bottom[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-size:16px;border-radius:8px;background-color:#f04b46;padding:10px 20px;color:#fff;cursor:pointer}.bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}.container-tree[_ngcontent-%COMP%]{display:flex;width:150px;height:80px;flex-direction:column;align-items:center;justify-content:center;background-color:#dcdcdc;margin-top:20px;border-radius:4px}@media (max-width : 1024px){.container[_ngcontent-%COMP%]{width:100%;height:80vh;position:sticky;bottom:10vh;overflow-y:auto;overflow-x:hidden;padding:0 0 70px}.top[_ngcontent-%COMP%]{margin-top:20px}.field[_ngcontent-%COMP%]{flex-direction:column;width:100%}.info[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),L})()},{path:":id",component:(()=>{var O;class L{constructor(){this.router=(0,l.f3M)(s.gz),this.oficinasService=(0,l.f3M)(I.a),this.notificacionesModalService=(0,l.f3M)(re.g),this.Router=(0,l.f3M)(s.gz),this.oficina=null,this.formOffice=new g.cw({office_name:new g.NI("",[g.kI.required]),country:new g.NI("",[g.kI.required]),city:new g.NI("",[g.kI.required]),phone:new g.NI("",[g.kI.required]),email:new g.NI("",[g.kI.required]),address:new g.NI("",[g.kI.required]),status:new g.NI(1,[g.kI.required])}),this.office_dep=new g.NI(null,null),this.options={allowDrag:!1,allowDrop:!1,getNodeClone:f=>({...f.data,id:(new Date).getTime,name:`copy of ${f.data.name}`})},this.nodes=[]}ngOnInit(){this.mapDataToForm()}mapDataToForm(){this.formOffice.addControl("office_dep",this.office_dep),this.process=new D.x,this.observerProcess=this.process.asObservable(),this.onLoading(this.observerProcess),this.router.params.subscribe(f=>{this.oficinasService.getById(f.id).subscribe({next:y=>{this.oficinasService.getAll().subscribe(S=>{this.oficina=y[0],this.formOffice.get("office_name")?.setValue(this.oficina.office_name),this.formOffice.get("country")?.setValue(this.oficina.country),this.formOffice.get("city")?.setValue(this.oficina.city),this.formOffice.get("phone")?.setValue(this.oficina.phone),this.formOffice.get("status")?.setValue(this.oficina.status),this.formOffice.get("email")?.setValue(this.oficina.email),this.formOffice.get("address")?.setValue(this.oficina.address),S.filter(H=>H.office_code===this.oficina.office_dep).length>0&&this.formOffice.get("office_dep")?.setValue(S.filter(H=>H.office_code===this.oficina.office_dep)[0]),this.process?.next(S.filter(H=>H.office_code===this.oficina.office_dep)[0]),this.process?.complete()})},error:y=>{this.process?.complete(),this.onError(y)},complete:()=>{}})})}ondelete(){const f=new D.x,m=f.asObservable();this.onLoading(m),this.oficinasService.delete(this.oficina.office_id).subscribe({next:y=>{f.complete(),this.onSuccess("Oficina Id eliminada")},error:y=>{f.complete(),this.onError(y)},complete:()=>{}})}onSuccess(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(f){this.notificacionesModalService.show("Cargando",{size:x.$u.normal,positions:[x.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:f})}updateOffice(){if(console.log(this.formOffice.value),!this.formOffice.valid)return void this.onError("Revise los detalles");const f=new D.x,m=f.asObservable();this.onLoading(m);const{office_name:y,country:S,city:Z,phone:H,email:Ce,address:Q,office_dep:he,status:we}=this.formOffice.value,me={office_name:y.toLocaleUpperCase().trimEnd(),email:Ce,city:Z,address:Q,country:S,phone:H,office_dep:he.office_code,status:we,office_level:he.office_level+1};this.oficinasService.update(this.oficina.office_id,me).subscribe({next:le=>{f.complete(),this.onSuccess("Oficina Actualizada Correctamente")},error:le=>{f.complete(),this.onError("No se relleno correctamente")},complete:()=>{}})}createOffice(){this.nodes.push({name:this.formOffice.value.oficina_name,children:[]}),this.tree.treeModel.update()}changeStatus(){this.oficina.status=1==this.oficina.status?2:1,this.process=new D.x,this.observerProcess=this.process.asObservable(),this.onLoading(this.observerProcess),this.oficinasService.update(this.oficina.office_id,{status:1==this.oficina.status?1:2}).subscribe({next:f=>{this.process?.complete(),this.onSuccess("Estado Actualizado Correctamente")},error:f=>{this.process?.complete(),this.onError(f)},complete:()=>{}})}}return(O=L).\u0275fac=function(f){return new(f||O)},O.\u0275cmp=l.Xpm({type:O,selectors:[["ng-component"]],viewQuery:function(f,m){if(1&f&&l.Gf(F.qr,5),2&f){let y;l.iGM(y=l.CRH())&&(m.tree=y.first)}},decls:54,vars:5,consts:[[1,"container"],[1,"top"],[1,"title"],[1,"fa-solid","fa-building"],[1,"buttons"],[3,"click"],[1,"fa-solid","fa-trash","fa-xl"],[1,"fa-solid","fa-pencil","fa-xl"],[3,"routerLink"],[1,"form",3,"formGroup","ngSubmit"],[1,"field"],[3,"onLoadForm","formControl"],[1,"info"],[1,"left"],["for","office_name"],["type","text","id","office_name","formControlName","office_name","placeholder","Oficina01"],["for","country"],["type","text","name","country","formControlName","country","placeholder","Bolivia"],["for","city"],["type","text","name","city","formControlName","city","placeholder","Santa Cruz"],[1,"right"],["for","phone"],["type","text","name","phone","formControlName","phone","placeholder","78140498"],["for","email"],["type","text","name","email","formControlName","email","placeholder","user@redcardassist.com"],["for","address"],["type","text","name","address","formControlName","address","placeholder","Av. San Martin"],[1,"bottom"],["type","submit"]],template:function(f,m){1&f&&(l.TgZ(0,"div",0)(1,"div",1)(2,"div",2),l._UZ(3,"i",3),l.TgZ(4,"span"),l._uU(5,"Agencia"),l.qZA()(),l.TgZ(6,"div",4)(7,"button",5),l.NdJ("click",function(){return m.ondelete()}),l._UZ(8,"i",6),l.TgZ(9,"span"),l._uU(10,"Eliminar"),l.qZA()(),l.TgZ(11,"button",5),l.NdJ("click",function(){return m.changeStatus()}),l._UZ(12,"i",7),l.TgZ(13,"span"),l._uU(14),l.qZA()(),l._UZ(15,"a",8),l.qZA()(),l._UZ(16,"hr"),l.TgZ(17,"form",9),l.NdJ("ngSubmit",function(){return m.updateOffice()}),l.TgZ(18,"div",10)(19,"span"),l._uU(20,"Oficina Padre"),l.qZA(),l._UZ(21,"select-office",11),l.qZA(),l.TgZ(22,"div",12)(23,"div",13)(24,"div",10)(25,"label",14),l._uU(26,"Oficina"),l.qZA(),l._UZ(27,"input",15),l.qZA(),l.TgZ(28,"div",10)(29,"label",16),l._uU(30,"Pais"),l.qZA(),l._UZ(31,"input",17),l.qZA(),l.TgZ(32,"div",10)(33,"label",18),l._uU(34,"Ciudad"),l.qZA(),l._UZ(35,"input",19),l.qZA()(),l.TgZ(36,"div",20)(37,"div",10)(38,"label",21),l._uU(39,"Telefono"),l.qZA(),l._UZ(40,"input",22),l.qZA(),l.TgZ(41,"div",10)(42,"label",23),l._uU(43,"Correo Electronico"),l.qZA(),l._UZ(44,"input",24),l.qZA(),l.TgZ(45,"div",10)(46,"label",25),l._uU(47,"Direccion"),l.qZA(),l._UZ(48,"input",26),l.qZA()()(),l.TgZ(49,"div",27)(50,"button",28),l._UZ(51,"i",7),l.TgZ(52,"span"),l._uU(53,"Editar"),l.qZA()()()()()),2&f&&(l.xp6(14),l.Oqu(1==(null==m.oficina?null:m.oficina.status)?"Desactivar":"Activar"),l.xp6(1),l.Q6J("routerLink","../1/edit"),l.xp6(2),l.Q6J("formGroup",m.formOffice),l.xp6(4),l.Q6J("onLoadForm",m.observerProcess)("formControl",m.office_dep))},dependencies:[s.rH,g._Y,g.Fj,g.JJ,g.JL,g.oH,g.sg,g.u,Se.D],styles:[".container[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;padding:40px;overflow-y:auto;overflow-x:hidden;height:calc(100vh - var(--main-header-height))}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.top[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-weight:700}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}hr[_ngcontent-%COMP%]{margin:10px;width:100%;border:1px solid gainsboro}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;padding:10px 20px;border:none;border-radius:10px;border:1px solid var(--main-color);background-color:#f04b46;color:#fff;cursor:pointer}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}.info[_ngcontent-%COMP%]{padding:0;display:grid;width:100%;grid-template-columns:1fr 1fr}.field[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:10px;width:90%;font-size:14px;padding:10px 20px;border-radius:4px;border:1px solid gray;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid gray}.bottom[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-size:16px;border-radius:8px;background-color:#f04b46;padding:10px 20px;color:#fff;cursor:pointer}.bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}@media (max-width : 1024px){.container[_ngcontent-%COMP%]{width:100%;height:80vh;position:sticky;bottom:10vh;overflow-y:auto;overflow-x:hidden;padding:0 0 70px}.top[_ngcontent-%COMP%]{flex-direction:column}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:12px}.field[_ngcontent-%COMP%]{flex-direction:column;width:100%}.info[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),L})()},{path:":id/edit",component:(()=>{var O;class L{constructor(){this.formOffice=new g.cw({office_name:new g.NI("",[g.kI.required]),country:new g.NI("",[g.kI.required]),city:new g.NI("",[g.kI.required]),phone:new g.NI("",[g.kI.required]),email:new g.NI("",[g.kI.required]),address:new g.NI("",[g.kI.required])}),this.office_dep=new g.NI("",null),this.notificacionesModalService=(0,l.f3M)(re.g),this.oficinasService=(0,l.f3M)(I.a),this.options={allowDrag:!1,allowDrop:!1,getNodeClone:f=>({...f.data,id:(new Date).getTime,name:`copy of ${f.data.name}`})},this.nodes=[]}generateOficce(){if(console.log(this.formOffice.value),!this.formOffice.valid)return void this.onError("Revise los detalles");const f=new D.x,m=f.asObservable();this.onLoading(m);const{office_name:y,country:S,city:Z,phone:H,email:Ce,address:Q,office_dep:he}=this.formOffice.value,we={office_name:y.toLocaleUpperCase().trimEnd(),email:Ce,city:Z,address:Q,country:S,phone:H,office_dep:he.office_code,status:1,office_level:he.office_level+1};this.oficinasService.post(we).subscribe({next:me=>{f.complete(),this.onSuccess("Oficina Creada Exitosamente")},error:me=>{f.complete(),this.onError("No se relleno correctamente")},complete:()=>{}})}ngOnInit(){this.formOffice.addControl("office_dep",this.office_dep)}createOffice(){this.nodes.push({name:this.formOffice.value.oficina_name,children:[]}),this.tree.treeModel.update()}onSuccess(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(f){this.notificacionesModalService.show(f,{size:x.$u.normal,duration:3e3,positions:[x.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(f){this.notificacionesModalService.show("Cargando",{size:x.$u.normal,positions:[x.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:f})}}return(O=L).\u0275fac=function(f){return new(f||O)},O.\u0275cmp=l.Xpm({type:O,selectors:[["ng-component"]],viewQuery:function(f,m){if(1&f&&l.Gf(F.qr,5),2&f){let y;l.iGM(y=l.CRH())&&(m.tree=y.first)}},decls:42,vars:2,consts:[[1,"container",3,"formGroup","ngSubmit"],[1,"top"],[1,"title"],[1,"fa-regular","fa-building","fa-xl"],[2,"padding-left","20px"],[2,"width","90%","margin","10px","border","1px solid gainsboro"],[1,"field"],[3,"formControl"],[1,"info"],[1,"left"],["for","office_name"],["type","text","id","office_name","formControlName","office_name","placeholder","Oficina01"],["for","country"],["type","text","name","country","formControlName","country","placeholder","Bolivia"],["for","city"],["type","text","name","city","formControlName","city","placeholder","Santa Cruz"],[1,"right"],["for","phone"],["type","text","name","phone","formControlName","phone","placeholder","78140498"],["for","email"],["type","text","name","email","formControlName","email","placeholder","user@redcardassist.com"],["for","address"],["type","text","name","address","formControlName","address","placeholder","Av. San Martin"],[1,"bottom"],["type","submit"]],template:function(f,m){1&f&&(l.TgZ(0,"form",0),l.NdJ("ngSubmit",function(){return m.generateOficce()}),l.TgZ(1,"div",1)(2,"div",2),l._UZ(3,"i",3),l.TgZ(4,"span",4),l._uU(5,"Agregar Nueva Oficina"),l.qZA()()(),l._UZ(6,"hr",5),l.TgZ(7,"div",6)(8,"span"),l._uU(9,"Oficina Padre"),l.qZA(),l._UZ(10,"select-office",7),l.qZA(),l.TgZ(11,"div",8)(12,"div",9)(13,"div",6)(14,"label",10),l._uU(15,"Oficina"),l.qZA(),l._UZ(16,"input",11),l.qZA(),l.TgZ(17,"div",6)(18,"label",12),l._uU(19,"Pais"),l.qZA(),l._UZ(20,"input",13),l.qZA(),l.TgZ(21,"div",6)(22,"label",14),l._uU(23,"Ciudad"),l.qZA(),l._UZ(24,"input",15),l.qZA()(),l.TgZ(25,"div",16)(26,"div",6)(27,"label",17),l._uU(28,"Telefono"),l.qZA(),l._UZ(29,"input",18),l.qZA(),l.TgZ(30,"div",6)(31,"label",19),l._uU(32,"Correo Electronico"),l.qZA(),l._UZ(33,"input",20),l.qZA(),l.TgZ(34,"div",6)(35,"label",21),l._uU(36,"Direccion"),l.qZA(),l._UZ(37,"input",22),l.qZA()()(),l.TgZ(38,"div",23)(39,"button",24)(40,"span"),l._uU(41,"Actualizar oficina"),l.qZA()()()()),2&f&&(l.Q6J("formGroup",m.formOffice),l.xp6(10),l.Q6J("formControl",m.office_dep))},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.oH,g.sg,g.u,Se.D],styles:[".container[_ngcontent-%COMP%]{display:flex;width:70vw;flex-direction:column;padding:40px;overflow-y:auto;overflow-x:hidden;height:calc(100vh - var(--main-header-height))}.container[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.top[_ngcontent-%COMP%]{width:100%;padding-left:20px;padding-right:100px;height:40px;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.top[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;flex-direction:row;border:none;background-color:var(--main-color);border-radius:10px;padding:10px 20px;color:#fff}.info[_ngcontent-%COMP%]{padding:0;display:grid;width:100%;grid-template-columns:1fr 1fr}.field[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{margin-top:10px;width:90%;font-size:14px;padding:10px 20px;border-radius:4px;border:1px solid gray;outline:none}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid gray}.bottom[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;font-size:16px;border-radius:8px;background-color:#f04b46;padding:10px 20px;color:#fff;cursor:pointer}.bottom[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}.container-tree[_ngcontent-%COMP%]{display:flex;width:150px;height:80px;flex-direction:column;align-items:center;justify-content:center;background-color:#dcdcdc;margin-top:20px;border-radius:4px}@media (max-width : 1024px){.container[_ngcontent-%COMP%]{width:100%;height:80vh;position:sticky;bottom:10vh;overflow-y:auto;overflow-x:hidden;padding-bottom:70px}.top[_ngcontent-%COMP%]{margin-top:20px}.field[_ngcontent-%COMP%]{flex-direction:column;width:100%}.info[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]}),L})()}]}];let ft=(()=>{var O;class L{}return(O=L).\u0275fac=function(f){return new(f||O)},O.\u0275mod=l.oAB({type:O}),O.\u0275inj=l.cJS({imports:[s.Bz.forChild(sn),s.Bz]}),L})();var ye=C(69862),q=C(81837),_e=C(91352),Le=C(36204),ae=C(27067);let ht=(()=>{var O;class L{}return(O=L).\u0275fac=function(f){return new(f||O)},O.\u0275mod=l.oAB({type:O}),O.\u0275inj=l.cJS({providers:[ae.G],imports:[c.ez,ft,F.xc,s.Bz,g.UX,ye.JF,q.m,_e.I,Le.AuthModule,g.u5]}),L})()},90643:(ut,fe,C)=>{C.d(fe,{qr:()=>hs,xc:()=>ms});var c=C(86656),s=C(46689),l=C(96814);function _(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),t=1;t<n;t++)i[t-1]=arguments[t];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(i.length?" "+i.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var X={};function x(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:X}var I=Object.assign,F=Object.getOwnPropertyDescriptor,w=Object.defineProperty,A=Object.prototype,R=[];Object.freeze(R);var g={};Object.freeze(g);var Se=typeof Proxy<"u",on=Object.toString();function Zt(){Se||_("Proxy not available")}function ft(e){var n=!1;return function(){if(!n)return n=!0,e.apply(this,arguments)}}var ye=function(){};function q(e){return"function"==typeof e}function _e(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function Le(e){return null!==e&&"object"==typeof e}function ae(e){if(!Le(e))return!1;var n=Object.getPrototypeOf(e);if(null==n)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return"function"==typeof i&&i.toString()===on}function ht(e){var n=e?.constructor;return!!n&&("GeneratorFunction"===n.name||"GeneratorFunction"===n.displayName)}function O(e,n,i){w(e,n,{enumerable:!1,writable:!0,configurable:!0,value:i})}function L(e,n,i){w(e,n,{enumerable:!1,writable:!1,configurable:!0,value:i})}function N(e,n){var i="isMobX"+e;return n.prototype[i]=!0,function(t){return Le(t)&&!0===t[i]}}function f(e){return e instanceof Map}function m(e){return e instanceof Set}var y=typeof Object.getOwnPropertySymbols<"u",Z=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:y?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Ce(e){return null===e?null:"object"==typeof e?""+e:e}function Q(e,n){return A.hasOwnProperty.call(e,n)}var he=Object.getOwnPropertyDescriptors||function(n){var i={};return Z(n).forEach(function(t){i[t]=F(n,t)}),i};function we(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,Li(t.key),t)}}function me(e,n,i){return n&&we(e.prototype,n),i&&we(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},le.apply(this,arguments)}function an(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,It(e,n)}function It(e,n){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(e,n)}function Rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function ke(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function Ii(e,n){if(e){if("string"==typeof e)return ln(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ln(e,n)}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Li(e){var n=function Ri(e,n){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var t=i.call(e,n||"default");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:String(n)}var pe=Symbol("mobx-stored-annotations");function ce(e){return Object.assign(function n(i,t){Ye(i,t,e)},e)}function Ye(e,n,i){Q(e,pe)||O(e,pe,le({},e[pe])),function Gi(e){return e.annotationType_===dn}(i)||(e[pe][n]=i)}var b=Symbol("mobx administration"),Qe=function(){function e(i){void 0===i&&(i="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=T.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=i}var n=e.prototype;return n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},n.reportObserved=function(){return In(this)},n.reportChanged=function(){J(),Rn(this),p.stateVersion=p.stateVersion<Number.MAX_SAFE_INTEGER?p.stateVersion+1:Number.MIN_SAFE_INTEGER,z()},n.toString=function(){return this.name_},e}(),Lt=N("Atom",Qe);function cn(e,n,i){void 0===n&&(n=ye),void 0===i&&(i=ye);var t=new Qe(e);return n!==ye&&function zr(e,n,i){Jn(Gr,e,n,i)}(t,n),i!==ye&&Gn(t,i),t}var Ue={identity:function Fi(e,n){return e===n},structural:function Bi(e,n){return Wt(e,n)},default:function ji(e,n){return Object.is?Object.is(e,n):e===n?0!==e||1/e==1/n:e!=e&&n!=n},shallow:function Vi(e,n){return Wt(e,n,1)}};function Fe(e,n,i){return Jt(e)?e:Array.isArray(e)?E.array(e,{name:i}):ae(e)?E.object(e,void 0,{name:i}):f(e)?E.map(e,{name:i}):m(e)?E.set(e,{name:i}):"function"!=typeof e||Ht(e)||Mt(e)?e:ht(e)?ot(e):it(i,e)}function pt(e){return e}var dn="override";function We(e,n){return{annotationType_:e,options_:n,make_:$i,extend_:Ki}}function $i(e,n,i,t){var r;if(null!=(r=this.options_)&&r.bound)return null===this.extend_(e,n,i,!1)?0:1;if(t===e.target_)return null===this.extend_(e,n,i,!1)?0:2;if(Ht(i.value))return 1;var o=un(e,this,n,i,!1);return w(t,n,o),2}function Ki(e,n,i,t){var r=un(e,this,n,i);return e.defineProperty_(n,r,t)}function un(e,n,i,t,r){var o,a,d,u,h,v,P;void 0===r&&(r=p.safeDescriptors);var G,k=t.value;return null!=(o=n.options_)&&o.bound&&(k=k.bind(null!=(G=e.proxy_)?G:e.target_)),{value:De(null!=(a=null==(d=n.options_)?void 0:d.name)?a:i.toString(),k,null!=(u=null==(h=n.options_)?void 0:h.autoAction)&&u,null!=(v=n.options_)&&v.bound?null!=(P=e.proxy_)?P:e.target_:void 0),configurable:!r||e.isPlainObject_,enumerable:!1,writable:!r}}function fn(e,n){return{annotationType_:e,options_:n,make_:Qi,extend_:Wi}}function Qi(e,n,i,t){var r;if(t===e.target_)return null===this.extend_(e,n,i,!1)?0:2;if(null!=(r=this.options_)&&r.bound&&(!Q(e.target_,n)||!Mt(e.target_[n]))&&null===this.extend_(e,n,i,!1))return 0;if(Mt(i.value))return 1;var o=hn(e,0,0,i,!1,!1);return w(t,n,o),2}function Wi(e,n,i,t){var r,o=hn(e,0,0,i,null==(r=this.options_)?void 0:r.bound);return e.defineProperty_(n,o,t)}function hn(e,n,i,t,r,o){void 0===o&&(o=p.safeDescriptors);var d,a=t.value;return Mt(a)||(a=ot(a)),r&&((a=a.bind(null!=(d=e.proxy_)?d:e.target_)).isMobXFlow=!0),{value:a,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function kt(e,n){return{annotationType_:e,options_:n,make_:er,extend_:tr}}function er(e,n,i){return null===this.extend_(e,n,i,!1)?0:1}function tr(e,n,i,t){return e.defineComputedProperty_(n,le({},this.options_,{get:i.get,set:i.set}),t)}function gt(e,n){return{annotationType_:e,options_:n,make_:ir,extend_:rr}}function ir(e,n,i){return null===this.extend_(e,n,i,!1)?0:1}function rr(e,n,i,t){var r,o;return e.defineObservableProperty_(n,i.value,null!=(r=null==(o=this.options_)?void 0:o.enhancer)?r:Fe,t)}var sr="true",ar=pn();function pn(e){return{annotationType_:sr,options_:e,make_:lr,extend_:cr}}function lr(e,n,i,t){var r,o,d,u;if(i.get)return U.make_(e,n,i,t);if(i.set){var a=De(n.toString(),i.set);return t===e.target_?null===e.defineProperty_(n,{configurable:!p.safeDescriptors||e.isPlainObject_,set:a})?0:2:(w(t,n,{configurable:!0,set:a}),2)}if(t!==e.target_&&"function"==typeof i.value)return ht(i.value)?(null!=(u=this.options_)&&u.autoBind?ot.bound:ot).make_(e,n,i,t):(null!=(d=this.options_)&&d.autoBind?it.bound:it).make_(e,n,i,t);var k,P=!1===(null==(r=this.options_)?void 0:r.deep)?E.ref:E;return"function"==typeof i.value&&null!=(o=this.options_)&&o.autoBind&&(i.value=i.value.bind(null!=(k=e.proxy_)?k:e.target_)),P.make_(e,n,i,t)}function cr(e,n,i,t){var r,o,a;return i.get?U.extend_(e,n,i,t):i.set?e.defineProperty_(n,{configurable:!p.safeDescriptors||e.isPlainObject_,set:De(n.toString(),i.set)},t):("function"==typeof i.value&&null!=(r=this.options_)&&r.autoBind&&(i.value=i.value.bind(null!=(a=e.proxy_)?a:e.target_)),(!1===(null==(o=this.options_)?void 0:o.deep)?E.ref:E).extend_(e,n,i,t))}var gn={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function vt(e){return e||gn}Object.freeze(gn);var vn=gt("observable"),pr=gt("observable.ref",{enhancer:pt}),gr=gt("observable.shallow",{enhancer:function qi(e,n,i){return null==e||K(e)||ee(e)||$(e)||W(e)?e:Array.isArray(e)?E.array(e,{name:i,deep:!1}):ae(e)?E.object(e,void 0,{name:i,deep:!1}):f(e)?E.map(e,{name:i,deep:!1}):m(e)?E.set(e,{name:i,deep:!1}):void 0}}),vr=gt("observable.struct",{enhancer:function Hi(e,n){return Wt(e,n)?n:e}}),_n=ce(vn);function _t(e){return!0===e.deep?Fe:!1===e.deep?pt:function mr(e){var n,i;return e&&null!=(n=null==(i=e.options_)?void 0:i.enhancer)?n:Fe}(e.defaultDecorator)}function mn(e,n,i){if(!_e(n))return Jt(e)?e:ae(e)?E.object(e,n,i):Array.isArray(e)?E.array(e,n):f(e)?E.map(e,n):m(e)?E.set(e,n):"object"==typeof e&&null!==e?e:E.box(e,n);Ye(e,n,vn)}I(mn,_n);var E=I(mn,{box:function(n,i){var t=vt(i);return new Be(n,_t(t),t.name,!0,t.equals)},array:function(n,i){var t=vt(i);return(!1===p.useProxies||!1===t.proxy?wo:go)(n,_t(t),t.name)},map:function(n,i){var t=vt(i);return new oi(n,_t(t),t.name)},set:function(n,i){var t=vt(i);return new li(n,_t(t),t.name)},object:function(n,i,t){return function zn(e,n,i,t){var r=he(n),o=lt(e,t)[b];J();try{Z(r).forEach(function(a){o.extend_(a,r[a],!i||!(a in i)||i[a])})}finally{z()}return e}(!1===p.useProxies||!1===t?.proxy?lt({},t):function fo(e,n){var i,t;return Zt(),null!=(t=(i=(e=lt(e,n))[b]).proxy_)?t:i.proxy_=new Proxy(e,uo)}({},t),n,i)},ref:ce(pr),shallow:ce(gr),deep:_n,struct:ce(vr)}),bn="computed",On=kt(bn),xr=kt("computed.struct",{equals:Ue.structural}),U=function(n,i){if(_e(i))return Ye(n,i,On);if(ae(n))return ce(kt(bn,n));var t=ae(i)?i:{};return t.get=n,t.name||(t.name=n.name||""),new Ve(t)};Object.assign(U,On),U.struct=ce(xr);var xn,yn,Mn,mt=0,yr=1,Cr=null!=(xn=null==(yn=F(function(){},"name"))?void 0:yn.configurable)&&xn,Cn={value:"action",configurable:!0,writable:!1,enumerable:!1};function De(e,n,i,t){function r(){return function wn(e,n,i,t,r){var o=function wr(e,n,i,t){var r=!1,o=0,d=p.trackingDerivation,u=!n||!d;J();var h=p.allowStateChanges;u&&(qe(),h=Xe(!0));var P={runAsAction_:u,prevDerivation_:d,prevAllowStateChanges_:h,prevAllowStateReads_:Vt(!0),notifySpy_:r,startTime_:o,actionId_:yr++,parentActionId_:mt};return mt=P.actionId_,P}(0,n);try{return i.apply(t,r)}catch(a){throw o.error_=a,a}finally{!function Mr(e){mt!==e.actionId_&&_(30),mt=e.parentActionId_,void 0!==e.error_&&(p.suppressReactionErrors=!0),et(e.prevAllowStateChanges_),tt(e.prevAllowStateReads_),z(),e.runAsAction_&&Ae(e.prevDerivation_),p.suppressReactionErrors=!1}(o)}}(0,i,n,t||this,arguments)}return void 0===i&&(i=!1),r.isMobxAction=!0,Cr&&(Cn.value=e,w(r,"name",Cn)),r}function Ut(e,n){var i=Xe(e);try{return n()}finally{et(i)}}function Xe(e){var n=p.allowStateChanges;return p.allowStateChanges=e,n}function et(e){p.allowStateChanges=e}Mn=Symbol.toPrimitive;var En,Be=function(e){function n(t,r,o,a,d){var u;return void 0===o&&(o="ObservableValue"),void 0===a&&(a=!0),void 0===d&&(d=Ue.default),(u=e.call(this,o)||this).enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=r,u.name_=o,u.equals=d,u.value_=r(t,void 0,o),u}an(n,e);var i=n.prototype;return i.dehanceValue=function(r){return void 0!==this.dehancer?this.dehancer(r):r},i.set=function(r){(r=this.prepareNewValue_(r))!==p.UNCHANGED&&this.setNewValue_(r)},i.prepareNewValue_=function(r){if(oe(this)){var o=se(this,{object:this,type:ge,newValue:r});if(!o)return p.UNCHANGED;r=o.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?p.UNCHANGED:r},i.setNewValue_=function(r){var o=this.value_;this.value_=r,this.reportChanged(),de(this)&&ue(this,{type:ge,object:this,newValue:r,oldValue:o})},i.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},i.intercept_=function(r){return st(this,r)},i.observe_=function(r,o){return o&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:ge,newValue:this.value_,oldValue:void 0}),at(this,r)},i.raw=function(){return this.value_},i.toJSON=function(){return this.get()},i.toString=function(){return this.name_+"["+this.value_+"]"},i.valueOf=function(){return Ce(this.get())},i[Mn]=function(){return this.valueOf()},n}(Qe);En=Symbol.toPrimitive;var Ve=function(){function e(i){this.dependenciesState_=T.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=T.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new bt(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Me.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,i.get||_(31),this.derivation=i.get,this.name_=i.name||"ComputedValue",i.set&&(this.setter_=De("ComputedValue-setter",i.set)),this.equals_=i.equals||(i.compareStructural||i.struct?Ue.structural:Ue.default),this.scope_=i.context,this.requiresReaction_=i.requiresReaction,this.keepAlive_=!!i.keepAlive}var n=e.prototype;return n.onBecomeStale_=function(){!function Zr(e){e.lowestObserverState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.POSSIBLY_STALE_,e.observers_.forEach(function(n){n.dependenciesState_===T.UP_TO_DATE_&&(n.dependenciesState_=T.POSSIBLY_STALE_,n.onBecomeStale_())}))}(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(t){return t()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(t){return t()})},n.get=function(){if(this.isComputing_&&_(32,this.name_,this.derivation),0!==p.inBatch||0!==this.observers_.size||this.keepAlive_){if(In(this),Ft(this)){var t=p.trackingContext;this.keepAlive_&&!t&&(p.trackingContext=this),this.trackAndCompute()&&function Dr(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(n){n.dependenciesState_===T.POSSIBLY_STALE_?n.dependenciesState_=T.STALE_:n.dependenciesState_===T.UP_TO_DATE_&&(e.lowestObserverState_=T.UP_TO_DATE_)}))}(this),p.trackingContext=t}}else Ft(this)&&(this.warnAboutUntrackedRead_(),J(),this.value_=this.computeValue_(!1),z());var r=this.value_;if(Ot(r))throw r.cause;return r},n.set=function(t){if(this.setter_){this.isRunningSetter_&&_(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter_=!1}}else _(34,this.name_)},n.trackAndCompute=function(){var t=this.value_,r=this.dependenciesState_===T.NOT_TRACKING_,o=this.computeValue_(!0),a=r||Ot(t)||Ot(o)||!this.equals_(t,o);return a&&(this.value_=o),a},n.computeValue_=function(t){this.isComputing_=!0;var o,r=Xe(!1);if(t)o=Nn(this,this.derivation,this.scope_);else if(!0===p.disableErrorBoundaries)o=this.derivation.call(this.scope_);else try{o=this.derivation.call(this.scope_)}catch(a){o=new bt(a)}return et(r),this.isComputing_=!1,o},n.suspend_=function(){this.keepAlive_||(Bt(this),this.value_=void 0)},n.observe_=function(t,r){var o=this,a=!0,d=void 0;return rt(function(){var u=o.get();if(!a||r){var h=qe();t({observableKind:"computed",debugObjectName:o.name_,type:ge,object:o,newValue:u,oldValue:d}),Ae(h)}a=!1,d=u})},n.warnAboutUntrackedRead_=function(){},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return Ce(this.get())},n[En]=function(){return this.valueOf()},e}(),Ze=N("ComputedValue",Ve),T=function(e){return e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_",e}(T||{}),Me=function(e){return e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK",e}(Me||{}),bt=function(n){this.cause=void 0,this.cause=n};function Ot(e){return e instanceof bt}function Ft(e){switch(e.dependenciesState_){case T.UP_TO_DATE_:return!1;case T.NOT_TRACKING_:case T.STALE_:return!0;case T.POSSIBLY_STALE_:for(var n=Vt(!0),i=qe(),t=e.observing_,r=t.length,o=0;o<r;o++){var a=t[o];if(Ze(a)){if(p.disableErrorBoundaries)a.get();else try{a.get()}catch{return Ae(i),tt(n),!0}if(e.dependenciesState_===T.STALE_)return Ae(i),tt(n),!0}}return Pn(e),Ae(i),tt(n),!1}}function Nn(e,n,i){var t=Vt(!0);Pn(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++p.runId;var o,r=p.trackingDerivation;if(p.trackingDerivation=e,p.inBatch++,!0===p.disableErrorBoundaries)o=n.call(i);else try{o=n.call(i)}catch(a){o=new bt(a)}return p.inBatch--,p.trackingDerivation=r,function Ar(e){for(var n=e.observing_,i=e.observing_=e.newObserving_,t=T.UP_TO_DATE_,r=0,o=e.unboundDepsCount_,a=0;a<o;a++){var d=i[a];0===d.diffValue_&&(d.diffValue_=1,r!==a&&(i[r]=d),r++),d.dependenciesState_>t&&(t=d.dependenciesState_)}for(i.length=r,e.newObserving_=null,o=n.length;o--;){var u=n[o];0===u.diffValue_&&Dn(u,e),u.diffValue_=0}for(;r--;){var h=i[r];1===h.diffValue_&&(h.diffValue_=0,Sr(h,e))}t!==T.UP_TO_DATE_&&(e.dependenciesState_=t,e.onBecomeStale_())}(e),tt(t),o}function Bt(e){var n=e.observing_;e.observing_=[];for(var i=n.length;i--;)Dn(n[i],e);e.dependenciesState_=T.NOT_TRACKING_}function Tn(e){var n=qe();try{return e()}finally{Ae(n)}}function qe(){var e=p.trackingDerivation;return p.trackingDerivation=null,e}function Ae(e){p.trackingDerivation=e}function Vt(e){var n=p.allowStateReads;return p.allowStateReads=e,n}function tt(e){p.allowStateReads=e}function Pn(e){if(e.dependenciesState_!==T.UP_TO_DATE_){e.dependenciesState_=T.UP_TO_DATE_;for(var n=e.observing_,i=n.length;i--;)n[i].lowestObserverState_=T.UP_TO_DATE_}}var nt=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0,this.stateVersion=Number.MIN_SAFE_INTEGER},xt=!0,p=function(){var e=x();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(xt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new nt).version&&(xt=!1),xt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new nt):(setTimeout(function(){_(35)},1),new nt)}();function Sr(e,n){e.observers_.add(n),e.lowestObserverState_>n.dependenciesState_&&(e.lowestObserverState_=n.dependenciesState_)}function Dn(e,n){e.observers_.delete(n),0===e.observers_.size&&Zn(e)}function Zn(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,p.pendingUnobservations.push(e))}function J(){p.inBatch++}function z(){if(0==--p.inBatch){kn();for(var e=p.pendingUnobservations,n=0;n<e.length;n++){var i=e[n];i.isPendingUnobservation_=!1,0===i.observers_.size&&(i.isBeingObserved_&&(i.isBeingObserved_=!1,i.onBUO()),i instanceof Ve&&i.suspend_())}p.pendingUnobservations=[]}}function In(e){var n=p.trackingDerivation;return null!==n?(n.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=n.runId_,n.newObserving_[n.unboundDepsCount_++]=e,!e.isBeingObserved_&&p.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),e.isBeingObserved_):(0===e.observers_.size&&p.inBatch>0&&Zn(e),!1)}function Rn(e){e.lowestObserverState_!==T.STALE_&&(e.lowestObserverState_=T.STALE_,e.observers_.forEach(function(n){n.dependenciesState_===T.UP_TO_DATE_&&n.onBecomeStale_(),n.dependenciesState_=T.STALE_}))}var yt=function(){function e(i,t,r,o){void 0===i&&(i="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=T.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Me.NONE,this.name_=i,this.onInvalidate_=t,this.errorHandler_=r,this.requiresObservable_=o}var n=e.prototype;return n.onBecomeStale_=function(){this.schedule_()},n.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,p.pendingReactions.push(this),kn())},n.isScheduled=function(){return this.isScheduled_},n.runReaction_=function(){if(!this.isDisposed_){J(),this.isScheduled_=!1;var t=p.trackingContext;if(p.trackingContext=this,Ft(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}p.trackingContext=t,z()}},n.track=function(t){if(!this.isDisposed_){J(),this.isRunning_=!0;var a=p.trackingContext;p.trackingContext=this;var d=Nn(this,t,void 0);p.trackingContext=a,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Bt(this),Ot(d)&&this.reportExceptionInDerivation_(d.cause),z()}},n.reportExceptionInDerivation_=function(t){var r=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(p.disableErrorBoundaries)throw t;p.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",t),p.globalReactionErrorHandlers.forEach(function(a){return a(t,r)})}},n.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(J(),Bt(this),z()))},n.getDisposer_=function(){var t=this.dispose.bind(this);return t[b]=this,t},n.toString=function(){return"Reaction["+this.name_+"]"},n.trace=function(t){void 0===t&&(t=!1)},e}(),Ir=100,jt=function(n){return n()};function kn(){p.inBatch>0||p.isRunningReactions||jt(Rr)}function Rr(){p.isRunningReactions=!0;for(var e=p.pendingReactions,n=0;e.length>0;){++n===Ir&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var i=e.splice(0),t=0,r=i.length;t<r;t++)i[t].runReaction_()}p.isRunningReactions=!1}var Ct=N("Reaction",yt),Fn="autoAction",Vn=We("action"),Vr=We("action.bound",{bound:!0}),jn=We(Fn,{autoAction:!0}),jr=We("autoAction.bound",{autoAction:!0,bound:!0});function qn(e){return function(t,r){return q(t)?De(t.name||"<unnamed action>",t,e):q(r)?De(t,r,e):_e(r)?Ye(t,r,e?jn:Vn):_e(t)?ce(We(e?Fn:"action",{name:t,autoAction:e})):void 0}}var M=qn(!1);Object.assign(M,Vn);var it=qn(!0);function Ht(e){return q(e)&&!0===e.isMobxAction}function rt(e,n){var i,t;void 0===n&&(n=g);var a,r=null!=(i=null==(t=n)?void 0:t.name)?i:"Autorun";if(n.scheduler||n.delay){var d=Hn(n),u=!1;a=new yt(r,function(){u||(u=!0,d(function(){u=!1,a.isDisposed_||a.track(h)}))},n.onError,n.requiresObservable)}else a=new yt(r,function(){this.track(h)},n.onError,n.requiresObservable);function h(){e(a)}return a.schedule_(),a.getDisposer_()}Object.assign(it,jn),M.bound=ce(Vr),it.bound=ce(jr);var qr=function(n){return n()};function Hn(e){return e.scheduler?e.scheduler:e.delay?function(n){return setTimeout(n,e.delay)}:qr}function He(e,n,i){var t;void 0===i&&(i=g);var v,P,r=null!=(t=i.name)?t:"Reaction",o=M(r,i.onError?function Hr(e,n){return function(){try{return n.apply(this,arguments)}catch(i){e.call(this,i)}}}(i.onError,n):n),a=!i.scheduler&&!i.delay,d=Hn(i),u=!0,h=!1,k=i.compareStructural?Ue.structural:i.equals||Ue.default,G=new yt(r,function(){u||a?xe():h||(h=!0,d(xe))},i.onError,i.requiresObservable);function xe(){if(h=!1,!G.isDisposed_){var te=!1;G.track(function(){var ne=Ut(!1,function(){return e(G)});te=u||!k(v,ne),P=v,v=ne}),(u&&i.fireImmediately||!u&&te)&&o(v,P,G),u=!1}}return G.schedule_(),G.getDisposer_()}var Gr="onBO",Jr="onBUO";function Gn(e,n,i){return Jn(Jr,e,n,i)}function Jn(e,n,i,t){var r="function"==typeof t?ve(n,i):ve(n),o=q(t)?t:i,a=e+"L";return r[a]?r[a].add(o):r[a]=new Set([o]),function(){var d=r[a];d&&(d.delete(o),0===d.size&&delete r[a])}}var Wr=0;function Gt(){this.message="FLOW_CANCELLED"}Gt.prototype=Object.create(Error.prototype);var Yn=fn("flow"),Xr=fn("flow.bound",{bound:!0}),ot=Object.assign(function(n,i){if(_e(i))return Ye(n,i,Yn);var t=n,r=t.name||"<unnamed flow>",o=function(){var P,u=arguments,h=++Wr,v=M(r+" - runid: "+h+" - init",t).apply(this,u),k=void 0,G=new Promise(function(xe,te){var ne=0;function Dt(ie){var Pe;k=void 0;try{Pe=M(r+" - runid: "+h+" - yield "+ne++,v.next).call(v,ie)}catch(Re){return te(Re)}dt(Pe)}function rn(ie){var Pe;k=void 0;try{Pe=M(r+" - runid: "+h+" - yield "+ne++,v.throw).call(v,ie)}catch(Re){return te(Re)}dt(Pe)}function dt(ie){if(!q(ie?.then))return ie.done?xe(ie.value):(k=Promise.resolve(ie.value)).then(Dt,rn);ie.then(dt,te)}P=te,Dt(void 0)});return G.cancel=M(r+" - runid: "+h+" - cancel",function(){try{k&&Qn(k);var xe=v.return(void 0),te=Promise.resolve(xe.value);te.then(ye,ye),Qn(te),P(new Gt)}catch(ne){P(ne)}}),G};return o.isMobXFlow=!0,o},Yn);function Qn(e){q(e.cancel)&&e.cancel()}function Mt(e){return!0===e?.isMobXFlow}function Jt(e){return function Xn(e,n){return!!e&&(void 0!==n?!!K(e)&&e[b].values_.has(n):K(e)||!!e[b]||Lt(e)||Ct(e)||Ze(e))}(e)}function be(e,n){void 0===n&&(n=void 0),J();try{return e.apply(n)}finally{z()}}function Je(e){return e[b]}ot.bound=ce(Xr);var uo={has:function(n,i){return Je(n).has_(i)},get:function(n,i){return Je(n).get_(i)},set:function(n,i,t){var r;return!!_e(i)&&(null==(r=Je(n).set_(i,t,!0))||r)},deleteProperty:function(n,i){var t;return!!_e(i)&&(null==(t=Je(n).delete_(i,!0))||t)},defineProperty:function(n,i,t){var r;return null==(r=Je(n).defineProperty_(i,t))||r},ownKeys:function(n){return Je(n).ownKeys_()},preventExtensions:function(n){_(13)}};function oe(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function st(e,n){var i=e.interceptors_||(e.interceptors_=[]);return i.push(n),ft(function(){var t=i.indexOf(n);-1!==t&&i.splice(t,1)})}function se(e,n){var i=qe();try{for(var t=[].concat(e.interceptors_||[]),r=0,o=t.length;r<o&&((n=t[r](n))&&!n.type&&_(14),n);r++);return n}finally{Ae(i)}}function de(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function at(e,n){var i=e.changeListeners_||(e.changeListeners_=[]);return i.push(n),ft(function(){var t=i.indexOf(n);-1!==t&&i.splice(t,1)})}function ue(e,n){var i=qe(),t=e.changeListeners_;if(t){for(var r=0,o=(t=t.slice()).length;r<o;r++)t[r](n);Ae(i)}}function Nt(e,n,i){var t=lt(e,i)[b];J();try{null!=n||(n=function Ui(e){return Q(e,pe)||O(e,pe,le({},e[pe])),e[pe]}(e)),Z(n).forEach(function(o){return t.make_(o,n[o])})}finally{z()}return e}var ge="update",po={get:function(n,i){var t=n[b];return i===b?t:"length"===i?t.getArrayLength_():"string"!=typeof i||isNaN(i)?Q(Tt,i)?Tt[i]:n[i]:t.get_(parseInt(i))},set:function(n,i,t){var r=n[b];return"length"===i&&r.setArrayLength_(t),"symbol"==typeof i||isNaN(i)?n[i]=t:r.set_(parseInt(i),t),!0},preventExtensions:function(){_(15)}},$t=function(){function e(i,t,r,o){void 0===i&&(i="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=o,this.atom_=new Qe(i),this.enhancer_=function(a,d){return t(a,d,"ObservableArray[..]")}}var n=e.prototype;return n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.dehanceValues_=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},n.intercept_=function(t){return st(this,t)},n.observe_=function(t,r){return void 0===r&&(r=!1),r&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),at(this,t)},n.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},n.setArrayLength_=function(t){("number"!=typeof t||isNaN(t)||t<0)&&_("Out of range: "+t);var r=this.values_.length;if(t!==r)if(t>r){for(var o=new Array(t-r),a=0;a<t-r;a++)o[a]=void 0;this.spliceWithArray_(r,0,o)}else this.spliceWithArray_(t,r-t)},n.updateArrayLength_=function(t,r){t!==this.lastKnownLength_&&_(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&_i(t+r+1)},n.spliceWithArray_=function(t,r,o){var a=this,d=this.values_.length;if(void 0===t?t=0:t>d?t=d:t<0&&(t=Math.max(0,d+t)),r=1===arguments.length?d-t:null==r?0:Math.max(0,Math.min(r,d-t)),void 0===o&&(o=R),oe(this)){var u=se(this,{object:this.proxy_,type:"splice",index:t,removedCount:r,added:o});if(!u)return R;r=u.removedCount,o=u.added}o=0===o.length?o:o.map(function(P){return a.enhancer_(P,void 0)}),this.legacyMode_&&this.updateArrayLength_(d,o.length-r);var v=this.spliceItemsIntoValues_(t,r,o);return(0!==r||0!==o.length)&&this.notifyArraySplice_(t,o,v),this.dehanceValues_(v)},n.spliceItemsIntoValues_=function(t,r,o){var a;if(o.length<1e4)return(a=this.values_).splice.apply(a,[t,r].concat(o));var d=this.values_.slice(t,t+r),u=this.values_.slice(t+r);this.values_.length+=o.length-r;for(var h=0;h<o.length;h++)this.values_[t+h]=o[h];for(var v=0;v<u.length;v++)this.values_[t+o.length+v]=u[v];return d},n.notifyArrayChildUpdate_=function(t,r,o){var a=!this.owned_&&!1,d=de(this),u=d||a?{observableKind:"array",object:this.proxy_,type:ge,debugObjectName:this.atom_.name_,index:t,newValue:r,oldValue:o}:null;this.atom_.reportChanged(),d&&ue(this,u)},n.notifyArraySplice_=function(t,r,o){var a=!this.owned_&&!1,d=de(this),u=d||a?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:t,removed:o,added:r,removedCount:o.length,addedCount:r.length}:null;this.atom_.reportChanged(),d&&ue(this,u)},n.get_=function(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},n.set_=function(t,r){var o=this.values_;if(this.legacyMode_&&t>o.length&&_(17,t,o.length),t<o.length){var a=o[t];if(oe(this)){var d=se(this,{type:ge,object:this.proxy_,index:t,newValue:r});if(!d)return;r=d.newValue}(r=this.enhancer_(r,a))!==a&&(o[t]=r,this.notifyArrayChildUpdate_(t,r,a))}else{for(var h=new Array(t+1-o.length),v=0;v<h.length-1;v++)h[v]=void 0;h[h.length-1]=r,this.spliceWithArray_(o.length,0,h)}},e}();function go(e,n,i,t){void 0===i&&(i="ObservableArray"),void 0===t&&(t=!1),Zt();var r=new $t(i,n,t,!1);L(r.values_,b,r);var o=new Proxy(r.values_,po);if(r.proxy_=o,e&&e.length){var a=Xe(!0);r.spliceWithArray_(0,0,e),et(a)}return o}var Tt={clear:function(){return this.splice(0)},replace:function(n){var i=this[b];return i.spliceWithArray_(0,i.values_.length,n)},toJSON:function(){return this.slice()},splice:function(n,i){for(var t=arguments.length,r=new Array(t>2?t-2:0),o=2;o<t;o++)r[o-2]=arguments[o];var a=this[b];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(n);case 2:return a.spliceWithArray_(n,i)}return a.spliceWithArray_(n,i,r)},spliceWithArray:function(n,i,t){return this[b].spliceWithArray_(n,i,t)},push:function(){for(var n=this[b],i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return n.spliceWithArray_(n.values_.length,0,t),n.values_.length},pop:function(){return this.splice(Math.max(this[b].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var n=this[b],i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];return n.spliceWithArray_(0,0,t),n.values_.length},reverse:function(){return p.trackingDerivation&&_(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){p.trackingDerivation&&_(37,"sort");var n=this.slice();return n.sort.apply(n,arguments),this.replace(n),this},remove:function(n){var i=this[b],t=i.dehanceValues_(i.values_).indexOf(n);return t>-1&&(this.splice(t,1),!0)}};function V(e,n){"function"==typeof Array.prototype[e]&&(Tt[e]=n(e))}function Oe(e){return function(){var n=this[b];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_);return i[e].apply(i,arguments)}}function Ee(e){return function(n,i){var t=this,r=this[b];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[e](function(a,d){return n.call(i,a,d,t)})}}function ni(e){return function(){var n=this,i=this[b];i.atom_.reportObserved();var t=i.dehanceValues_(i.values_),r=arguments[0];return arguments[0]=function(o,a,d){return r(o,a,d,n)},t[e].apply(t,arguments)}}V("concat",Oe),V("flat",Oe),V("includes",Oe),V("indexOf",Oe),V("join",Oe),V("lastIndexOf",Oe),V("slice",Oe),V("toString",Oe),V("toLocaleString",Oe),V("every",Ee),V("filter",Ee),V("find",Ee),V("findIndex",Ee),V("flatMap",Ee),V("forEach",Ee),V("map",Ee),V("some",Ee),V("reduce",ni),V("reduceRight",ni);var vo=N("ObservableArrayAdministration",$t);function ee(e){return Le(e)&&vo(e[b])}var ii,ri,_o={},Ne="add",Pt="delete";ii=Symbol.iterator,ri=Symbol.toStringTag;var si,ai,oi=function(){function e(i,t,r){var o=this;void 0===t&&(t=Fe),void 0===r&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[b]=_o,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=r,q(Map)||_(18),this.keysAtom_=cn("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,Ut(!0,function(){o.merge(i)})}var n=e.prototype;return n.has_=function(t){return this.data_.has(t)},n.has=function(t){var r=this;if(!p.trackingDerivation)return this.has_(t);var o=this.hasMap_.get(t);if(!o){var a=o=new Be(this.has_(t),pt,"ObservableMap.key?",!1);this.hasMap_.set(t,a),Gn(a,function(){return r.hasMap_.delete(t)})}return o.get()},n.set=function(t,r){var o=this.has_(t);if(oe(this)){var a=se(this,{type:o?ge:Ne,object:this,newValue:r,name:t});if(!a)return this;r=a.newValue}return o?this.updateValue_(t,r):this.addValue_(t,r),this},n.delete=function(t){var r=this;if(oe(this)&&!se(this,{type:Pt,object:this,name:t}))return!1;if(this.has_(t)){var d=de(this),u=d?{observableKind:"map",debugObjectName:this.name_,type:Pt,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return be(function(){var h;r.keysAtom_.reportChanged(),null==(h=r.hasMap_.get(t))||h.setNewValue_(!1),r.data_.get(t).setNewValue_(void 0),r.data_.delete(t)}),d&&ue(this,u),!0}return!1},n.updateValue_=function(t,r){var o=this.data_.get(t);if((r=o.prepareNewValue_(r))!==p.UNCHANGED){var d=de(this),u=d?{observableKind:"map",debugObjectName:this.name_,type:ge,object:this,oldValue:o.value_,name:t,newValue:r}:null;o.setNewValue_(r),d&&ue(this,u)}},n.addValue_=function(t,r){var o=this;be(function(){var h,v=new Be(r,o.enhancer_,"ObservableMap.key",!1);o.data_.set(t,v),r=v.value_,null==(h=o.hasMap_.get(t))||h.setNewValue_(!0),o.keysAtom_.reportChanged()});var d=de(this);d&&ue(this,d?{observableKind:"map",debugObjectName:this.name_,type:Ne,object:this,name:t,newValue:r}:null)},n.get=function(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},n.values=function(){var t=this,r=this.keys();return ct({next:function(){var a=r.next(),d=a.done;return{done:d,value:d?void 0:t.get(a.value)}}})},n.entries=function(){var t=this,r=this.keys();return ct({next:function(){var a=r.next(),d=a.done,u=a.value;return{done:d,value:d?void 0:[u,t.get(u)]}}})},n[ii]=function(){return this.entries()},n.forEach=function(t,r){for(var a,o=ke(this);!(a=o()).done;){var d=a.value;t.call(r,d[1],d[0],this)}},n.merge=function(t){var r=this;return $(t)&&(t=new Map(t)),be(function(){ae(t)?function S(e){var n=Object.keys(e);if(!y)return n;var i=Object.getOwnPropertySymbols(e);return i.length?[].concat(n,i.filter(function(t){return A.propertyIsEnumerable.call(e,t)})):n}(t).forEach(function(o){return r.set(o,t[o])}):Array.isArray(t)?t.forEach(function(o){return r.set(o[0],o[1])}):f(t)?(t.constructor!==Map&&_(19,t),t.forEach(function(o,a){return r.set(a,o)})):null!=t&&_(20,t)}),this},n.clear=function(){var t=this;be(function(){Tn(function(){for(var o,r=ke(t.keys());!(o=r()).done;)t.delete(o.value)})})},n.replace=function(t){var r=this;return be(function(){for(var h,o=function mo(e){if(f(e)||$(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var n=new Map;for(var i in e)n.set(i,e[i]);return n}return _(21,e)}(t),a=new Map,d=!1,u=ke(r.data_.keys());!(h=u()).done;){var v=h.value;if(!o.has(v))if(r.delete(v))d=!0;else{var k=r.data_.get(v);a.set(v,k)}}for(var xe,G=ke(o.entries());!(xe=G()).done;){var te=xe.value,ne=te[0],Dt=te[1],rn=r.data_.has(ne);if(r.set(ne,Dt),r.data_.has(ne)){var dt=r.data_.get(ne);a.set(ne,dt),rn||(d=!0)}}if(!d)if(r.data_.size!==a.size)r.keysAtom_.reportChanged();else for(var ie=r.data_.keys(),Pe=a.keys(),Re=ie.next(),Di=Pe.next();!Re.done;){if(Re.value!==Di.value){r.keysAtom_.reportChanged();break}Re=ie.next(),Di=Pe.next()}r.data_=a}),this},n.toString=function(){return"[object ObservableMap]"},n.toJSON=function(){return Array.from(this)},n.observe_=function(t,r){return at(this,t)},n.intercept_=function(t){return st(this,t)},me(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:ri,get:function(){return"Map"}}]),e}(),$=N("ObservableMap",oi),bo={};si=Symbol.iterator,ai=Symbol.toStringTag;var li=function(){function e(i,t,r){void 0===t&&(t=Fe),void 0===r&&(r="ObservableSet"),this.name_=void 0,this[b]=bo,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,q(Set)||_(22),this.atom_=cn(this.name_),this.enhancer_=function(o,a){return t(o,a,r)},i&&this.replace(i)}var n=e.prototype;return n.dehanceValue_=function(t){return void 0!==this.dehancer?this.dehancer(t):t},n.clear=function(){var t=this;be(function(){Tn(function(){for(var o,r=ke(t.data_.values());!(o=r()).done;)t.delete(o.value)})})},n.forEach=function(t,r){for(var a,o=ke(this);!(a=o()).done;){var d=a.value;t.call(r,d,d,this)}},n.add=function(t){var r=this;if(oe(this)&&!se(this,{type:Ne,object:this,newValue:t}))return this;if(!this.has(t)){be(function(){r.data_.add(r.enhancer_(t,void 0)),r.atom_.reportChanged()});var d=de(this);d&&ue(this,d?{observableKind:"set",debugObjectName:this.name_,type:Ne,object:this,newValue:t}:null)}return this},n.delete=function(t){var r=this;if(oe(this)&&!se(this,{type:Pt,object:this,oldValue:t}))return!1;if(this.has(t)){var d=de(this),u=d?{observableKind:"set",debugObjectName:this.name_,type:Pt,object:this,oldValue:t}:null;return be(function(){r.atom_.reportChanged(),r.data_.delete(t)}),d&&ue(this,u),!0}return!1},n.has=function(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},n.entries=function(){var t=0,r=Array.from(this.keys()),o=Array.from(this.values());return ct({next:function(){var d=t;return t+=1,d<o.length?{value:[r[d],o[d]],done:!1}:{done:!0}}})},n.keys=function(){return this.values()},n.values=function(){this.atom_.reportObserved();var t=this,r=0,o=Array.from(this.data_.values());return ct({next:function(){return r<o.length?{value:t.dehanceValue_(o[r++]),done:!1}:{done:!0}}})},n.replace=function(t){var r=this;return W(t)&&(t=new Set(t)),be(function(){Array.isArray(t)||m(t)?(r.clear(),t.forEach(function(o){return r.add(o)})):null!=t&&_("Cannot initialize set from "+t)}),this},n.observe_=function(t,r){return at(this,t)},n.intercept_=function(t){return st(this,t)},n.toJSON=function(){return Array.from(this)},n.toString=function(){return"[object ObservableSet]"},n[si]=function(){return this.values()},me(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:ai,get:function(){return"Set"}}]),e}(),W=N("ObservableSet",li),ci=Object.create(null),ui=function(){function e(i,t,r,o){void 0===t&&(t=new Map),void 0===o&&(o=ar),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=i,this.values_=t,this.name_=r,this.defaultAnnotation_=o,this.keysAtom_=new Qe("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var n=e.prototype;return n.getObservablePropValue_=function(t){return this.values_.get(t).get()},n.setObservablePropValue_=function(t,r){var o=this.values_.get(t);if(o instanceof Ve)return o.set(r),!0;if(oe(this)){var a=se(this,{type:ge,object:this.proxy_||this.target_,name:t,newValue:r});if(!a)return null;r=a.newValue}if((r=o.prepareNewValue_(r))!==p.UNCHANGED){var d=de(this),h=d?{type:ge,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:o.value_,name:t,newValue:r}:null;o.setNewValue_(r),d&&ue(this,h)}return!0},n.get_=function(t){return p.trackingDerivation&&!Q(this.target_,t)&&this.has_(t),this.target_[t]},n.set_=function(t,r,o){return void 0===o&&(o=!1),Q(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,r):o?Reflect.set(this.target_,t,r):(this.target_[t]=r,!0):this.extend_(t,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,o)},n.has_=function(t){if(!p.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(t);return r||(r=new Be(t in this.target_,pt,"ObservableObject.key?",!1),this.pendingKeys_.set(t,r)),r.get()},n.make_=function(t,r){if(!0===r&&(r=this.defaultAnnotation_),!1!==r){if(!(t in this.target_)){var o;if(null!=(o=this.target_[pe])&&o[t])return;_(1,r.annotationType_,this.name_+"."+t.toString())}for(var a=this.target_;a&&a!==A;){var d=F(a,t);if(d){var u=r.make_(this,t,d,a);if(0===u)return;if(1===u)break}a=Object.getPrototypeOf(a)}hi(this,0,t)}},n.extend_=function(t,r,o,a){if(void 0===a&&(a=!1),!0===o&&(o=this.defaultAnnotation_),!1===o)return this.defineProperty_(t,r,a);var d=o.extend_(this,t,r,a);return d&&hi(this,0,t),d},n.defineProperty_=function(t,r,o){void 0===o&&(o=!1);try{J();var a=this.delete_(t);if(!a)return a;if(oe(this)){var d=se(this,{object:this.proxy_||this.target_,name:t,type:Ne,newValue:r.value});if(!d)return null;var u=d.newValue;r.value!==u&&(r=le({},r,{value:u}))}if(o){if(!Reflect.defineProperty(this.target_,t,r))return!1}else w(this.target_,t,r);this.notifyPropertyAddition_(t,r.value)}finally{z()}return!0},n.defineObservableProperty_=function(t,r,o,a){void 0===a&&(a=!1);try{J();var d=this.delete_(t);if(!d)return d;if(oe(this)){var u=se(this,{object:this.proxy_||this.target_,name:t,type:Ne,newValue:r});if(!u)return null;r=u.newValue}var h=fi(t),v={configurable:!p.safeDescriptors||this.isPlainObject_,enumerable:!0,get:h.get,set:h.set};if(a){if(!Reflect.defineProperty(this.target_,t,v))return!1}else w(this.target_,t,v);var P=new Be(r,o,"ObservableObject.key",!1);this.values_.set(t,P),this.notifyPropertyAddition_(t,P.value_)}finally{z()}return!0},n.defineComputedProperty_=function(t,r,o){void 0===o&&(o=!1);try{J();var a=this.delete_(t);if(!a)return a;if(oe(this)&&!se(this,{object:this.proxy_||this.target_,name:t,type:Ne,newValue:void 0}))return null;r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var u=fi(t),h={configurable:!p.safeDescriptors||this.isPlainObject_,enumerable:!1,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,t,h))return!1}else w(this.target_,t,h);this.values_.set(t,new Ve(r)),this.notifyPropertyAddition_(t,void 0)}finally{z()}return!0},n.delete_=function(t,r){if(void 0===r&&(r=!1),!Q(this.target_,t))return!0;if(oe(this)&&!se(this,{object:this.proxy_||this.target_,name:t,type:"remove"}))return null;try{var a,d;J();var k,u=de(this),v=this.values_.get(t),P=void 0;if(!v&&u&&(P=null==(k=F(this.target_,t))?void 0:k.value),r){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];v&&(this.values_.delete(t),v instanceof Be&&(P=v.value_),Rn(v)),this.keysAtom_.reportChanged(),null==(a=this.pendingKeys_)||null==(d=a.get(t))||d.set(t in this.target_),u&&u&&ue(this,{type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:P,name:t})}finally{z()}return!0},n.observe_=function(t,r){return at(this,t)},n.intercept_=function(t){return st(this,t)},n.notifyPropertyAddition_=function(t,r){var o,a,d=de(this);d&&d&&ue(this,d?{type:Ne,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:r}:null),null==(o=this.pendingKeys_)||null==(a=o.get(t))||a.set(!0),this.keysAtom_.reportChanged()},n.ownKeys_=function(){return this.keysAtom_.reportObserved(),Z(this.target_)},n.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function lt(e,n){var i;if(Q(e,b))return e;var t=null!=(i=n?.name)?i:"ObservableObject",r=new ui(e,new Map,String(t),function _r(e){var n;return e?null!=(n=e.defaultDecorator)?n:pn(e):void 0}(n));return O(e,b,r),e}var Oo=N("ObservableObjectAdministration",ui);function fi(e){return ci[e]||(ci[e]={get:function(){return this[b].getObservablePropValue_(e)},set:function(i){return this[b].setObservablePropValue_(e,i)}})}function K(e){return!!Le(e)&&Oo(e[b])}function hi(e,n,i){var t;null==(t=e.target_[pe])||delete t[i]}var xo=vi(0),Kt=0,gi=function(){};!function yo(e,n){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,n):void 0!==e.prototype.__proto__?e.prototype.__proto__=n:e.prototype=n}(gi,Array.prototype);var Yt=function(e,n,i){function t(o,a,d,u){var h;void 0===d&&(d="ObservableArray"),void 0===u&&(u=!1),h=e.call(this)||this;var v=new $t(d,a,u,!0);if(v.proxy_=Rt(h),L(Rt(h),b,v),o&&o.length){var P=Xe(!0);h.spliceWithArray(0,0,o),et(P)}return Object.defineProperty(Rt(h),"0",xo),h}an(t,e);var r=t.prototype;return r.concat=function(){this[b].atom_.reportObserved();for(var a=arguments.length,d=new Array(a),u=0;u<a;u++)d[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),d.map(function(h){return ee(h)?h.slice():h}))},r[i]=function(){var o=this,a=0;return ct({next:function(){return a<o.length?{value:o[a++],done:!1}:{done:!0,value:void 0}}})},me(t,[{key:"length",get:function(){return this[b].getArrayLength_()},set:function(a){this[b].setArrayLength_(a)}},{key:n,get:function(){return"Array"}}]),t}(gi,Symbol.toStringTag,Symbol.iterator);function vi(e){return{enumerable:!1,configurable:!0,get:function(){return this[b].get_(e)},set:function(i){this[b].set_(e,i)}}}function Co(e){w(Yt.prototype,""+e,vi(e))}function _i(e){if(e>Kt){for(var n=Kt;n<e+100;n++)Co(n);Kt=e}}function wo(e,n,i){return new Yt(e,n,i)}function ve(e,n){if("object"==typeof e&&null!==e){if(ee(e))return void 0!==n&&_(23),e[b].atom_;if(W(e))return e.atom_;if($(e)){if(void 0===n)return e.keysAtom_;var i=e.data_.get(n)||e.hasMap_.get(n);return i||_(25,n,Qt(e)),i}if(K(e)){if(!n)return _(26);var t=e[b].values_.get(n);return t||_(27,n,Qt(e)),t}if(Lt(e)||Ze(e)||Ct(e))return e}else if(q(e)&&Ct(e[b]))return e[b];_(28)}function Te(e,n){return e||_(29),void 0!==n?Te(ve(e,n)):Lt(e)||Ze(e)||Ct(e)||$(e)||W(e)?e:e[b]?e[b]:void _(24,e)}function Qt(e,n){var i;if(void 0!==n)i=ve(e,n);else{if(Ht(e))return e.name;i=K(e)||$(e)||W(e)?Te(e):ve(e)}return i.name_}Object.entries(Tt).forEach(function(e){var n=e[0];"concat"!==n&&O(Yt.prototype,n,e[1])}),_i(1e3);var mi=A.toString;function Wt(e,n,i){return void 0===i&&(i=-1),Xt(e,n,i)}function Xt(e,n,i,t,r){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof n)return!1;var a=mi.call(e);if(a!==mi.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":i>=0&&i++}e=bi(e),n=bi(n);var d="[object Array]"===a;if(!d){if("object"!=typeof e||"object"!=typeof n)return!1;var u=e.constructor,h=n.constructor;if(u!==h&&!(q(u)&&u instanceof u&&q(h)&&h instanceof h)&&"constructor"in e&&"constructor"in n)return!1}if(0===i)return!1;i<0&&(i=-1),r=r||[];for(var v=(t=t||[]).length;v--;)if(t[v]===e)return r[v]===n;if(t.push(e),r.push(n),d){if((v=e.length)!==n.length)return!1;for(;v--;)if(!Xt(e[v],n[v],i-1,t,r))return!1}else{var k,P=Object.keys(e);if(v=P.length,Object.keys(n).length!==v)return!1;for(;v--;)if(!Q(n,k=P[v])||!Xt(e[k],n[k],i-1,t,r))return!1}return t.pop(),r.pop(),!0}function bi(e){return ee(e)?e.slice():f(e)||$(e)||m(e)||W(e)?Array.from(e.entries()):e}function ct(e){return e[Symbol.iterator]=Mo,e}function Mo(){return this}function Ao(e,n){1&e&&(s.TgZ(0,"span"),s._uU(1,"loading..."),s.qZA())}["Symbol","Map","Set"].forEach(function(e){typeof x()[e]>"u"&&_("MobX requires global '"+e+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function Ur(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:Qt},$mobx:b});const Eo=function(e){return{$implicit:e}};function No(e,n){if(1&e&&(s.ynx(0),s.TgZ(1,"div"),s.Hsn(2),s.qZA(),s.BQk()),2&e){const i=s.oxw();s.xp6(1),s.Udp("height",i.getTotalHeight())}}const ze=function(){return{dontDetach:!0}},To=["*"];function Po(e,n){if(1&e){const i=s.EpF();s.TgZ(0,"span",3),s.NdJ("click",function(r){s.CHM(i);const o=s.oxw(2);return s.KtG(o.node.mouseAction("expanderClick",r))}),s._UZ(1,"span",4),s.qZA()}if(2&e){const i=s.oxw(2);s.ekj("toggle-children-wrapper-expanded",i.node.isExpanded)("toggle-children-wrapper-collapsed",i.node.isCollapsed)}}function So(e,n){1&e&&s._UZ(0,"span",5)}function Do(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Po,2,4,"span",1),s.YNc(2,So,1,0,"span",2),s.BQk()),2&e){const i=s.oxw();s.xp6(1),s.Q6J("ngIf",i.node.hasChildren),s.xp6(1),s.Q6J("ngIf",!i.node.hasChildren)}}function Zo(e,n){if(1&e){const i=s.EpF();s.ynx(0),s.TgZ(1,"input",1),s.NdJ("click",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("checkboxClick",r))}),s.qZA(),s.BQk()}if(2&e){const i=s.oxw();s.xp6(1),s.Q6J("checked",i.node.isSelected)("indeterminate",i.node.isPartiallySelected)}}const Io=["loadingTemplate"],Ro=["treeNodeTemplate"],Lo=["treeNodeWrapperTemplate"],ko=["treeNodeFullTemplate"],Uo=["viewport"],Fo=function(e,n,i,t){return{loadingTemplate:e,treeNodeTemplate:n,treeNodeWrapperTemplate:i,treeNodeFullTemplate:t}};function Bo(e,n){if(1&e&&s._UZ(0,"tree-node-collection",4),2&e){const i=s.oxw();s.Q6J("nodes",i.treeModel.roots)("treeModel",i.treeModel)("templates",s.l5B(3,Fo,i.loadingTemplate,i.treeNodeTemplate,i.treeNodeWrapperTemplate,i.treeNodeFullTemplate))}}function Vo(e,n){if(1&e&&s._UZ(0,"tree-node-drop-slot",5),2&e){const i=s.oxw();s.Q6J("dropIndex",0)("node",i.treeModel.virtualRoot)}}function jo(e,n){if(1&e&&s._UZ(0,"tree-node-collection",4),2&e){const i=s.oxw(3);s.Q6J("nodes",i.node.children)("templates",i.templates)("treeModel",i.node.treeModel)}}function qo(e,n){if(1&e&&s._UZ(0,"tree-loading-component",5),2&e){const i=s.oxw(3);s.Udp("padding-left",i.node.getNodePadding()),s.Q6J("template",i.templates.loadingTemplate)("node",i.node)}}function Ho(e,n){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,jo,1,3,"tree-node-collection",2),s.YNc(2,qo,1,4,"tree-loading-component",3),s.qZA()),2&e){const i=s.oxw(2);s.ekj("tree-children",!0)("tree-children-no-padding",i.node.options.levelPadding),s.xp6(1),s.Q6J("ngIf",i.node.children),s.xp6(1),s.Q6J("ngIf",!i.node.children)}}function Go(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Ho,3,6,"div",1),s.BQk()),2&e){const i=s.oxw();s.xp6(1),s.Q6J("treeAnimateOpen",i.node.isExpanded)("treeAnimateOpenSpeed",i.node.options.animateSpeed)("treeAnimateOpenAcceleration",i.node.options.animateAcceleration)("treeAnimateOpenEnabled",i.node.options.animateExpand)}}function Jo(e,n){if(1&e&&s._UZ(0,"tree-node",2),2&e){const i=n.$implicit,t=n.index,r=s.oxw(2);s.Q6J("node",i)("index",t)("templates",r.templates)}}function zo(e,n){if(1&e&&(s.ynx(0),s.TgZ(1,"div"),s.YNc(2,Jo,1,3,"tree-node",1),s.qZA(),s.BQk()),2&e){const i=s.oxw();s.xp6(1),s.Udp("margin-top",i.marginTop),s.xp6(1),s.Q6J("ngForOf",i.viewportNodes)("ngForTrackBy",i.trackNode)}}function $o(e,n){if(1&e&&s._UZ(0,"tree-node-drop-slot",6),2&e){const i=s.oxw(3);s.Q6J("dropIndex",i.node.index)("node",i.node.parent)}}function Ko(e,n){if(1&e&&(s.TgZ(0,"div"),s.YNc(1,$o,1,2,"tree-node-drop-slot",3),s._UZ(2,"tree-node-wrapper",4)(3,"tree-node-children",5)(4,"tree-node-drop-slot",6),s.qZA()),2&e){const i=s.oxw(2);s.Tol(i.node.getClass()),s.ekj("tree-node",!0)("tree-node-expanded",i.node.isExpanded&&i.node.hasChildren)("tree-node-collapsed",i.node.isCollapsed&&i.node.hasChildren)("tree-node-leaf",i.node.isLeaf)("tree-node-active",i.node.isActive)("tree-node-focused",i.node.isFocused),s.xp6(1),s.Q6J("ngIf",0===i.index),s.xp6(1),s.Q6J("node",i.node)("index",i.index)("templates",i.templates),s.xp6(1),s.Q6J("node",i.node)("templates",i.templates),s.xp6(1),s.Q6J("dropIndex",i.node.index+1)("node",i.node.parent)}}const Oi=function(e,n,i,t){return{$implicit:e,node:n,index:i,templates:t}};function Yo(e,n){if(1&e&&(s.ynx(0),s.YNc(1,Ko,5,22,"div",1),s.GkF(2,2),s.BQk()),2&e){const i=s.oxw();s.xp6(1),s.Q6J("ngIf",!i.templates.treeNodeFullTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",i.templates.treeNodeFullTemplate)("ngTemplateOutletContext",s.l5B(3,Oi,i.node,i.node,i.index,i.templates))}}function Qo(e,n){if(1&e&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&e){const i=s.oxw();s.xp6(1),s.Oqu(i.node.displayField)}}const Wo=function(e,n,i){return{$implicit:e,node:n,index:i}};function Xo(e,n){if(1&e&&s._UZ(0,"tree-node-checkbox",4),2&e){const i=s.oxw(2);s.Q6J("node",i.node)}}function es(e,n){if(1&e){const i=s.EpF();s.TgZ(0,"div",2),s.YNc(1,Xo,1,1,"tree-node-checkbox",3),s._UZ(2,"tree-node-expander",4),s.TgZ(3,"div",5),s.NdJ("click",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("click",r))})("dblclick",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("dblClick",r))})("mouseover",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("mouseOver",r))})("mouseout",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("mouseOut",r))})("contextmenu",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("contextMenu",r))})("treeDrop",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.onDrop(r))})("treeDropDragOver",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("dragOver",r))})("treeDropDragLeave",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("dragLeave",r))})("treeDropDragEnter",function(r){s.CHM(i);const o=s.oxw();return s.KtG(o.node.mouseAction("dragEnter",r))}),s._UZ(4,"tree-node-content",6),s.qZA()()}if(2&e){const i=s.oxw();s.Udp("padding-left",i.node.getNodePadding()),s.xp6(1),s.Q6J("ngIf",i.node.options.useCheckbox),s.xp6(1),s.Q6J("node",i.node),s.xp6(1),s.ekj("node-content-wrapper-active",i.node.isActive)("node-content-wrapper-focused",i.node.isFocused),s.Q6J("treeAllowDrop",i.node.allowDrop)("allowDragoverStyling",i.node.allowDragoverStyling())("treeDrag",i.node)("treeDragEnabled",i.node.allowDrag()),s.xp6(1),s.Q6J("node",i.node)("index",i.index)("template",i.templates.treeNodeTemplate)}}let $e=(()=>{var e;class n{constructor(t,r){(0,c.Z)(this,"templateRef",void 0),(0,c.Z)(this,"viewContainer",void 0),(0,c.Z)(this,"templateBindings",{}),(0,c.Z)(this,"dispose",void 0),(0,c.Z)(this,"view",void 0),(0,c.Z)(this,"treeMobxAutorun",void 0),this.templateRef=t,this.viewContainer=r}ngOnInit(){this.view=this.viewContainer.createEmbeddedView(this.templateRef),this.dispose&&this.dispose(),this.shouldDetach()&&this.view.detach(),this.autoDetect(this.view)}shouldDetach(){return this.treeMobxAutorun&&this.treeMobxAutorun.detach}autoDetect(t){this.dispose=rt(()=>t.detectChanges())}ngOnDestroy(){this.dispose&&this.dispose()}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)(s.Y36(s.Rgc),s.Y36(s.s_b))}),(0,c.Z)(n,"\u0275dir",s.lG2({type:e,selectors:[["","treeMobxAutorun",""]],inputs:{treeMobxAutorun:"treeMobxAutorun"}})),n})();const j={TOGGLE_ACTIVE:(e,n,i)=>n&&n.toggleActivated(),TOGGLE_ACTIVE_MULTI:(e,n,i)=>n&&n.toggleActivated(!0),TOGGLE_SELECTED:(e,n,i)=>n&&n.toggleSelected(),ACTIVATE:(e,n,i)=>n.setIsActive(!0),DEACTIVATE:(e,n,i)=>n.setIsActive(!1),SELECT:(e,n,i)=>n.setIsSelected(!0),DESELECT:(e,n,i)=>n.setIsSelected(!1),FOCUS:(e,n,i)=>n.focus(),TOGGLE_EXPANDED:(e,n,i)=>n.hasChildren&&n.toggleExpanded(),EXPAND:(e,n,i)=>n.expand(),COLLAPSE:(e,n,i)=>n.collapse(),DRILL_DOWN:(e,n,i)=>e.focusDrillDown(),DRILL_UP:(e,n,i)=>e.focusDrillUp(),NEXT_NODE:(e,n,i)=>e.focusNextNode(),PREVIOUS_NODE:(e,n,i)=>e.focusPreviousNode(),MOVE_NODE:(e,n,i,{from:t,to:r})=>{i.ctrlKey?e.copyNode(t,r):e.moveNode(t,r)}},Ke={mouse:{click:j.TOGGLE_ACTIVE,dblClick:null,contextMenu:null,expanderClick:j.TOGGLE_EXPANDED,checkboxClick:j.TOGGLE_SELECTED,drop:j.MOVE_NODE},keys:{39:j.DRILL_DOWN,37:j.DRILL_UP,40:j.NEXT_NODE,38:j.PREVIOUS_NODE,32:j.TOGGLE_ACTIVE,13:j.TOGGLE_ACTIVE}};class xi{get hasChildrenField(){return this.options.hasChildrenField||"hasChildren"}get childrenField(){return this.options.childrenField||"children"}get displayField(){return this.options.displayField||"name"}get idField(){return this.options.idField||"id"}get isExpandedField(){return this.options.isExpandedField||"isExpanded"}get getChildren(){return this.options.getChildren}get levelPadding(){return this.options.levelPadding||0}get useVirtualScroll(){return this.options.useVirtualScroll}get animateExpand(){return this.options.animateExpand}get animateSpeed(){return this.options.animateSpeed||1}get animateAcceleration(){return this.options.animateAcceleration||1.2}get scrollOnActivate(){return void 0===this.options.scrollOnActivate||this.options.scrollOnActivate}get rtl(){return!!this.options.rtl}get rootId(){return this.options.rootId}get useCheckbox(){return this.options.useCheckbox}get useTriState(){return void 0===this.options.useTriState||this.options.useTriState}get scrollContainer(){return this.options.scrollContainer}get allowDragoverStyling(){return void 0===this.options.allowDragoverStyling||this.options.allowDragoverStyling}constructor(n={}){(0,c.Z)(this,"options",void 0),(0,c.Z)(this,"actionMapping",void 0),this.options=n,this.actionMapping={mouse:{click:this.options?.actionMapping?.mouse?.click??Ke.mouse.click,dblClick:this.options?.actionMapping?.mouse?.dblClick??Ke.mouse.dblClick,contextMenu:this.options?.actionMapping?.mouse?.contextMenu??Ke.mouse.contextMenu,expanderClick:this.options?.actionMapping?.mouse?.expanderClick??Ke.mouse.expanderClick,checkboxClick:this.options?.actionMapping?.mouse?.checkboxClick??Ke.mouse.checkboxClick,drop:this.options?.actionMapping?.mouse?.drop??Ke.mouse.drop,dragStart:this.options?.actionMapping?.mouse?.dragStart??void 0,drag:this.options?.actionMapping?.mouse?.drag??void 0,dragEnd:this.options?.actionMapping?.mouse?.dragEnd??void 0,dragOver:this.options?.actionMapping?.mouse?.dragOver??void 0,dragLeave:this.options?.actionMapping?.mouse?.dragLeave??void 0,dragEnter:this.options?.actionMapping?.mouse?.dragEnter??void 0,mouseOver:this.options?.actionMapping?.mouse?.mouseOver??void 0,mouseOut:this.options?.actionMapping?.mouse?.mouseOut??void 0},keys:{39:j.DRILL_DOWN,37:j.DRILL_UP,40:j.NEXT_NODE,38:j.PREVIOUS_NODE,32:j.TOGGLE_ACTIVE,13:j.TOGGLE_ACTIVE}},this.options?.actionMapping?.keys&&(this.actionMapping.keys={...this.actionMapping.keys,...this.options.actionMapping.keys}),n.rtl&&(this.actionMapping.keys[39]=n.actionMapping?.keys[39]||j.DRILL_UP,this.actionMapping.keys[37]=n.actionMapping?.keys[37]||j.DRILL_DOWN)}getNodeClone(n){if(this.options.getNodeClone)return this.options.getNodeClone(n);const i=Object.assign({},n.data);return i.id&&delete i.id,i}allowDrop(n,i,t){return this.options.allowDrop instanceof Function?this.options.allowDrop(n,i,t):void 0===this.options.allowDrop||this.options.allowDrop}allowDrag(n){return this.options.allowDrag instanceof Function?this.options.allowDrag(n):this.options.allowDrag}nodeClass(n){return this.options.nodeClass?this.options.nodeClass(n):""}nodeHeight(n){if(n.data.virtual)return 0;let i=this.options.nodeHeight||22;return"function"==typeof i&&(i=i(n)),i+(0===n.index?2:1)*this.dropSlotHeight}get dropSlotHeight(){return"number"==typeof this.options.dropSlotHeight?this.options.dropSlotHeight:2}}const B={toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",initialized:"initialized",updateData:"updateData",moveNode:"moveNode",copyNode:"copyNode",event:"event",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",stateChange:"stateChange"};class en{get isHidden(){return this.treeModel.isHidden(this)}get isExpanded(){return this.treeModel.isExpanded(this)}get isActive(){return this.treeModel.isActive(this)}get isFocused(){return this.treeModel.isNodeFocused(this)}get isSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.some(n=>n.isSelected)}get isAllSelected(){return this.isSelectable()?this.treeModel.isSelected(this):this.children.every(n=>n.isAllSelected)}get isPartiallySelected(){return this.isSelected&&!this.isAllSelected}get level(){return this.parent?this.parent.level+1:0}get path(){return this.parent?[...this.parent.path,this.id]:[]}get elementRef(){throw"Element Ref is no longer supported since introducing virtual scroll\n\n      You may use a template to obtain a reference to the element"}get originalNode(){return this._originalNode}constructor(n,i,t,r){(0,c.Z)(this,"data",void 0),(0,c.Z)(this,"parent",void 0),(0,c.Z)(this,"treeModel",void 0),(0,c.Z)(this,"handler",void 0),(0,c.Z)(this,"children",void 0),(0,c.Z)(this,"index",void 0),(0,c.Z)(this,"position",0),(0,c.Z)(this,"height",void 0),(0,c.Z)(this,"_originalNode",void 0),(0,c.Z)(this,"allowDrop",(o,a)=>this.options.allowDrop(o,{parent:this,index:0},a)),(0,c.Z)(this,"allowDragoverStyling",()=>this.options.allowDragoverStyling),this.data=n,this.parent=i,this.treeModel=t,Nt(this,{isHidden:U,isExpanded:U,isActive:U,isFocused:U,isSelected:U,isAllSelected:U,isPartiallySelected:U,children:E,index:E,position:E,height:E,level:U,path:U,visibleChildren:U,setIsSelected:M,_initChildren:M}),null==this.id&&(this.id=function ts(){return Math.floor(1e13*Math.random())}()),this.index=r,this.getField("children")&&this._initChildren(),this.autoLoadChildren()}get hasChildren(){return!!(this.getField("hasChildren")||this.children&&this.children.length>0)}get isCollapsed(){return!this.isExpanded}get isLeaf(){return!this.hasChildren}get isRoot(){return this.parent.data.virtual}get realParent(){return this.isRoot?null:this.parent}get options(){return this.treeModel.options}fireEvent(n){this.treeModel.fireEvent(n)}get displayField(){return this.getField("display")}get id(){return this.getField("id")}set id(n){this.setField("id",n)}getField(n){return this.data[this.options[`${n}Field`]]}setField(n,i){this.data[this.options[`${n}Field`]]=i}_findAdjacentSibling(n,i=!1){const t=this._getParentsChildren(i),r=t.indexOf(this);return t.length>r+n?t[r+n]:null}findNextSibling(n=!1){return this._findAdjacentSibling(1,n)}findPreviousSibling(n=!1){return this._findAdjacentSibling(-1,n)}getVisibleChildren(){return this.visibleChildren}get visibleChildren(){return(this.children||[]).filter(n=>!n.isHidden)}getFirstChild(n=!1){let i=n?this.visibleChildren:this.children;return null!=i&&i.length?i[0]:null}getLastChild(n=!1){let i=n?this.visibleChildren:this.children;return null!=i&&i.length?i[i.length-1]:null}findNextNode(n=!0,i=!1){return n&&this.isExpanded&&this.getFirstChild(i)||this.findNextSibling(i)||this.parent&&this.parent.findNextNode(!1,i)}findPreviousNode(n=!1){let i=this.findPreviousSibling(n);return i?i._getLastOpenDescendant(n):this.realParent}_getLastOpenDescendant(n=!1){const i=this.getLastChild(n);return this.isCollapsed||!i?this:i._getLastOpenDescendant(n)}_getParentsChildren(n=!1){return this.parent&&(n?this.parent.getVisibleChildren():this.parent.children)||[]}getIndexInParent(n=!1){return this._getParentsChildren(n).indexOf(this)}isDescendantOf(n){return this===n||this.parent&&this.parent.isDescendantOf(n)}getNodePadding(){return this.options.levelPadding*(this.level-1)+"px"}getClass(){return[this.options.nodeClass(this),`tree-node-level-${this.level}`].join(" ")}onDrop(n){this.mouseAction("drop",n.event,{from:n.element,to:{parent:this,index:0,dropOnNode:!0}})}allowDrag(){return this.options.allowDrag(this)}loadNodeChildren(){return this.options.getChildren?Promise.resolve(this.options.getChildren(this)).then(n=>{n&&(this.setField("children",n),this._initChildren(),this.options.useTriState&&this.treeModel.isSelected(this)&&this.setIsSelected(!0),this.children.forEach(i=>{i.getField("isExpanded")&&i.hasChildren&&i.expand()}))}).then(()=>{this.fireEvent({eventName:B.loadNodeChildren,node:this})}):Promise.resolve()}expand(){return this.isExpanded||this.toggleExpanded(),this}collapse(){return this.isExpanded&&this.toggleExpanded(),this}doForAll(n){Promise.resolve(n(this)).then(()=>{this.children&&this.children.forEach(i=>i.doForAll(n))})}expandAll(){this.doForAll(n=>n.expand())}collapseAll(){this.doForAll(n=>n.collapse())}ensureVisible(){return this.realParent&&(this.realParent.expand(),this.realParent.ensureVisible()),this}toggleExpanded(){return this.setIsExpanded(!this.isExpanded),this}setIsExpanded(n){return this.hasChildren&&this.treeModel.setExpandedNode(this,n),this}autoLoadChildren(){this.handler=He(()=>this.isExpanded,n=>{!this.children&&this.hasChildren&&n&&this.loadNodeChildren()},{fireImmediately:!0})}dispose(){this.children&&this.children.forEach(n=>n.dispose()),this.handler&&this.handler(),this.parent=null,this.children=null}setIsActive(n,i=!1){return this.treeModel.setActiveNode(this,n,i),n&&this.focus(this.options.scrollOnActivate),this}isSelectable(){return this.isLeaf||!this.children||!this.options.useTriState}setIsSelected(n){return this.isSelectable()?this.treeModel.setSelectedNode(this,n):this.visibleChildren.forEach(i=>i.setIsSelected(n)),this}toggleSelected(){return this.setIsSelected(!this.isSelected),this}toggleActivated(n=!1){return this.setIsActive(!this.isActive,n),this}setActiveAndVisible(n=!1){return this.setIsActive(!0,n).ensureVisible(),setTimeout(this.scrollIntoView.bind(this)),this}scrollIntoView(n=!1){this.treeModel.virtualScroll.scrollIntoView(this,n)}focus(n=!0){let i=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(this),n&&this.scrollIntoView(),i&&this.fireEvent({eventName:B.blur,node:i}),this.fireEvent({eventName:B.focus,node:this}),this}blur(){let n=this.treeModel.getFocusedNode();return this.treeModel.setFocusedNode(null),n&&this.fireEvent({eventName:B.blur,node:this}),this}setIsHidden(n){this.treeModel.setIsHidden(this,n)}hide(){this.setIsHidden(!0)}show(){this.setIsHidden(!1)}mouseAction(n,i,t=null){this.treeModel.setFocus(!0);const o=this.options.actionMapping.mouse[n];o&&o(this.treeModel,this,i,t)}getSelfHeight(){return this.options.nodeHeight(this)}_initChildren(){this.children=this.getField("children").map((n,i)=>new en(n,this,this.treeModel,i))}}let tn=(()=>{var e;class n{constructor(){(0,c.Z)(this,"options",new xi),(0,c.Z)(this,"nodes",void 0),(0,c.Z)(this,"eventNames",Object.keys(B)),(0,c.Z)(this,"virtualScroll",void 0),(0,c.Z)(this,"roots",void 0),(0,c.Z)(this,"expandedNodeIds",{}),(0,c.Z)(this,"selectedLeafNodeIds",{}),(0,c.Z)(this,"activeNodeIds",{}),(0,c.Z)(this,"hiddenNodeIds",{}),(0,c.Z)(this,"focusedNodeId",null),(0,c.Z)(this,"virtualRoot",void 0),(0,c.Z)(this,"firstUpdate",!0),(0,c.Z)(this,"events",void 0),(0,c.Z)(this,"subscriptions",[]),Nt(this,{roots:E,expandedNodeIds:E,selectedLeafNodeIds:E,activeNodeIds:E,hiddenNodeIds:E,focusedNodeId:E,virtualRoot:E,focusedNode:U,expandedNodes:U,activeNodes:U,hiddenNodes:U,selectedLeafNodes:U,setData:M,update:M,setFocusedNode:M,setFocus:M,doForAll:M,focusNextNode:M,focusPreviousNode:M,focusDrillDown:M,focusDrillUp:M,setActiveNode:M,setSelectedNode:M,setExpandedNode:M,expandAll:M,collapseAll:M,setIsHidden:M,setHiddenNodeIds:M,filterNodes:M,clearFilter:M,moveNode:M,copyNode:M,setState:M})}fireEvent(t){t.treeModel=this,this.events[t.eventName].emit(t),this.events.event.emit(t)}subscribe(t,r){const o=this.events[t].subscribe(r);this.subscriptions.push(o)}getFocusedNode(){return this.focusedNode}getActiveNode(){return this.activeNodes[0]}getActiveNodes(){return this.activeNodes}getVisibleRoots(){return this.virtualRoot.visibleChildren}getFirstRoot(t=!1){const r=t?this.getVisibleRoots():this.roots;return null!=r&&r.length?r[0]:null}getLastRoot(t=!1){const r=t?this.getVisibleRoots():this.roots;return null!=r&&r.length?r[r.length-1]:null}get isFocused(){return n.focusedTree===this}isNodeFocused(t){return this.focusedNode===t}isEmptyTree(){return this.roots&&0===this.roots.length}get focusedNode(){return this.focusedNodeId?this.getNodeById(this.focusedNodeId):null}get expandedNodes(){return Object.keys(this.expandedNodeIds).filter(r=>this.expandedNodeIds[r]).map(r=>this.getNodeById(r)).filter(Boolean)}get activeNodes(){return Object.keys(this.activeNodeIds).filter(r=>this.activeNodeIds[r]).map(r=>this.getNodeById(r)).filter(Boolean)}get hiddenNodes(){return Object.keys(this.hiddenNodeIds).filter(r=>this.hiddenNodeIds[r]).map(r=>this.getNodeById(r)).filter(Boolean)}get selectedLeafNodes(){return Object.keys(this.selectedLeafNodeIds).filter(r=>this.selectedLeafNodeIds[r]).map(r=>this.getNodeById(r)).filter(Boolean)}getNodeByPath(t,r=null){if(!t)return null;if(r=r||this.virtualRoot,0===t.length)return r;if(!r.children)return null;const o=t.shift(),a=r.children.find(d=>d.id===o);return a?this.getNodeByPath(t,a):null}getNodeById(t){const r=t.toString();return this.getNodeBy(o=>o.id.toString()===r)}getNodeBy(t,r=null){if(!(r=r||this.virtualRoot).children)return null;const o=r.children.find(t);if(o)return o;for(let a of r.children){const d=this.getNodeBy(t,a);if(d)return d}}isExpanded(t){return this.expandedNodeIds[t.id]}isHidden(t){return this.hiddenNodeIds[t.id]}isActive(t){return this.activeNodeIds[t.id]}isSelected(t){return this.selectedLeafNodeIds[t.id]}ngOnDestroy(){this.dispose(),this.unsubscribeAll()}dispose(){this.virtualRoot&&this.virtualRoot.dispose()}unsubscribeAll(){this.subscriptions.forEach(t=>t.unsubscribe()),this.subscriptions=[]}setData({nodes:t,options:r=null,events:o=null}){r&&(this.options=new xi(r)),o&&(this.events=o),t&&(this.nodes=t),this.update()}update(){let t={id:this.options.rootId,virtual:!0,[this.options.childrenField]:this.nodes};this.dispose(),this.virtualRoot=new en(t,null,this,0),this.roots=this.virtualRoot.children,this.firstUpdate?this.roots&&(this.firstUpdate=!1,this._calculateExpandedNodes()):this.fireEvent({eventName:B.updateData})}setFocusedNode(t){this.focusedNodeId=t?t.id:null}setFocus(t){n.focusedTree=t?this:null}doForAll(t){this.roots.forEach(r=>r.doForAll(t))}focusNextNode(){let t=this.getFocusedNode(),r=t?t.findNextNode(!0,!0):this.getFirstRoot(!0);r&&r.focus()}focusPreviousNode(){let t=this.getFocusedNode(),r=t?t.findPreviousNode(!0):this.getLastRoot(!0);r&&r.focus()}focusDrillDown(){let t=this.getFocusedNode();if(t&&t.isCollapsed&&t.hasChildren)t.toggleExpanded();else{let r=t?t.getFirstChild(!0):this.getFirstRoot(!0);r&&r.focus()}}focusDrillUp(){let t=this.getFocusedNode();if(t)if(t.isExpanded)t.toggleExpanded();else{let r=t.realParent;r&&r.focus()}}setActiveNode(t,r,o=!1){o?this._setActiveNodeMulti(t,r):this._setActiveNodeSingle(t,r),r?(t.focus(this.options.scrollOnActivate),this.fireEvent({eventName:B.activate,node:t}),this.fireEvent({eventName:B.nodeActivate,node:t})):(this.fireEvent({eventName:B.deactivate,node:t}),this.fireEvent({eventName:B.nodeDeactivate,node:t}))}setSelectedNode(t,r){this.selectedLeafNodeIds=Object.assign({},this.selectedLeafNodeIds,{[t.id]:r}),r?(t.focus(),this.fireEvent({eventName:B.select,node:t})):this.fireEvent({eventName:B.deselect,node:t})}setExpandedNode(t,r){this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[t.id]:r}),this.fireEvent({eventName:B.toggleExpanded,node:t,isExpanded:r})}expandAll(){this.roots.forEach(t=>t.expandAll())}collapseAll(){this.roots.forEach(t=>t.collapseAll())}setIsHidden(t,r){this.hiddenNodeIds=Object.assign({},this.hiddenNodeIds,{[t.id]:r})}setHiddenNodeIds(t){this.hiddenNodeIds=t.reduce((r,o)=>Object.assign(r,{[o]:!0}),{})}performKeyAction(t,r){const o=this.options.actionMapping.keys[r.keyCode];return!!o&&(r.preventDefault(),o(this,t,r),!0)}filterNodes(t,r=!0){let o;if(!t)return this.clearFilter();if(t&&"string"==typeof t.valueOf())o=d=>-1!==d.displayField.toLowerCase().indexOf(t.toLowerCase());else{if(!t||"function"!=typeof t)return console.error("Don't know what to do with filter",t),void console.error("Should be either a string or function");o=t}const a={};this.roots.forEach(d=>this._filterNode(a,d,o,r)),this.hiddenNodeIds=a,this.fireEvent({eventName:B.changeFilter})}clearFilter(){this.hiddenNodeIds={},this.fireEvent({eventName:B.changeFilter})}moveNode(t,r){const o=t.getIndexInParent(),a=t.parent;if(!this.canMoveNode(t,r,o))return;const d=a.getField("children");r.parent.getField("children")||r.parent.setField("children",[]);const u=r.parent.getField("children"),h=d.splice(o,1)[0];let v=a===r.parent&&r.index>o?r.index-1:r.index;u.splice(v,0,h),a.treeModel.update(),r.parent.treeModel!==a.treeModel&&r.parent.treeModel.update(),this.fireEvent({eventName:B.moveNode,node:h,to:{parent:r.parent.data,index:v},from:{parent:a.data,index:o}})}copyNode(t,r){const o=t.getIndexInParent();if(!this.canMoveNode(t,r,o))return;r.parent.getField("children")||r.parent.setField("children",[]);const a=r.parent.getField("children"),d=this.options.getNodeClone(t);a.splice(r.index,0,d),t.treeModel.update(),r.parent.treeModel!==t.treeModel&&r.parent.treeModel.update(),this.fireEvent({eventName:B.copyNode,node:d,to:{parent:r.parent.data,index:r.index}})}getState(){return{expandedNodeIds:this.expandedNodeIds,selectedLeafNodeIds:this.selectedLeafNodeIds,activeNodeIds:this.activeNodeIds,hiddenNodeIds:this.hiddenNodeIds,focusedNodeId:this.focusedNodeId}}setState(t){t&&Object.assign(this,{expandedNodeIds:t.expandedNodeIds||{},selectedLeafNodeIds:t.selectedLeafNodeIds||{},activeNodeIds:t.activeNodeIds||{},hiddenNodeIds:t.hiddenNodeIds||{},focusedNodeId:t.focusedNodeId})}subscribeToState(t){rt(()=>t(this.getState()))}canMoveNode(t,r,o=void 0){return o||t.getIndexInParent(),(t.parent!==r.parent||o!==r.index)&&!r.parent.isDescendantOf(t)}calculateExpandedNodes(){this._calculateExpandedNodes()}_filterNode(t,r,o,a){let d=o(r);return r.children&&r.children.forEach(u=>{this._filterNode(t,u,o,a)&&(d=!0)}),d||(t[r.id]=!0),a&&d&&r.ensureVisible(),d}_calculateExpandedNodes(t=null){(t=t||this.virtualRoot).data[this.options.isExpandedField]&&(this.expandedNodeIds=Object.assign({},this.expandedNodeIds,{[t.id]:!0})),t.children&&t.children.forEach(r=>this._calculateExpandedNodes(r))}_setActiveNodeSingle(t,r){this.activeNodes.filter(o=>o!==t).forEach(o=>{this.fireEvent({eventName:B.deactivate,node:o}),this.fireEvent({eventName:B.nodeDeactivate,node:o})}),this.activeNodeIds=r?{[t.id]:!0}:{}}_setActiveNodeMulti(t,r){this.activeNodeIds=Object.assign({},this.activeNodeIds,{[t.id]:r})}}return e=n,(0,c.Z)(n,"focusedTree",null),(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275prov",s.Yz7({token:e,factory:e.\u0275fac})),n})(),nn=(()=>{var e;class n{constructor(){(0,c.Z)(this,"_draggedElement",null)}set(t){this._draggedElement=t}get(){return this._draggedElement}isDragging(){return!!this.get()}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275prov",s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})),n})(),Ci=(()=>{var e;class n{get y(){return 150*this.yBlocks}get totalHeight(){return this.treeModel.virtualRoot?this.treeModel.virtualRoot.height:0}constructor(t){(0,c.Z)(this,"treeModel",void 0),(0,c.Z)(this,"_dispose",void 0),(0,c.Z)(this,"yBlocks",0),(0,c.Z)(this,"x",0),(0,c.Z)(this,"viewportHeight",null),(0,c.Z)(this,"viewport",null),this.treeModel=t,Nt(this,{yBlocks:E,x:E,viewportHeight:E,y:U,totalHeight:U,_setYBlocks:M,recalcPositions:M,setViewport:M,scrollIntoView:M}),t.virtualScroll=this,this._dispose=[rt(()=>this.fixScroll())]}fireEvent(t){this.treeModel.fireEvent(t)}init(){const t=this.recalcPositions.bind(this);t(),this._dispose=[...this._dispose,He(()=>this.treeModel.roots,t),He(()=>this.treeModel.expandedNodeIds,t),He(()=>this.treeModel.hiddenNodeIds,t)],this.treeModel.subscribe(B.loadNodeChildren,t)}isEnabled(){return this.treeModel.options.useVirtualScroll}_setYBlocks(t){this.yBlocks=t}recalcPositions(){this.treeModel.virtualRoot.height=this._getPositionAfter(this.treeModel.getVisibleRoots(),0)}_getPositionAfter(t,r){let o=r;return t.forEach(a=>{a.position=o,o=this._getPositionAfterNode(a,o)}),o}_getPositionAfterNode(t,r){let o=t.getSelfHeight()+r;return t.children&&t.isExpanded&&(o=this._getPositionAfter(t.visibleChildren,o)),t.height=o-r,o}clear(){this._dispose.forEach(t=>t())}setViewport(t){Object.assign(this,{viewport:t,x:t.scrollLeft,yBlocks:Math.round(t.scrollTop/150),viewportHeight:t.getBoundingClientRect?t.getBoundingClientRect().height:0})}scrollIntoView(t,r,o=!0){if(t.options.scrollContainer){const a=t.options.scrollContainer,d=a.getBoundingClientRect().height,u=a.getBoundingClientRect().top,h=this.viewport.getBoundingClientRect().top+t.position-u;(r||h<a.scrollTop||h+t.getSelfHeight()>a.scrollTop+d)&&(a.scrollTop=o?h-d/2:h)}else(r||t.position<this.y||t.position+t.getSelfHeight()>this.y+this.viewportHeight)&&this.viewport&&(this.viewport.scrollTop=o?t.position-this.viewportHeight/2:t.position,this._setYBlocks(Math.floor(this.viewport.scrollTop/150)))}getViewportNodes(t){if(!t)return[];const r=t.filter(h=>!h.isHidden);if(!this.isEnabled())return r;if(!this.viewportHeight||!r.length)return[];const o=r.slice(-1)[0];if(!o.height&&0===o.position)return[];const a=wi(r,h=>h.position+500>this.y||h.position+h.height>this.y),d=wi(r,h=>h.position-500>this.y+this.viewportHeight,a),u=[];for(let h=a;h<=d;h++)u.push(r[h]);return u}fixScroll(){const t=Math.max(0,this.totalHeight-this.viewportHeight);this.y<0&&this._setYBlocks(0),this.y>t&&this._setYBlocks(t/150)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)(s.LFG(tn))}),(0,c.Z)(n,"\u0275prov",s.Yz7({token:e,factory:e.\u0275fac})),n})();function wi(e,n,i=0){let t=i,r=e.length-1;for(;t!==r;){let o=Math.floor((t+r)/2);n(e[o])?r=o:t=t===o?r:o}return t}let ns=(()=>{var e;class n{constructor(){(0,c.Z)(this,"template",void 0),(0,c.Z)(this,"node",void 0)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-loading-component"]],inputs:{template:"template",node:"node"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(s.YNc(0,Ao,2,0,"span",0),s.GkF(1,1)),2&t&&(s.Q6J("ngIf",!r.template),s.xp6(1),s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.VKq(3,Eo,r.node)))},dependencies:[l.O5,l.tP],encapsulation:2})),n})();const rs=Object.assign(function is(...e){return M(...e)},M),ss=Object.assign(function os(...e){return U(...e)},U),Mi=Object.assign(function as(...e){return E(...e)},E),Ai="is-dragging-over",Ei="is-dragging-over-disabled";let Ni=(()=>{var e;class n{set treeAllowDrop(t){this._allowDrop=t instanceof Function?t:(r,o)=>t}allowDrop(t){return this._allowDrop(this.treeDraggedElement.get(),t)}constructor(t,r,o,a){(0,c.Z)(this,"el",void 0),(0,c.Z)(this,"renderer",void 0),(0,c.Z)(this,"treeDraggedElement",void 0),(0,c.Z)(this,"ngZone",void 0),(0,c.Z)(this,"allowDragoverStyling",!0),(0,c.Z)(this,"onDropCallback",new s.vpe),(0,c.Z)(this,"onDragOverCallback",new s.vpe),(0,c.Z)(this,"onDragLeaveCallback",new s.vpe),(0,c.Z)(this,"onDragEnterCallback",new s.vpe),(0,c.Z)(this,"dragOverEventHandler",void 0),(0,c.Z)(this,"dragEnterEventHandler",void 0),(0,c.Z)(this,"dragLeaveEventHandler",void 0),(0,c.Z)(this,"_allowDrop",(d,u)=>!0),this.el=t,this.renderer=r,this.treeDraggedElement=o,this.ngZone=a,this.dragOverEventHandler=this.onDragOver.bind(this),this.dragEnterEventHandler=this.onDragEnter.bind(this),this.dragLeaveEventHandler=this.onDragLeave.bind(this)}ngAfterViewInit(){let t=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{t.addEventListener("dragover",this.dragOverEventHandler),t.addEventListener("dragenter",this.dragEnterEventHandler),t.addEventListener("dragleave",this.dragLeaveEventHandler)})}ngOnDestroy(){let t=this.el.nativeElement;t.removeEventListener("dragover",this.dragOverEventHandler),t.removeEventListener("dragenter",this.dragEnterEventHandler),t.removeEventListener("dragleave",this.dragLeaveEventHandler)}onDragOver(t){if(!this.allowDrop(t))return this.allowDragoverStyling?this.addDisabledClass():void 0;this.onDragOverCallback.emit({event:t,element:this.treeDraggedElement.get()}),t.preventDefault(),this.allowDragoverStyling&&this.addClass()}onDragEnter(t){this.allowDrop(t)&&(t.preventDefault(),this.onDragEnterCallback.emit({event:t,element:this.treeDraggedElement.get()}))}onDragLeave(t){if(!this.allowDrop(t))return this.allowDragoverStyling?this.removeDisabledClass():void 0;this.onDragLeaveCallback.emit({event:t,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass()}onDrop(t){this.allowDrop(t)&&(t.preventDefault(),this.onDropCallback.emit({event:t,element:this.treeDraggedElement.get()}),this.allowDragoverStyling&&this.removeClass(),this.treeDraggedElement.set(null))}addClass(){this.renderer.addClass(this.el.nativeElement,Ai)}removeClass(){this.renderer.removeClass(this.el.nativeElement,Ai)}addDisabledClass(){this.renderer.addClass(this.el.nativeElement,Ei)}removeDisabledClass(){this.renderer.removeClass(this.el.nativeElement,Ei)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(nn),s.Y36(s.R0b))}),(0,c.Z)(n,"\u0275dir",s.lG2({type:e,selectors:[["","treeDrop",""]],hostBindings:function(t,r){1&t&&s.NdJ("drop",function(a){return r.onDrop(a)})},inputs:{allowDragoverStyling:"allowDragoverStyling",treeAllowDrop:"treeAllowDrop"},outputs:{onDropCallback:"treeDrop",onDragOverCallback:"treeDropDragOver",onDragLeaveCallback:"treeDropDragLeave",onDragEnterCallback:"treeDropDragEnter"}})),n})(),Ti=(()=>{var e;class n{constructor(){(0,c.Z)(this,"node",void 0),(0,c.Z)(this,"dropIndex",void 0)}onDrop(t){this.node.mouseAction("drop",t.event,{from:t.element,to:{parent:this.node,index:this.dropIndex}})}allowDrop(t,r){return this.node.options.allowDrop(t,{parent:this.node,index:this.dropIndex},r)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["TreeNodeDropSlot"],["tree-node-drop-slot"]],inputs:{node:"node",dropIndex:"dropIndex"},decls:1,vars:2,consts:[[1,"node-drop-slot",3,"treeAllowDrop","allowDragoverStyling","treeDrop"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.NdJ("treeDrop",function(a){return r.onDrop(a)}),s.qZA()),2&t&&s.Q6J("treeAllowDrop",r.allowDrop.bind(r))("allowDragoverStyling",!0)},dependencies:[Ni],encapsulation:2})),n})(),ls=(()=>{var e;class n{constructor(t,r){(0,c.Z)(this,"elementRef",void 0),(0,c.Z)(this,"virtualScroll",void 0),(0,c.Z)(this,"setViewport",this.throttle(()=>{this.virtualScroll.setViewport(this.elementRef.nativeElement)},17)),(0,c.Z)(this,"scrollEventHandler",void 0),this.elementRef=t,this.virtualScroll=r,this.scrollEventHandler=this.setViewport.bind(this)}ngOnInit(){this.virtualScroll.init()}ngAfterViewInit(){setTimeout(()=>{this.setViewport(),this.virtualScroll.fireEvent({eventName:B.initialized})}),this.elementRef.nativeElement.addEventListener("scroll",this.scrollEventHandler)}ngOnDestroy(){this.virtualScroll.clear(),this.elementRef.nativeElement.removeEventListener("scroll",this.scrollEventHandler)}getTotalHeight(){return this.virtualScroll.isEnabled()&&this.virtualScroll.totalHeight+"px"||"auto"}throttle(t,r){let o=0;return function(){let a=Date.now();a-o>=r&&(t(),o=a)}}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(Ci))}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-viewport"]],features:[s._Bn([Ci])],ngContentSelectors:To,decls:1,vars:2,consts:[[4,"treeMobxAutorun"]],template:function(t,r){1&t&&(s.F$t(),s.YNc(0,No,3,2,"ng-container",0)),2&t&&s.Q6J("treeMobxAutorun",s.DdM(1,ze))},dependencies:[$e],encapsulation:2})),n})(),cs=(()=>{var e;class n{set isOpen(t){t?(this._show(),this.isEnabled&&!1===this._isOpen&&this._animateOpen()):this.isEnabled?this._animateClose():this._hide(),this._isOpen=!!t}constructor(t,r,o){(0,c.Z)(this,"renderer",void 0),(0,c.Z)(this,"templateRef",void 0),(0,c.Z)(this,"viewContainerRef",void 0),(0,c.Z)(this,"_isOpen",void 0),(0,c.Z)(this,"animateSpeed",void 0),(0,c.Z)(this,"animateAcceleration",void 0),(0,c.Z)(this,"isEnabled",void 0),(0,c.Z)(this,"innerElement",void 0),this.renderer=t,this.templateRef=r,this.viewContainerRef=o}_show(){this.innerElement||(this.innerElement=this.viewContainerRef.createEmbeddedView(this.templateRef).rootNodes[0])}_hide(){this.viewContainerRef.clear(),this.innerElement=null}_animateOpen(){let t=this.animateSpeed,r=this.animateAcceleration,o=0;this.renderer.setStyle(this.innerElement,"max-height","0"),setTimeout(()=>{const a=setInterval(()=>{if(!this._isOpen||!this.innerElement)return clearInterval(a);o+=t;const d=Math.round(o);this.renderer.setStyle(this.innerElement,"max-height",`${d}px`);const u=this.innerElement.getBoundingClientRect?this.innerElement.getBoundingClientRect().height:0;t*=r,r*=1.005,u<d&&(this.renderer.setStyle(this.innerElement,"max-height",null),clearInterval(a))},17)})}_animateClose(){if(!this.innerElement)return;let t=this.animateSpeed,r=this.animateAcceleration,o=this.innerElement.getBoundingClientRect().height;const a=setInterval(()=>{if(this._isOpen||!this.innerElement)return clearInterval(a);o-=t,this.renderer.setStyle(this.innerElement,"max-height",`${o}px`),t*=r,r*=1.005,o<=0&&(this.viewContainerRef.clear(),this.innerElement=null,clearInterval(a))},17)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)(s.Y36(s.Qsj),s.Y36(s.Rgc),s.Y36(s.s_b))}),(0,c.Z)(n,"\u0275dir",s.lG2({type:e,selectors:[["","treeAnimateOpen",""]],inputs:{animateSpeed:["treeAnimateOpenSpeed","animateSpeed"],animateAcceleration:["treeAnimateOpenAcceleration","animateAcceleration"],isEnabled:["treeAnimateOpenEnabled","isEnabled"],isOpen:["treeAnimateOpen","isOpen"]}})),n})(),ds=(()=>{var e;class n{constructor(t,r,o,a){(0,c.Z)(this,"el",void 0),(0,c.Z)(this,"renderer",void 0),(0,c.Z)(this,"treeDraggedElement",void 0),(0,c.Z)(this,"ngZone",void 0),(0,c.Z)(this,"draggedElement",void 0),(0,c.Z)(this,"treeDragEnabled",void 0),(0,c.Z)(this,"dragEventHandler",void 0),this.el=t,this.renderer=r,this.treeDraggedElement=o,this.ngZone=a,this.dragEventHandler=this.onDrag.bind(this)}ngAfterViewInit(){let t=this.el.nativeElement;this.ngZone.runOutsideAngular(()=>{t.addEventListener("drag",this.dragEventHandler)})}ngDoCheck(){this.renderer.setAttribute(this.el.nativeElement,"draggable",this.treeDragEnabled?"true":"false")}ngOnDestroy(){this.el.nativeElement.removeEventListener("drag",this.dragEventHandler)}onDragStart(t){t.dataTransfer.setData("text",t.target.id),this.treeDraggedElement.set(this.draggedElement),this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragStart",t)}onDrag(t){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("drag",t)}onDragEnd(){this.draggedElement.mouseAction&&this.draggedElement.mouseAction("dragEnd"),this.treeDraggedElement.set(null)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(nn),s.Y36(s.R0b))}),(0,c.Z)(n,"\u0275dir",s.lG2({type:e,selectors:[["","treeDrag",""]],hostBindings:function(t,r){1&t&&s.NdJ("dragstart",function(a){return r.onDragStart(a)})("dragend",function(){return r.onDragEnd()})},inputs:{draggedElement:["treeDrag","draggedElement"],treeDragEnabled:"treeDragEnabled"}})),n})(),us=(()=>{var e;class n{constructor(){(0,c.Z)(this,"node",void 0)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-node-expander"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["class","toggle-children-wrapper",3,"toggle-children-wrapper-expanded","toggle-children-wrapper-collapsed","click",4,"ngIf"],["class","toggle-children-placeholder",4,"ngIf"],[1,"toggle-children-wrapper",3,"click"],[1,"toggle-children"],[1,"toggle-children-placeholder"]],template:function(t,r){1&t&&s.YNc(0,Do,3,2,"ng-container",0),2&t&&s.Q6J("treeMobxAutorun",s.DdM(1,ze))},dependencies:[l.O5,$e],encapsulation:2})),n})(),fs=(()=>{var e;class n{constructor(){(0,c.Z)(this,"node",void 0)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-node-checkbox"]],inputs:{node:"node"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],["type","checkbox",1,"tree-node-checkbox",3,"checked","indeterminate","click"]],template:function(t,r){1&t&&s.YNc(0,Zo,2,2,"ng-container",0),2&t&&s.Q6J("treeMobxAutorun",s.DdM(1,ze))},dependencies:[$e],encapsulation:2})),n})(),hs=(()=>{var e;class n{set nodes(t){}set options(t){}set focused(t){this.treeModel.setFocus(t)}set state(t){this.treeModel.setState(t)}constructor(t,r){(0,c.Z)(this,"treeModel",void 0),(0,c.Z)(this,"treeDraggedElement",void 0),(0,c.Z)(this,"_nodes",void 0),(0,c.Z)(this,"_options",void 0),(0,c.Z)(this,"loadingTemplate",void 0),(0,c.Z)(this,"treeNodeTemplate",void 0),(0,c.Z)(this,"treeNodeWrapperTemplate",void 0),(0,c.Z)(this,"treeNodeFullTemplate",void 0),(0,c.Z)(this,"viewportComponent",void 0),(0,c.Z)(this,"toggleExpanded",void 0),(0,c.Z)(this,"activate",void 0),(0,c.Z)(this,"deactivate",void 0),(0,c.Z)(this,"nodeActivate",void 0),(0,c.Z)(this,"nodeDeactivate",void 0),(0,c.Z)(this,"select",void 0),(0,c.Z)(this,"deselect",void 0),(0,c.Z)(this,"focus",void 0),(0,c.Z)(this,"blur",void 0),(0,c.Z)(this,"updateData",void 0),(0,c.Z)(this,"initialized",void 0),(0,c.Z)(this,"moveNode",void 0),(0,c.Z)(this,"copyNode",void 0),(0,c.Z)(this,"loadNodeChildren",void 0),(0,c.Z)(this,"changeFilter",void 0),(0,c.Z)(this,"event",void 0),(0,c.Z)(this,"stateChange",void 0),this.treeModel=t,this.treeDraggedElement=r,t.eventNames.forEach(o=>this[o]=new s.vpe),t.subscribeToState(o=>this.stateChange.emit(o))}onKeydown(t){if(!this.treeModel.isFocused||["input","textarea"].includes(document.activeElement.tagName.toLowerCase()))return;const r=this.treeModel.getFocusedNode();this.treeModel.performKeyAction(r,t)}onMousedown(t){(function r(o,a){return!o||o.localName!==a&&r(o.parentElement,a)})(t.target,"tree-root")&&this.treeModel.setFocus(!1)}ngOnChanges(t){(t.options||t.nodes)&&this.treeModel.setData({options:t.options&&t.options.currentValue,nodes:t.nodes&&t.nodes.currentValue,events:this.pick(this,this.treeModel.eventNames)})}sizeChanged(){this.viewportComponent.setViewport()}pick(t,r){return r.reduce((o,a)=>(t&&t.hasOwnProperty(a)&&(o[a]=t[a]),o),{})}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)(s.Y36(tn),s.Y36(nn))}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["Tree"],["tree-root"]],contentQueries:function(t,r,o){if(1&t&&(s.Suo(o,Io,5),s.Suo(o,Ro,5),s.Suo(o,Lo,5),s.Suo(o,ko,5)),2&t){let a;s.iGM(a=s.CRH())&&(r.loadingTemplate=a.first),s.iGM(a=s.CRH())&&(r.treeNodeTemplate=a.first),s.iGM(a=s.CRH())&&(r.treeNodeWrapperTemplate=a.first),s.iGM(a=s.CRH())&&(r.treeNodeFullTemplate=a.first)}},viewQuery:function(t,r){if(1&t&&s.Gf(Uo,5),2&t){let o;s.iGM(o=s.CRH())&&(r.viewportComponent=o.first)}},hostBindings:function(t,r){1&t&&s.NdJ("keydown",function(a){return r.onKeydown(a)},!1,s.pYS)("mousedown",function(a){return r.onMousedown(a)},!1,s.pYS)},inputs:{nodes:"nodes",options:"options",focused:"focused",state:"state"},outputs:{toggleExpanded:"toggleExpanded",activate:"activate",deactivate:"deactivate",nodeActivate:"nodeActivate",nodeDeactivate:"nodeDeactivate",select:"select",deselect:"deselect",focus:"focus",blur:"blur",updateData:"updateData",initialized:"initialized",moveNode:"moveNode",copyNode:"copyNode",loadNodeChildren:"loadNodeChildren",changeFilter:"changeFilter",event:"event",stateChange:"stateChange"},features:[s._Bn([tn]),s.TTD],decls:5,vars:6,consts:[["viewport",""],[1,"angular-tree-component"],[3,"nodes","treeModel","templates",4,"ngIf"],["class","empty-tree-drop-slot",3,"dropIndex","node",4,"ngIf"],[3,"nodes","treeModel","templates"],[1,"empty-tree-drop-slot",3,"dropIndex","node"]],template:function(t,r){1&t&&(s.TgZ(0,"tree-viewport",null,0)(2,"div",1),s.YNc(3,Bo,1,8,"tree-node-collection",2),s.YNc(4,Vo,1,2,"tree-node-drop-slot",3),s.qZA()()),2&t&&(s.xp6(2),s.ekj("node-dragging",r.treeDraggedElement.isDragging())("angular-tree-component-rtl",r.treeModel.options.rtl),s.xp6(1),s.Q6J("ngIf",r.treeModel.roots),s.xp6(1),s.Q6J("ngIf",r.treeModel.isEmptyTree()))},dependencies:function(){return[l.O5,Ti,Si,ls]},encapsulation:2})),n})(),ps=(()=>{var e;class n{constructor(){(0,c.Z)(this,"node",void 0),(0,c.Z)(this,"templates",void 0)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-node-children"]],inputs:{node:"node",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"tree-children","tree-children-no-padding",4,"treeAnimateOpen","treeAnimateOpenSpeed","treeAnimateOpenAcceleration","treeAnimateOpenEnabled"],[3,"nodes","templates","treeModel",4,"ngIf"],["class","tree-node-loading",3,"padding-left","template","node",4,"ngIf"],[3,"nodes","templates","treeModel"],[1,"tree-node-loading",3,"template","node"]],template:function(t,r){1&t&&s.YNc(0,Go,2,4,"ng-container",0),2&t&&s.Q6J("treeMobxAutorun",s.DdM(1,ze))},dependencies:function(){return[l.O5,ns,Si,cs,$e]},encapsulation:2})),n})(),Si=(()=>{var e;class n{get nodes(){return this._nodes}set nodes(t){this.setNodes(t)}constructor(){(0,c.Z)(this,"treeModel",void 0),(0,c.Z)(this,"_nodes",void 0),(0,c.Z)(this,"virtualScroll",void 0),(0,c.Z)(this,"templates",void 0),(0,c.Z)(this,"viewportNodes",void 0),(0,c.Z)(this,"_dispose",[]),Nt(this,{_nodes:Mi,viewportNodes:Mi,marginTop:ss,setNodes:rs})}get marginTop(){const t=this.viewportNodes&&this.viewportNodes.length&&this.viewportNodes[0];return(t&&t.parent?t.position-t.parent.position-t.parent.getSelfHeight():0)+"px"}setNodes(t){this._nodes=t}ngOnInit(){this.virtualScroll=this.treeModel.virtualScroll,this._dispose=[He(()=>this.virtualScroll.getViewportNodes(this.nodes).map(t=>t.index),t=>{this.viewportNodes=t.map(r=>this.nodes[r])},{compareStructural:!0,fireImmediately:!0}),He(()=>this.nodes,t=>{this.viewportNodes=this.virtualScroll.getViewportNodes(t)})]}ngOnDestroy(){this._dispose.forEach(t=>t())}trackNode(t,r){return r.id}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-node-collection"]],inputs:{nodes:"nodes",treeModel:"treeModel",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"node","index","templates",4,"ngFor","ngForOf","ngForTrackBy"],[3,"node","index","templates"]],template:function(t,r){1&t&&s.YNc(0,zo,3,4,"ng-container",0),2&t&&s.Q6J("treeMobxAutorun",s.DdM(1,ze))},dependencies:function(){return[l.sg,gs,$e]},encapsulation:2})),n})(),gs=(()=>{var e;class n{constructor(){(0,c.Z)(this,"node",void 0),(0,c.Z)(this,"index",void 0),(0,c.Z)(this,"templates",void 0)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["TreeNode"],["tree-node"]],inputs:{node:"node",index:"index",templates:"templates"},decls:1,vars:2,consts:[[4,"treeMobxAutorun"],[3,"class","tree-node","tree-node-expanded","tree-node-collapsed","tree-node-leaf","tree-node-active","tree-node-focused",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"dropIndex","node",4,"ngIf"],[3,"node","index","templates"],[3,"node","templates"],[3,"dropIndex","node"]],template:function(t,r){1&t&&s.YNc(0,Yo,3,8,"ng-container",0),2&t&&s.Q6J("treeMobxAutorun",s.DdM(1,ze))},dependencies:function(){return[l.O5,l.tP,ps,Ti,_s,$e]},encapsulation:2})),n})(),vs=(()=>{var e;class n{constructor(){(0,c.Z)(this,"node",void 0),(0,c.Z)(this,"index",void 0),(0,c.Z)(this,"template",void 0)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-node-content"]],inputs:{node:"node",index:"index",template:"template"},decls:2,vars:7,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(s.YNc(0,Qo,2,1,"span",0),s.GkF(1,1)),2&t&&(s.Q6J("ngIf",!r.template),s.xp6(1),s.Q6J("ngTemplateOutlet",r.template)("ngTemplateOutletContext",s.kEZ(3,Wo,r.node,r.node,r.index)))},dependencies:[l.O5,l.tP],encapsulation:2})),n})(),_s=(()=>{var e;class n{constructor(){(0,c.Z)(this,"node",void 0),(0,c.Z)(this,"index",void 0),(0,c.Z)(this,"templates",void 0)}}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275cmp",s.Xpm({type:e,selectors:[["tree-node-wrapper"]],inputs:{node:"node",index:"index",templates:"templates"},decls:2,vars:8,consts:[["class","node-wrapper",3,"padding-left",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"node-wrapper"],[3,"node",4,"ngIf"],[3,"node"],[1,"node-content-wrapper",3,"treeAllowDrop","allowDragoverStyling","treeDrag","treeDragEnabled","click","dblclick","mouseover","mouseout","contextmenu","treeDrop","treeDropDragOver","treeDropDragLeave","treeDropDragEnter"],[3,"node","index","template"]],template:function(t,r){1&t&&(s.YNc(0,es,5,15,"div",0),s.GkF(1,1)),2&t&&(s.Q6J("ngIf",!r.templates.treeNodeWrapperTemplate),s.xp6(1),s.Q6J("ngTemplateOutlet",r.templates.treeNodeWrapperTemplate)("ngTemplateOutletContext",s.l5B(3,Oi,r.node,r.node,r.index,r.templates)))},dependencies:[l.O5,l.tP,vs,Ni,ds,us,fs],encapsulation:2})),n})(),ms=(()=>{var e;class n{}return e=n,(0,c.Z)(n,"\u0275fac",function(t){return new(t||e)}),(0,c.Z)(n,"\u0275mod",s.oAB({type:e})),(0,c.Z)(n,"\u0275inj",s.cJS({imports:[l.ez]})),n})()},86656:(ut,fe,C)=>{C.d(fe,{Z:()=>re});var c=C(71002);function re(D,_,X){return(_=function l(D){var _=function s(D,_){if("object"!==(0,c.Z)(D)||null===D)return D;var X=D[Symbol.toPrimitive];if(void 0!==X){var x=X.call(D,_||"default");if("object"!==(0,c.Z)(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===_?String:Number)(D)}(D,"string");return"symbol"===(0,c.Z)(_)?_:String(_)}(_))in D?Object.defineProperty(D,_,{value:X,enumerable:!0,configurable:!0,writable:!0}):D[_]=X,D}}}]);