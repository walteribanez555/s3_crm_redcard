"use strict";(self.webpackChunkadminMonster=self.webpackChunkadminMonster||[]).push([[672],{34672:(F,w,l)=>{l.r(w),l.d(w,{MyOfficeModule:()=>B});var r=l(96814),h=l(3057),t=l(46689),P=l(78645),y=l(56585),_=l(51215),i=l(23707);let o=(()=>{var a;class m{}return(a=m).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["oficina-item"]],inputs:{oficina:"oficina"},decls:4,vars:2,consts:[["routerLinkActive","active",3,"routerLink"],[1,"field"],[1,"description"]],template:function(e,f){1&e&&(t.TgZ(0,"a",0)(1,"div",1)(2,"span",2),t._uU(3),t.qZA()()()),2&e&&(t.MGl("routerLink","./",f.oficina.office_id+"",""),t.xp6(3),t.Oqu(f.oficina.office_name))},dependencies:[h.rH,h.Od],styles:["a[_ngcontent-%COMP%]{text-decoration:none;border:1px solid gainsboro;padding:10px 20px;font-weight:700;cursor:pointer;border-radius:5px;color:var(--text-color);width:100%;display:flex}a[_ngcontent-%COMP%]:hover{background-color:#dcdcdc}.active[_ngcontent-%COMP%]{background-color:var(--main-color);color:#fff}"]}),m})();function v(a,m){1&a&&t._UZ(0,"oficina-item",13),2&a&&t.Q6J("oficina",m.$implicit)}let x=(()=>{var a;class m{constructor(){this.oficces=[],this.notificacionModalService=(0,t.f3M)(i.g),this.sessionService=(0,t.f3M)(y.m),this.isClicked=!1,this.isHideInfo=!1}ngOnInit(){this.loadItems()}loadItems(){const e=new P.x,f=e.asObservable();this.onLoading(f),this.sessionService.getOfficesFromUser().subscribe({next:g=>{e.complete(),this.oficces=g},error:g=>{e.complete(),this.onError(g)},complete:()=>{}})}onChangeClick(){this.isClicked=!this.isClicked}onClickInfo(){this.isHideInfo=!this.isHideInfo}onSuccess(e){this.notificacionModalService.show(e,{size:_.$u.normal,duration:3e3,positions:[_.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(e){this.notificacionModalService.show(e,{size:_.$u.normal,duration:3e3,positions:[_.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(e){this.notificacionModalService.show("Cargando",{size:_.$u.normal,positions:[_.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:e})}}return(a=m).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-layout-page"]],decls:20,vars:11,consts:[[1,"content"],[1,"steps"],[1,"info"],[1,"top",3,"click"],[1,"container-text"],[1,"title"],[1,"expand"],[1,"fa-solid","fa-caret-up","fa-2xl",2,"color","white"],[1,"process"],[1,"list-title"],[1,"list"],[3,"oficina",4,"ngFor","ngForOf"],[1,"expand-info",3,"click"],[3,"oficina"]],template:function(e,f){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"router-outlet"),t.qZA(),t.TgZ(3,"div",2)(4,"div",3),t.NdJ("click",function(){return f.onChangeClick()}),t.TgZ(5,"div",4)(6,"span",5),t._uU(7,"Mis Oficinas"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"i",7),t.qZA()()(),t.TgZ(10,"div",8)(11,"div",9)(12,"span",5),t._uU(13,"Listado de mis Oficinas"),t.qZA()(),t._UZ(14,"hr"),t.TgZ(15,"div",10),t.YNc(16,v,1,1,"oficina-item",11),t.qZA()(),t.TgZ(17,"button",12),t.NdJ("click",function(){return f.onClickInfo()}),t.TgZ(18,"span"),t._uU(19,">"),t.qZA()()()()),2&e&&(t.ekj("onDisplay",f.isClicked)("collapsed",f.isHideInfo),t.xp6(1),t.ekj("expanded",f.isHideInfo),t.xp6(2),t.ekj("active",f.isClicked)("hidden",f.isHideInfo),t.xp6(13),t.Q6J("ngForOf",f.oficces))},dependencies:[h.lC,r.sg,o],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;width:100vw;height:calc(100vh - var(--main-header-height));overflow-x:hidden;overflow-y:hidden;position:relative}.steps[_ngcontent-%COMP%]{position:relative;height:calc(100vh - var(--main-header-height));width:70vw;flex-direction:column;align-items:center;justify-content:center;animation:moveToLeft 1s forwards}@keyframes _ngcontent-%COMP%_mostrarInfo{0%{right:-35%}70%{right:0%}to{right:0}}@keyframes _ngcontent-%COMP%_ocultarInfo{to{right:-30%}30%{right:-10%}0%{right:0}}.info[_ngcontent-%COMP%]{height:calc(100vh - var(--main-header-height));width:30vw;position:absolute;right:-100%;animation:_ngcontent-%COMP%_mostrarInfo 1s forwards;background:white}.top[_ngcontent-%COMP%]{height:20%;background-color:var(--main-color);padding:10px;color:#fff;display:flex;flex-direction:row;align-items:center;justify-content:flex-start}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:100%;padding:20px;overflow-y:auto}.process[_ngcontent-%COMP%]::-webkit-scrollbar{width:7px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:gray;border-radius:25px}.process[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:gray}.container-text[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content;display:flex;flex-direction:column;padding-left:20px}.text[_ngcontent-%COMP%], .second-text[_ngcontent-%COMP%]{font-weight:700;height:-moz-fit-content;height:fit-content;font-size:1.4em;letter-spacing:10px;width:100%;white-space:nowrap;overflow:hidden}.data-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12%;height:45%}.list-title[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;height:-moz-fit-content;height:fit-content;align-items:center;justify-content:space-between}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap;height:-moz-fit-content;height:fit-content;width:100%;padding:10px;gap:5px}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;background-color:#f04b46;color:#fff;cursor:pointer;border-radius:8px;font-weight:700}hr[_ngcontent-%COMP%]{margin:10px 0;border:1px solid gainsboro}.list[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}rol-item-view[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%]{background-color:#f04b46;color:#fff;padding:10px 20px;border-radius:8px;text-decoration:none;font-weight:700;cursor:pointer}a[_ngcontent-%COMP%]:hover{background-color:var(--main-color)}@keyframes _ngcontent-%COMP%_cursor{50%{border-color:transparent}}@keyframes _ngcontent-%COMP%_typing{0%{width:0}}.expand[_ngcontent-%COMP%]{visibility:hidden}.expand-info[_ngcontent-%COMP%]{position:absolute;top:50%;background-color:var(--main-color);border:none;border-radius:100px;z-index:6;color:#fff;font-size:20px;padding:20px;left:-25px;font-weight:700;cursor:pointer;transition:.3s all ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;--webkit-transform: translateY(0);transform:translateY(10%)}to{opacity:1;--webkit-transform: translateY(0);transform:translateY(0)}}.steps[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%]{visibility:hidden;display:none}.process[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;font-weight:700}@media (min-width:1024px){.info[_ngcontent-%COMP%]{border:1px solid gainsboro}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{display:none}.progress[_ngcontent-%COMP%]{flex:1 0 35%;min-width:300px;padding:10px 30px}@keyframes moveToLeft{0%{width:100vw}to{width:70vw}}@keyframes moveToRight{0%{width:70vw}30%{width:50vw}to{width:100vw}}.info.hidden[_ngcontent-%COMP%]{right:-35%;animation:_ngcontent-%COMP%_ocultarInfo 2s forwards}.info.hidden[_ngcontent-%COMP%]   .expand-info[_ngcontent-%COMP%]{left:-100px;rotate:180deg;transition:.3s all ease-in-out}.content.collapsed[_ngcontent-%COMP%]{grid-template-columns:4fr 1fr;transition:all .3s ease-in-out}.steps.expanded[_ngcontent-%COMP%]{width:100vw;animation:moveToRight 1.2s forwards}}@media (max-width:1024px){.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;transition:.4s all ease-in-out}.content.onDisplay[_ngcontent-%COMP%]{display:flex;position:fixed;z-index:5;height:90vh;width:100vw;max-height:100%;inset:0;overflow-x:hidden;transition:.4s all ease-in-out}@keyframes moveToTop{0%{bottom:0%}50%{bottom:50%}to{top:100%}}.info[_ngcontent-%COMP%]{z-index:3;position:fixed;top:90%;height:10vh;width:100%;overflow:hidden;transition:.4s all ease-in-out}.steps[_ngcontent-%COMP%]{width:100vw;height:calc(90vh - var(--main-header-height));position:relative;flex-direction:column;align-items:end;justify-content:end}.steps.expanded[_ngcontent-%COMP%]{width:100vw}.info[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{height:10vh}.info.active[_ngcontent-%COMP%]{height:100vh;top:0%;transition:.4s all ease-in-out}.top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:35px;height:50px}.second-text[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{font-size:15px}.info.active[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{rotate:180deg;transition:.3s all ease-in-out}.info[_ngcontent-%COMP%]   .expand[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s all ease-in-out}.expand[_ngcontent-%COMP%]{visibility:visible;position:absolute;right:20px}.process[_ngcontent-%COMP%]{border:2px solid gainsboro;height:90vh;background:white}.expand-info[_ngcontent-%COMP%]{visibility:hidden}}"]}),m})();var u=l(56223),b=l(30043),T=l(21426),O=l(93997),n=l(94664),d=l(22096),p=l(91011),C=l(7110),M=l(11902),Z=l(20355);function U(a,m){if(1&a){const s=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){t.CHM(s);const f=t.oxw();return t.KtG(f.makeCsvVen())}),t._UZ(1,"i",14),t.TgZ(2,"span"),t._uU(3,"Exportar"),t.qZA()()}}const E=function(a,m){return{poliza_id:a,beneficiario_id:m}};function A(a,m){if(1&a&&(t.TgZ(0,"tr",15)(1,"td")(2,"span",16),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t.TgZ(18,"td"),t._uU(19),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.TgZ(22,"td"),t._uU(23),t.ALo(24,"currency"),t.qZA(),t.TgZ(25,"td"),t._uU(26),t.ALo(27,"currency"),t.qZA(),t.TgZ(28,"td"),t._uU(29),t.ALo(30,"currency"),t.qZA(),t.TgZ(31,"td"),t._uU(32),t.ALo(33,"currency"),t.qZA(),t.TgZ(34,"td"),t._uU(35),t.qZA(),t.TgZ(36,"td"),t._uU(37),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.TgZ(40,"td"),t._uU(41),t.qZA()()),2&a){const s=m.$implicit,e=t.oxw();t.Q6J("routerLink","../../poliza/"+s.venta_id)("queryParams",t.WLB(29,E,s.poliza_id,s.beneficiario_id)),t.xp6(2),t.Q6J("ngClass",e.getStatusClass(s.status)),t.xp6(1),t.Oqu(1==s.status?"Proceso":2==s.status?"Realizada":"Cancelada"),t.xp6(2),t.Oqu(s.fecha_venta.split("T")[0].split("-").join("/")),t.xp6(2),t.Oqu(s.fecha_salida.split("T")[0].split("-").join("/")),t.xp6(2),t.Oqu(s.fecha_retorno.split("T")[0].split("-").join("/")),t.xp6(2),t.Oqu(e.oficina[0].office_name),t.xp6(2),t.hij(" ",s.username," "),t.xp6(2),t.hij(" ",s.poliza_id," "),t.xp6(2),t.hij(" ",e.getService(s.servicio_id)," "),t.xp6(2),t.hij(" ",s.primer_nombre," "),t.xp6(2),t.hij(" ",s.primer_apellido," "),t.xp6(2),t.hij(" ",t.lcZ(24,21,s.precio)," "),t.xp6(3),t.Oqu(t.lcZ(27,23,e.getPriceByItem(s.plus,s.cantidad))),t.xp6(3),t.Oqu(t.lcZ(30,25,e.getPriceByItem(s.descuento,s.cantidad))),t.xp6(3),t.Oqu(t.lcZ(33,27,e.getPriceByItem(s.total_pago,s.cantidad))),t.xp6(3),t.Oqu(s.edad),t.xp6(2),t.Oqu(s.origen),t.xp6(2),t.Oqu(s.destino),t.xp6(2),t.Oqu(s.email)}}const I=[{path:"myoficina",component:x,children:[{path:":id",component:(()=>{var a;class m{constructor(){this.ventas=[],this.ventasFiltered=[],this.oficina=[],this.servicios=[],this.searchTerm$=new P.x,this.notificacionModalService=(0,t.f3M)(i.g),this.activatedRoute=(0,t.f3M)(h.gz),this.reportesService=(0,t.f3M)(M.c),this.servicioService=(0,t.f3M)(p.Co),this.officeService=(0,t.f3M)(C.a),this.filterForm=new u.cw({initialDate:new u.NI(null,[u.kI.required]),finalDate:new u.NI(null,[u.kI.required])}),this.searchTermByPoliza$=new P.x}ngOnInit(){const e=new P.x,f=e.asObservable();this.searchTerm$.pipe((0,T.b)(500),(0,O.x)(),(0,n.w)(g=>(this.ventasFiltered=g.length<=1?this.ventas:this.ventas.filter(c=>c.nro_identificacion.startsWith(g)),(0,d.of)()))).subscribe(g=>{}),this.searchTermByPoliza$.pipe((0,T.b)(500),(0,O.x)(),(0,n.w)(g=>(g||console.log("No hay info"),this.ventasFiltered=g.length<=1?this.ventas:this.ventas.filter(c=>c.poliza_id.toString().startsWith(g)),(0,d.of)()))).subscribe(g=>{}),this.onLoading(f),this.activatedRoute.params.pipe((0,n.w)(g=>(this.ventas=[],this.officeService.getById(g.id))),(0,n.w)(g=>(this.oficina=g,this.servicioService.getAll()))).subscribe({next:g=>{e.complete(),this.servicios=g},error:g=>{e.complete(),this.onError(g)},complete:()=>{}})}onFilter(e){this.filter(e[0],e[1])}filter(e,f){const g=new P.x,c=g.asObservable();this.onLoading(c),this.reportesService.getByOffice(this.oficina[0].office_id,e,f).subscribe({next:L=>{g.complete(),this.ventas=L,this.ventasFiltered=this.ventas},error:L=>{g.complete(),this.onError(L)},complete:()=>{}})}search(e){e.target.value&&this.searchTerm$.next(e.target.value)}searchByPoliza(e){e.target.value&&this.searchTermByPoliza$.next(e.target.value)}getPriceByItem(e,f){return"string"==typeof e?parseInt(e)/parseInt(f):e/parseInt(f)}getService(e){return this.servicios.filter(f=>f.servicio_id===e).map(f=>f.servicio)}getStatusClass(e){return{success:2===e,deleted:3===e}}getClientName(e){}getStatusString(e){return 1==e?"realizado":"proceso"}getStatusPoliza(e){return"Activa"}makeCsvVen(){const e="reporte ventas-"+(new Date).toISOString().split("T")[0],g=this.ventas.map(c=>({venta:c.venta_id,status:this.getStatusString(c.status),oficina:this.oficina[0].office_name,username:c.username,"fecha venta":c.fecha_venta.split("T")[0],"forma pago":"efectivo",cantidad:c.cantidad,precio:parseFloat(c.precio),total:parseFloat(c.total),plus:c.plus,descuento:parseFloat(c.descuento),"descuento extra":c.descuento_extra,"total pagado":c.total_pago,poliza:c.poliza_id,statuspol:this.getStatusPoliza(c.poliza_st),destino:c.destino,dias:c.nro_dias,"fecha salida":c.fecha_salida.split("T")[0],"fecha retorno":c.fecha_retorno.split("T")[0],beneficiario:c.beneficiario_id,nombres:c.primer_nombre,apellidos:c.primer_apellido,identificacion:c.nro_identificacion,"fecha nacimiento":c.fecha_nacimiento.split("T")[0],edad:c.edad,origen:c.origen,email:c.email,telefono:c.telefono}));new b.J0(g,e,{fieldSeparator:";",quoteStrings:'"',decimalseparator:"locale",showLabels:!0,showTitle:!0,title:"Report data",useBom:!0,headers:["venta","status","Oficina","username","fecha venta","forma pago","cantidad","precio","total","plus","descuento","descuento extra","total_pago","poliza","status poliza","destino","dias","fecha salida","fecha retorno","beneficiario","nombres","apellidos","identificacion","fecha nacimiento","edad","origen","email","telefono"]})}onSuccess(e){this.notificacionModalService.show(e,{size:_.$u.normal,duration:3e3,positions:[_.iS.center],imageUrl:"assets/icons/check.svg",closeOnTouch:!0})}onError(e){this.notificacionModalService.show(e,{size:_.$u.normal,duration:3e3,positions:[_.iS.center],imageUrl:"assets/icons/warning.svg",closeOnTouch:!0})}onLoading(e){this.notificacionModalService.show("Cargando",{size:_.$u.normal,positions:[_.iS.center],imageUrl:"assets/icons/loading.svg",closeOnTouch:!1,notifier:e})}}return(a=m).\u0275fac=function(e){return new(e||a)},a.\u0275cmp=t.Xpm({type:a,selectors:[["ng-component"]],decls:58,vars:3,consts:[[1,"container"],[1,"top"],[1,"title"],[2,"width","100%",3,"onFilter"],["class","export",3,"click",4,"ngIf"],[1,"field",2,"width","100%","padding","20px 10px","flex-wrap","nowrap","flex-direction","column","align-items","flex-start"],["for","nro_identificacion"],["type","text","name","nro_identificacion","placeholder","Nro de Identificacion",3,"input"],["for","poliza"],["type","text","name","poliza","placeholder","Nro de Voucher",3,"input"],[1,"info"],[1,"table-data","info"],[3,"routerLink","queryParams",4,"ngFor","ngForOf"],[1,"export",3,"click"],[1,"fa-solid","fa-file-csv"],[3,"routerLink","queryParams"],[1,"status",3,"ngClass"]],template:function(e,f){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),t._uU(4),t.qZA()()(),t.TgZ(5,"filter",3),t.NdJ("onFilter",function(c){return f.onFilter(c)}),t.qZA(),t.YNc(6,U,4,0,"button",4),t.TgZ(7,"div",5)(8,"label",6),t._uU(9,"Filtar por Nro de Identificacion"),t.qZA(),t.TgZ(10,"input",7),t.NdJ("input",function(c){return f.search(c)}),t.qZA()(),t.TgZ(11,"div",5)(12,"label",8),t._uU(13,"Filtar por Nro de Voucher"),t.qZA(),t.TgZ(14,"input",9),t.NdJ("input",function(c){return f.searchByPoliza(c)}),t.qZA()(),t.TgZ(15,"div",10)(16,"div",11)(17,"table")(18,"thead")(19,"tr")(20,"th"),t._uU(21,"Status"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"fecha venta"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"fecha salida"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"fecha retorno"),t.qZA(),t.TgZ(28,"th"),t._uU(29,"Oficina"),t.qZA(),t.TgZ(30,"th"),t._uU(31,"Usuario"),t.qZA(),t.TgZ(32,"th"),t._uU(33,"Poliza"),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Plan"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"Nombres"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Apellidos"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Precio"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Plus"),t.qZA(),t.TgZ(44,"th"),t._uU(45,"Descuento"),t.qZA(),t.TgZ(46,"th"),t._uU(47,"Total"),t.qZA(),t.TgZ(48,"th"),t._uU(49,"Edad"),t.qZA(),t.TgZ(50,"th"),t._uU(51,"Origen"),t.qZA(),t.TgZ(52,"th"),t._uU(53,"Destino"),t.qZA(),t.TgZ(54,"th"),t._uU(55,"Email"),t.qZA()()(),t.TgZ(56,"tbody"),t.YNc(57,A,42,32,"tr",12),t.qZA()()()()()),2&e&&(t.xp6(4),t.hij("Listado de Ventas General de ",f.oficina[0].office_name,""),t.xp6(2),t.Q6J("ngIf",f.ventas.length>0),t.xp6(51),t.Q6J("ngForOf",f.ventasFiltered))},dependencies:[h.rH,r.mk,r.sg,r.O5,Z.z,r.H9],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;padding:40px;width:100%;height:calc(100vh - 80px);overflow-y:auto}.top[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.title[_ngcontent-%COMP%]{display:flex;align-items:center}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:24px;font-weight:600;text-align:start;padding-left:20px}.top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;background:none;border:3px solid var(--main-color);border-radius:10px;padding:10px 20px;color:var(--main-color);font-size:15px;transition:.3s all ease-in-out}.top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:#fff}.top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:.3s all ease-in-out;padding-left:5px}.top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{transition:.3s all ease-in-out;padding-left:20px}hr[_ngcontent-%COMP%]{margin:20px 0;width:100%;border:1px solid gainsboro}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;flex-wrap:wrap;gap:10px;width:30%}.row[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-end;justify-content:flex-end}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:12px;outline:none;border-radius:8px;border:1px solid gainsboro;color:var(--text-color);height:100%}button[_ngcontent-%COMP%]{padding:10px 20px;font-size:12px;border-radius:8px;border:none;color:#fff;cursor:pointer;transition:.3s ease-in-out}button.export[_ngcontent-%COMP%]{background-color:var(--body-bg);color:green;border:1px solid green;font-weight:700;transition:all .3s ease-in-out;margin:10px}button.export[_ngcontent-%COMP%]:hover{background-color:green;color:#fff;transition:all .3s ease-in-out}button.export[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}.filters[_ngcontent-%COMP%]   button.valid[_ngcontent-%COMP%]{transition:.3s ease-in-out;background-color:#f04b46}.status[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid var(--main-color);color:var(--main-color);font-weight:700;border-radius:8px}.status.success[_ngcontent-%COMP%]{border:1px solid green;color:green}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;padding:20px;width:100%}.table-container[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:10px}.table-data[_ngcontent-%COMP%]{width:100%;height:500px;overflow:auto;border-radius:2px;border:1px solid #ccc}.table-data[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}.info[_ngcontent-%COMP%]{padding:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:20px 0;border-bottom:1px solid black}table[_ngcontent-%COMP%]{width:100%}thead[_ngcontent-%COMP%]{position:sticky;top:0;background-color:var(--body-bg)}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{text-align:left}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:small;text-align:center;border-bottom:1px solid var(--border-color)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:center;font-size:small}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.vigente[_ngcontent-%COMP%]{color:green;border:1px solid green;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.congelada[_ngcontent-%COMP%]{color:gray;border:1px solid gray;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.uso[_ngcontent-%COMP%]{color:var(--main-color);border:1px solid var(--main-color);padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.anulada[_ngcontent-%COMP%]{color:#ff4500;border:1px solid orangered;padding:2px 5px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--main-color);font-weight:700}@media (max-width: 1024px){.container[_ngcontent-%COMP%]{padding:80px 20px}.info[_ngcontent-%COMP%]{margin:30px 0}.table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 10px}.container[_ngcontent-%COMP%]{height:calc(100vh - 80px)}button.export[_ngcontent-%COMP%]{width:100%;margin:10px 0}}"]}),m})()}]}];let z=(()=>{var a;class m{}return(a=m).\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[h.Bz.forChild(I),h.Bz]}),m})();var D=l(81837),k=l(91352),q=l(36204),j=l(27067),R=l(63183);let B=(()=>{var a;class m{}return(a=m).\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[j.G],imports:[z,r.ez,h.Bz,u.UX,D.m,k.I,q.AuthModule,u.u5,u.UX,R.OficinasModule]}),m})()},20355:(F,w,l)=>{l.d(w,{z:()=>t});var r=l(46689),h=l(56223);let t=(()=>{var P;class y{constructor(){this.filterForm=new h.cw({initialDate:new h.NI(null,[h.kI.required]),finalDate:new h.NI(null,[h.kI.required])}),this.onFilter=new r.vpe}onFormSubmitFilter(){if(!this.filterForm.valid)return;const{initialDate:i,finalDate:o}=this.filterForm.value;this.onFilter.emit([i,o])}}return(P=y).\u0275fac=function(i){return new(i||P)},P.\u0275cmp=r.Xpm({type:P,selectors:[["filter"]],outputs:{onFilter:"onFilter"},decls:12,vars:3,consts:[[1,"filters",3,"formGroup","ngSubmit"],[1,"field"],["for","initialDate"],["type","date","name","initialDate","formControlName","initialDate"],["for","finalDate"],["type","date","name","finalDate","formControlName","finalDate"],[1,"field","row"],["type","submit"]],template:function(i,o){1&i&&(r.TgZ(0,"form",0),r.NdJ("ngSubmit",function(){return o.onFormSubmitFilter()}),r.TgZ(1,"div",1)(2,"label",2),r._uU(3,"Fecha inicial"),r.qZA(),r._UZ(4,"input",3),r.qZA(),r.TgZ(5,"div",1)(6,"label",4),r._uU(7,"Fecha Final"),r.qZA(),r._UZ(8,"input",5),r.qZA(),r.TgZ(9,"div",6)(10,"button",7),r._uU(11," Filtrar "),r.qZA()()()),2&i&&(r.Q6J("formGroup",o.filterForm),r.xp6(10),r.ekj("valid",o.filterForm.valid))},dependencies:[h._Y,h.Fj,h.JJ,h.JL,h.sg,h.u],styles:["form.filters[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:row;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:20px;padding:10px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;flex-wrap:wrap;gap:10px;width:30%}.field.row[_ngcontent-%COMP%]{flex-direction:row;align-items:flex-end;justify-content:flex-end}.filters[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 20px;font-size:12px;outline:none;border-radius:8px;border:1px solid gainsboro;color:var(--text-color);height:100%}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:12px;border-radius:8px;border:none;color:#fff;cursor:pointer;transition:.3s ease-in-out}.filters[_ngcontent-%COMP%]   button.export[_ngcontent-%COMP%]{background-color:var(--body-bg);color:green;border:1px solid green;font-weight:700;transition:all .3s ease-in-out}.filters[_ngcontent-%COMP%]   button.export[_ngcontent-%COMP%]:hover{background-color:green;color:#fff;transition:all .3s ease-in-out}button.export[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding-left:20px}.filters[_ngcontent-%COMP%]   button.valid[_ngcontent-%COMP%]{transition:.3s ease-in-out;background-color:#f04b46}@media (max-width:768px){.field[_ngcontent-%COMP%]{flex-direction:column;width:100%}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]}),y})()},30043:(F,w)=>{var r=function(){function i(){}return i.EOL="\r\n",i.BOM="\ufeff",i.DEFAULT_FIELD_SEPARATOR=",",i.DEFAULT_DECIMAL_SEPARATOR=".",i.DEFAULT_QUOTE='"',i.DEFAULT_SHOW_TITLE=!1,i.DEFAULT_TITLE="My Report",i.DEFAULT_FILENAME="mycsv.csv",i.DEFAULT_SHOW_LABELS=!1,i.DEFAULT_USE_BOM=!0,i.DEFAULT_HEADER=[],i.DEFAULT_NO_DOWNLOAD=!1,i.DEFAULT_REMOVE_EMPTY_VALUES=!1,i}();w.hd={filename:r.DEFAULT_FILENAME,fieldSeparator:r.DEFAULT_FIELD_SEPARATOR,quoteStrings:r.DEFAULT_QUOTE,decimalseparator:r.DEFAULT_DECIMAL_SEPARATOR,showLabels:r.DEFAULT_SHOW_LABELS,showTitle:r.DEFAULT_SHOW_TITLE,title:r.DEFAULT_TITLE,useBom:r.DEFAULT_USE_BOM,headers:r.DEFAULT_HEADER,noDownload:r.DEFAULT_NO_DOWNLOAD,removeEmptyValues:r.DEFAULT_REMOVE_EMPTY_VALUES};var h=function(){function i(o,v,x){this.csv="";var u=x||{};this.data="object"!=typeof o?JSON.parse(o):o,this._options=function _(i){for(var o=[],v=1;v<arguments.length;v++)o[v-1]=arguments[v];for(var x,b,u=function y(i){if(null==i)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}(i),T=1;T<arguments.length;T++){for(var O in x=Object(arguments[T]))t.call(x,O)&&(u[O]=x[O]);if(Object.getOwnPropertySymbols){b=Object.getOwnPropertySymbols(x);for(var n=0;n<b.length;n++)P.call(x,b[n])&&(u[b[n]]=x[b[n]])}}return u}({},w.hd,u),this._options.filename&&(this._options.filename=v),this.generateCsv()}return i.prototype.generateCsv=function(){if(this._options.useBom&&(this.csv+=r.BOM),this._options.showTitle&&(this.csv+=this._options.title+"\r\n\n"),this.getHeaders(),this.getBody(),""!=this.csv){if(this._options.noDownload)return this.csv;var o=new Blob([this.csv],{type:"text/csv;charset=utf8;"});if(navigator.msSaveBlob){var v=this._options.filename.replace(/ /g,"_")+".csv";navigator.msSaveBlob(o,v)}else{encodeURI(this.csv);var u=document.createElement("a");u.href=URL.createObjectURL(o),u.setAttribute("visibility","hidden"),u.download=this._options.filename.replace(/ /g,"_")+".csv",document.body.appendChild(u),u.click(),document.body.removeChild(u)}}else console.log("Invalid data")},i.prototype.getHeaders=function(){var o=this;if(this._options.headers.length>0){var x=this._options.headers.reduce(function(u,b){return u+b+o._options.fieldSeparator},"");x=x.slice(0,-1),this.csv+=x+r.EOL}},i.prototype.getBody=function(){for(var o=0;o<this.data.length;o++){var v="";for(var x in this.data[o])v+=this.formartData(this.data[o][x])+this._options.fieldSeparator;v=v.slice(0,-1),this.csv+=v+r.EOL}},i.prototype.formartData=function(o){return this._options.removeEmptyValues&&!o?"":"locale"===this._options.decimalseparator&&i.isFloat(o)?o.toLocaleString():"."!==this._options.decimalseparator&&i.isFloat(o)?o.toString().replace(".",this._options.decimalseparator):"string"==typeof o?(o=o.replace(/"/g,'""'),(this._options.quoteStrings||o.indexOf(",")>-1||o.indexOf("\n")>-1||o.indexOf("\r")>-1)&&(o=this._options.quoteStrings+o+this._options.quoteStrings),o):"boolean"==typeof o?o?"TRUE":"FALSE":o},i.prototype.getCsv=function(){return this.csv},i.isFloat=function(o){return!(+o!==o||isFinite(o)&&!(o%1))},i}();w.J0=h;var t=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable},21426:(F,w,l)=>{l.d(w,{b:()=>T});var r=l(47394);class h extends r.w0{constructor(n,d){super()}schedule(n,d=0){return this}}const t={setInterval(O,n,...d){const{delegate:p}=t;return p?.setInterval?p.setInterval(O,n,...d):setInterval(O,n,...d)},clearInterval(O){const{delegate:n}=t;return(n?.clearInterval||clearInterval)(O)},delegate:void 0};var P=l(49039);const _={now:()=>(_.delegate||Date).now(),delegate:void 0};class i{constructor(n,d=i.now){this.schedulerActionCtor=n,this.now=d}schedule(n,d=0,p){return new this.schedulerActionCtor(this,n).schedule(p,d)}}i.now=_.now;const v=new class o extends i{constructor(n,d=i.now){super(n,d),this.actions=[],this._active=!1}flush(n){const{actions:d}=this;if(this._active)return void d.push(n);let p;this._active=!0;do{if(p=n.execute(n.state,n.delay))break}while(n=d.shift());if(this._active=!1,p){for(;n=d.shift();)n.unsubscribe();throw p}}}(class y extends h{constructor(n,d){super(n,d),this.scheduler=n,this.work=d,this.pending=!1}schedule(n,d=0){var p;if(this.closed)return this;this.state=n;const C=this.id,M=this.scheduler;return null!=C&&(this.id=this.recycleAsyncId(M,C,d)),this.pending=!0,this.delay=d,this.id=null!==(p=this.id)&&void 0!==p?p:this.requestAsyncId(M,this.id,d),this}requestAsyncId(n,d,p=0){return t.setInterval(n.flush.bind(n,this),p)}recycleAsyncId(n,d,p=0){if(null!=p&&this.delay===p&&!1===this.pending)return d;null!=d&&t.clearInterval(d)}execute(n,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const p=this._execute(n,d);if(p)return p;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,d){let C,p=!1;try{this.work(n)}catch(M){p=!0,C=M||new Error("Scheduled action threw falsy error")}if(p)return this.unsubscribe(),C}unsubscribe(){if(!this.closed){const{id:n,scheduler:d}=this,{actions:p}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,P.P)(p,this),null!=n&&(this.id=this.recycleAsyncId(d,n,null)),this.delay=null,super.unsubscribe()}}});var u=l(79360),b=l(8251);function T(O,n=v){return(0,u.e)((d,p)=>{let C=null,M=null,Z=null;const U=()=>{if(C){C.unsubscribe(),C=null;const A=M;M=null,p.next(A)}};function E(){const A=Z+O,S=n.now();if(S<A)return C=this.schedule(void 0,A-S),void p.add(C);U()}d.subscribe((0,b.x)(p,A=>{M=A,Z=n.now(),C||(C=n.schedule(E,O),p.add(C))},()=>{U(),p.complete()},void 0,()=>{M=C=null}))})}}}]);